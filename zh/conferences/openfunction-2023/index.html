<!doctype html><html lang=en-US><head><meta charset=utf-8><title>使用 OpenFunction 在任何基础设施上运行无服务器工作负载</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="KubeSphere 是在 Kubernetes 之上构建的以应用为中心的多租户容器平台，提供全栈的 IT 自动化运维的能力，简化企业的 DevOps 工作流。KubeSphere 提供了运维友好的向导式操作界面，帮助企业快速构建一个强大和功能丰富的容器云平台。"><meta name=keywords content="KubeSphere,Kubernetes,容器平台,DevOps,混合云"><meta property="og:type" content="article"><meta property="og:title" content="使用 OpenFunction 在任何基础设施上运行无服务器工作负载"><meta property="og:description" content="KubeSphere 是在 Kubernetes 之上构建的以应用为中心的多租户容器平台，提供全栈的 IT 自动化运维的能力，简化企业的 DevOps 工作流。KubeSphere 提供了运维友好的向导式操作界面，帮助企业快速构建一个强大和功能丰富的容器云平台。"><meta property="og:image" content="https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-openfunction.png"><meta property="og:url" content="https://openksc.github.io/zh/conferences/openfunction-2023/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@KubeSphere"><meta property="twitter:image" content="https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-openfunction.png"><meta name=docsearch:language content="zh-CN"><meta name=docsearch:version content><link rel=canonical href=https://kubesphere.io/zh/conferences/openfunction-2023/><link rel="shortcut icon" href=/images/favicons/favicon.ico><link rel=apple-touch-icon href=/images/favicons/apple-touch-icon.png sizes=180x180><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/svg+xml href=/images/favicons/favicon.svg><link rel=icon type=image/png href=/images/favicons/favicon.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg color=#00ad6e><meta name=msapplication-config content='/images/favicons/browserconfig.xml'><meta name=msapplication-TileColor content="#ffffff"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=/fonts/Roboto/stylesheet.css><link rel=stylesheet href=/fonts/ProximaNova/stylesheet.css><link rel=stylesheet href=/css/jquery.modal.min.css><link rel=stylesheet href=/css/viewer.min.css><link rel=stylesheet href=/swiper/swiper-bundle.min.css><link rel=stylesheet href=/scss/common.min.0c3fdcc05ec210321169846714f74b11c4a1baf09a1833fa9273b2347c81e636.css><script src=/js/jquery-3.7.1.min.js></script><script src=/js/viewer.min.js></script><script src=/js/jquery.modal.min.js></script><script src=/swiper/swiper-bundle.min.js></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0888981f1fa45d241b1fb6962da2963e",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-YYCVN36HT5"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-YYCVN36HT5")</script><script type=text/javascript>!function(e,t,n,s,o){e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},n=t.createElement("script"),tag=t.getElementsByTagName("script")[0],n.async=1,n.src=("https:"==document.location.protocol?"https://":"http://")+s,tag.parentNode.insertBefore(n,tag)}(window,document,"script","assets.giocdn.com/2.1/gio.js","gio"),gio("init","8a24ae300cbf8b8c",{}),gio("send")</script><link rel=stylesheet href=/scss/content.min.f73b326fbf8c5bd331900b0de21c7dde608a4926f482f6465f9ae1d9049b83ad.css><link rel=stylesheet href=/scss/markdown.min.db47186481122431dffae72d17dbbd51f90b66f022cc163458645709924e4eac.css></head><body><header class=navigation><div class=join-div><div class=content>🚀 KubeSphere v4.1.3 发布，多项优化与改进，欢迎体验！<a href=/zh/docs/v4.1/20-release-notes/release-v413/ target=_blank rel="noopener noreferrer">请查看 Release notes →</a>
<img id=close-join src=/images/header/close.svg alt=close></div></div><div class=common-layout><div class=header-container><a href=/zh/ aria-label=logo><img src=/images/header/logo.svg alt class=logo></a><ul class=nav><li class=menu-li><span class=menu-span>应用场景</span><ul class="dropdown-menu menu-2"><li><a href=/zh/devops/>拥抱一站式 DevOps 工作流</a></li><li><a href=/zh/service-mesh/>在 Kubernetes 运行微服务</a></li><li><a href=/zh/observability/>构建丰富的云原生可观测性</a></li></ul></li><li class=menu-li><span class=menu-span>资源</span><ul class="dropdown-menu menu-3"><li><a href=/zh/projects/>开源项目</a></li><li><a href=/zh/conferences/>开源峰会</a></li><li><a href=/zh/blogs/>技术博客</a></li><li><a href=/zh/videos/>视频资源</a></li><li><a href=/zh/learn/>云原生实战</a></li></ul></li><li class=menu-li><span class=menu-span>文档中心</span><ul class="dropdown-menu menu-4"><li><a href=/zh/docs/v4.1>v4.1 <img src=/images/header/star.svg alt=star></a></li><li><a href=/zh/docs/v3.4>v3.4</a></li><li><a href=/zh/docs/v3.3>v3.3</a></li><li><a href=https://dev-guide.kubesphere.io/extension-dev-guide/zh/ target=_blank rel="noopener noreferrer">扩展组件开发</a></li><li><a href=https://kube.design/ target=_blank rel="noopener noreferrer">Kube Design</a></li></ul></li><li class=menu-li><span class=menu-span>开源社区</span><ul class="dropdown-menu menu-5"><li><a href=/zh/contribution/>参与贡献</a></li><li><a href=/zh/live/>社区活动</a></li><li><a href=/zh/case/>案例学习</a></li><li><a href=/zh/partner/>合作伙伴</a></li><li><a href=/zh/user-group/>用户委员会</a></li><li><a href=/zh/news/>动态</a></li><li><a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md target=_blank rel="noopener noreferrer">版本计划</a></li><li><a href=https://www.kubesphere.io/zh/ target=_blank rel="noopener noreferrer">中国站</a></li><li><a href=https://github.com/kubesphere/community/tree/master/sig-advocacy-and-outreach/ospp-2025 target=_blank rel="noopener noreferrer">开源之夏 2025</a></li></ul></li><li><a data-docs=用户论坛 href=https://ask.kubesphere.io/forum target=_blank rel="noopener noreferrer">用户论坛</a></li><li><a data-docs=认证 href=https://kubesphere.cloud/certification/ target=_blank rel="noopener noreferrer">认证</a></li></ul><div class=right-menu><ul><li class=language-menu><div><img src=/images/header/black.svg alt>
<span>简体中文</span></div><ul class=dropdown-menu><li onclick='handleLangClick("zh","/zh/conferences/openfunction-2023/")'>简体中文</li></ul></li><li class=github-li><div class=github-star><a class=star-btn href=https://github.com/kubesphere/kubesphere rel="noopener noreferrer" target=_blank><span class=star-img></span>&nbsp;<span>Star</span>
</a><a class=social-count href=https://github.com/kubesphere/kubesphere/stargazers rel="noopener noreferrer" target=_blank></a></div></li><li class=menu-icon><img src=/images/header/menu.svg alt></li></ul></div></div></div><div id=modal-for-menu class=modal><ul class=nav><li data-check=0 class=menu-li><span class=menu-span>应用场景</span><ul class=dropdown-menu><li><a href=/zh/devops/>拥抱一站式 DevOps 工作流</a></li><li><a href=/zh/service-mesh/>在 Kubernetes 运行微服务</a></li><li><a href=/zh/observability/>构建丰富的云原生可观测性</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>资源</span><ul class=dropdown-menu><li><a href=/zh/projects/>开源项目</a></li><li><a href=/zh/conferences/>开源峰会</a></li><li><a href=/zh/blogs/>技术博客</a></li><li><a href=/zh/videos/>视频资源</a></li><li><a href=/zh/learn/>云原生实战</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>文档中心</span><ul class=dropdown-menu><li><a href=/zh/docs/v4.1>v4.1 <img src=/images/header/star.svg alt=star></a></li><li><a href=/zh/docs/v3.4>v3.4</a></li><li><a href=/zh/docs/v3.3>v3.3</a></li><li><a href=https://dev-guide.kubesphere.io/extension-dev-guide/zh/>扩展组件开发</a></li><li><a href=https://kube.design/>Kube Design</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>开源社区</span><ul class=dropdown-menu><li><a href=/zh/contribution/>参与贡献</a></li><li><a href=/zh/live/>社区活动</a></li><li><a href=/zh/case/>案例学习</a></li><li><a href=/zh/partner/>合作伙伴</a></li><li><a href=/zh/user-group/>用户委员会</a></li><li><a href=/zh/news/>动态</a></li><li><a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md>版本计划</a></li><li><a href=https://www.kubesphere.io/zh/>中国站</a></li><li><a href=https://github.com/kubesphere/community/tree/master/sig-advocacy-and-outreach/ospp-2025>开源之夏 2025</a></li></ul></li><li><a data-docs=用户论坛 href=https://ask.kubesphere.io/forum>用户论坛</a></li><li><a data-docs=认证 href=https://kubesphere.cloud/certification/>认证</a></li></ul><div class=link-div><a href=https://join.slack.com/t/kubesphere/shared_invite/zt-2b4t6rdb4-ico_4UJzCln_S2c1pcrIpQ target=_blank rel="noopener noreferrer" aria-label=slack><img src=/images/header/slack-hover.svg alt>
</a><a href=https://x.com/KubeSphere target=_blank rel="noopener noreferrer" aria-label=twitter><img src=/images/header/twitter-hover.svg alt>
</a><a href=https://github.com/kubesphere/kubesphere target=_blank rel="noopener noreferrer" aria-label=github><img src=/images/header/github-hover.svg alt></a></div></div></header><script>var bindNavMouseEvent,bindScrollChangeHeader,bindClickShowMenu,bindClickModalLi,bindClickClose,language,handleLangClick,githubApiLink="https://api.github.com/repos/kubesphere/kubesphere",getStar=function(){$(".social-count").hide(),$.getJSON(githubApiLink,function(e){$(".social-count").show().html(e.stargazers_count)})};getStar(),bindNavMouseEvent=function(e,t){t||(t=$(e));var n=!1;t.mouseenter(function(){if(n)return!1;n=!0,$(this).find(".dropdown-menu").fadeIn(200,function(){n=!1})}),t.mouseleave(function(){$(this).find(".dropdown-menu").fadeOut(200)})},bindScrollChangeHeader=function(){var t=100,e=$("header");window.addEventListener("scroll",function(){var t=window.scrollY;t>0?e.addClass("navigationScroll"):e.removeClass("navigationScroll")})},bindClickShowMenu=function(){$(".menu-icon").click(function(){$("#modal-for-menu").modal()})},bindClickModalLi=function(){$(".modal .menu-li").click(function(){var e=$(this).data("check");e===0?($(this).data("check",1),$(this).find(".dropdown-menu").slideDown(200)):($(this).data("check",0),$(this).find(".dropdown-menu").slideUp(200)),$(this).find(".menu-span").toggleClass("up")})},bindClickClose=function(){$("#close-join").click(function(){$(".navigation .join-div").hide(),$(".main-section").removeClass("padding")})},language="zh",bindClickClose(),bindScrollChangeHeader(),$(".header-container .menu-li").each(function(){bindNavMouseEvent("",$(this))}),bindNavMouseEvent(".header-container .language-menu"),bindNavMouseEvent(".header-container .btn-li"),bindClickShowMenu(),bindClickModalLi(),handleLangClick=function(e,t){try{localStorage.setItem("lang",e)}catch{}location.href=t}</script><section class=main-section><div class=common-layout><div class=breadcrumb><span><a href=/zh/conferences/>KubeCon & QCon</a> > </span><span>使用 OpenFunction 在任何基础设施上运行无服务器工作负载</span></div><div class='main-div middle-div'><div class=author>霍秉杰，王翼飞</div><span class=date>发布于：2023-09-27</span>&nbsp;&nbsp;&nbsp;
<span style=font-size:14px;color:#919aa3 id=busuanzi_container_page_pv>本文总阅读量：<span id=busuanzi_value_page_pv></span></span><h1>使用 OpenFunction 在任何基础设施上运行无服务器工作负载</h1><div class=share-1><div class=share><a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fopenksc.github.io%2fzh%2fconferences%2fopenfunction-2023%2f&text=%e4%bd%bf%e7%94%a8%20OpenFunction%20%e5%9c%a8%e4%bb%bb%e4%bd%95%e5%9f%ba%e7%a1%80%e8%ae%be%e6%96%bd%e4%b8%8a%e8%bf%90%e8%a1%8c%e6%97%a0%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%b7%a5%e4%bd%9c%e8%b4%9f%e8%bd%bd" target=_blank rel="noopener noreferrer"><img src=/images/share/Twitter.svg alt="twitter icon">
</a><a href="https://reddit.com/submit?url=https%3a%2f%2fopenksc.github.io%2fzh%2fconferences%2fopenfunction-2023%2f&title=%e4%bd%bf%e7%94%a8%20OpenFunction%20%e5%9c%a8%e4%bb%bb%e4%bd%95%e5%9f%ba%e7%a1%80%e8%ae%be%e6%96%bd%e4%b8%8a%e8%bf%90%e8%a1%8c%e6%97%a0%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%b7%a5%e4%bd%9c%e8%b4%9f%e8%bd%bd" target=_blank rel="noopener noreferrer"><img src=/images/share/Reddit.svg alt="reddit icon">
</a><a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fopenksc.github.io%2fzh%2fconferences%2fopenfunction-2023%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Facebook.svg alt="facebook icon">
</a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fopenksc.github.io%2fzh%2fconferences%2fopenfunction-2023%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Linkedin.svg alt="linkedin icon">
</a><a href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fopenksc.github.io%2fzh%2fconferences%2fopenfunction-2023%2f&t=%e4%bd%bf%e7%94%a8%20OpenFunction%20%e5%9c%a8%e4%bb%bb%e4%bd%95%e5%9f%ba%e7%a1%80%e8%ae%be%e6%96%bd%e4%b8%8a%e8%bf%90%e8%a1%8c%e6%97%a0%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%b7%a5%e4%bd%9c%e8%b4%9f%e8%bd%bd" target=_blank rel="noopener noreferrer"><img src=/images/share/HackerNews.svg alt="hackernews icon"></a></div></div><div class=content><div class=md-body><h2 id=议题信息>议题信息</h2><h3 id=议题简介>议题简介</h3><p>云原生技术的崛起使得我们可以以相同的方式在公有云、私有云或本地数据中心运行应用程序或工作负载。但是，对于需要访问不同云或开源中间件的各种 BaaS 服务的无服务器工作负载来说，这并不容易。在这次演讲中，OpenFunction 维护者将详细介绍如何使用 OpenFunction 解决这个问题，以及 OpenFunction 的最新更新和路线图：</p><ul><li>使用 Dapr 将 FaaS 与 BaaS 解耦</li><li>使用 Dapr 代理而不是 Dapr sidecar 来加速函数启动</li><li>使用 Kubernetes Gateway API 构建 OpenFunction 网关</li><li>使用 WasmEdge 运行时运行 WebAssembly 函数</li><li>OpenFunction 在自动驾驶行业的应用案例</li><li>最新更新和路线图</li></ul><h3 id=分享者简介>分享者简介</h3><p>霍秉杰：KubeSphere 可观测性、边缘计算和 Serverless 团队负责人，Fluent Operator 和 OpenFunction 项目的创始人，还是多个可观测性开源项目包括 Kube-Events、Notification Manager 等的作者，热爱云原生技术，并贡献过 KEDA、Prometheus Operator、Thanos、Loki 和 Falco 等知名开源项目。</p><p>王翼飞：青云科技资深软件工程师，负责开发和维护 OpenFunction 项目。专注于 Serverless 领域的研发，对 Knative、Dapr、Keda 等开源项目有深入的了解和实践经验。</p><h3 id=视频回放>视频回放</h3><video id=videoPlayer controls preload=true>
<source src=https://kubesphere-community.pek3b.qingstor.com/videos/Run-Serverless-Workloads-on-Any-Infrastructure-with-OpenFunction.mp4 type=video/mp4></video><h3 id=ppt-下载>PPT 下载</h3><p>关注公众号【KubeSphere云原生】，后台回复关键词 <code>KubeCon-2023</code> 即可获取 PPT 下载链接。</p><p><strong>以下是本分享对应的文章内容。整理人：赵法威。</strong></p><h2 id=前言>前言</h2><p>本文主要包括以下几个部分：</p><ul><li>构建开源 FaaS 平台的必要性与可⾏性</li><li>OpenFunction 简介</li><li>冷启动优化：Dapr proxy 模式及 Wasm ⽀持</li><li>OpenFunction 在⾃动驾驶领域的应⽤</li><li>社区、路线图与 Demo</li></ul><h2 id=构建开源-faas-平台的必要性>构建开源 FaaS 平台的必要性</h2><p>什么是 Serverless？加州大学伯克利分校在论文 《A Berkeley View on Serverless Computing》给出了明确定义：Serverless computing = FaaS + BaaS。</p><p>对于函数计算平台，函数是不可或缺的，即 FaaS 是主体。同时，FaaS 也需要和后端的 BaaS 服务产生联系，所以丰富的后端服务是函数的重要依托。</p><p>云厂商通常提供托管的函数计算（FaaS）和各类后端中间件服务，这样就会把开发者锁定在自己的云平台之上。</p><p>现阶段我们也看到，有一些公司因为云上的成本过高，想要下云或者从一个云迁移到另一个云也就是跨云迁移。如果其函数绑定在云的 BaaS 服务上，则不利于跨云的迁移。所以，跨云迁移之后如何去处理各个云厂商 BaaS 服务接口的差异，成了目前较大的挑战。</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-ofo-1.png alt></p><p>从另一个角度看，一个 FaaS 平台通常需要支持多种语言，也会利用到众多后端服务。举例来讲，5 种语言需要和 10 种后端服务对接，那么这样做就会有 5×10 即 50 种实现， 还是比较复杂的。</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-ofo-2.png alt></p><h2 id=构建开源-faas-平台的可行性>构建开源 FaaS 平台的可行性</h2><p>如何解决上述问题呢？我们可以引入 Dapr 来简化函数与众多后端服务的交互。</p><p>Dapr 是一个分布式应用的运行时，能够把分布式应用的能力抽象成一个个 Building Block。</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-ofo-3.png alt></p><p>举几个例子来讲，一般的分布式应用程序都有 service 之间的相互调用，所以会有一个 service 的 Building Block；通常也会有 publish、subscribe 这样的模式，所以也会有一个 <code>publish and subscribe</code> 的 Building Block；此外还会有一些输入输出，所以有一个 Binding Building Block；当然还有其他的，可参考上图。</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-ofo-4.png alt></p><p>这些 Building Block 会由一系列的 components 支撑，比如 PubSub Brokers 可以支持各种云上的 MQ、AWS sqs 或者一些开源的中间件如 Redis、Kafka；Bindings 也会支持一些云上的存储和开源组件如 Kafka、MySQL、Redis。</p><p>所以 Dapr 就能解决上文提到的问题。FaaS 平台的每一种语言，只需要和 Dapr 交互，Dapr 的 API 再和构成每一个 Building Block 的 component 交互，通过 Dapr 去处理与众多后端服务的交互，这样就把复杂度从 N × M 降为了 N × 1.</p><p>另外 Dapr 解耦了 FaaS 平台与各云厂商的 BaaS，做到了云厂商中立，解决了跨云迁移的问题。</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-ofo-5.png alt></p><h2 id=openfunction-简介>OpenFunction 简介</h2><h3 id=openfunction-是什么>OpenFunction 是什么</h3><p>OpenFunction 是青云科技在 2022 年初开源的，在 2022 年 4 月成为了 CNCF 的 Sandbox 项目。</p><ul><li>云厂商中立<ul><li>与各个云厂商的 BaaS 服务松耦合</li><li>通过 Dapr，简化了与各云厂商或开源 BaaS 服务的集成</li></ul></li><li>同时支持同步与异步函数<ul><li>同步函数基于 Kubernetes Gateway API 实现了 OpenFunction Gateway 作为函数⼊⼝</li><li>异步函数可直接从事件源消费事件，并可根据事件源特有的指标自动伸缩</li></ul></li><li>支持直接从函数代码生成符合 OCI 标准的函数镜像<ul><li>基于 Cloud Native Buildpacks 实现</li></ul></li><li>支持 0 与 N 之间的水平自动伸缩</li><li>既能运行函数，也能运行 Serverless 应用</li><li>支持 Wasm Runtime</li><li>更完善的 CI/CD</li></ul><p><img src=https://openfunction.dev/images/docs/en/introduction/what-is-openfunction/openfunction-architecture.svg/ alt></p><p>上图是 OpenFunction 的架构图，总体分为：Build，Function，Serving 和 Events 几个部分。</p><ul><li>Function：Function 是一个主控模块，控制函数的构建和 serving，Build、Serving 和 Status 等信息也会在 Function 的 CRD 中显示。</li><li>Build：支持使用 Buildpacks 的方式构建函数的镜像，也支持使用 Dockerfile 的方式构建 Serverless 应用；后端技术是 Shipwright，Shipwright 可以切换构建镜像的引擎，所以可以通过 Shipwright 选择不同的镜像构建工具，最终将应用构建为容器镜像。</li><li>Serving : 通过 Serving CRD 将应用部署到不同的运行时中，可以选择同步运行时或异步运行时。同步运行时可以通过 Knative Serving 或者 Keda-HTTP 来支持，异步运行时通过 Dapr+Keda 来支持。同时现在也支持 WasmEdgeRuntime 来支持 Wasm 函数。</li><li>Events : 对于事件驱动型函数来说，需要提供事件管理的能力。由于 Knative 事件管理过于复杂，所以我们研发了一个新型事件管理驱动叫 OpenFunction Events。</li></ul><h3 id=openfunction-events>OpenFunction Events</h3><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-ofo-6.png alt></p><p>EventBus 利用 Dapr 的能力解耦了 EventBus 与底层具体 Message Broker 的绑定，你可以对接各种各样的 MQ。</p><h3 id=openfunction-gateway>OpenFunction Gateway</h3><p>OpenFunction Gateway 是 OpenFunction 0.7.0 增加的新特性，是基于 Kubernetes Gateway API 来实现的。之所以选择 Kubernetes Gateway API，是因为其 CRD 和其下游实现是解耦的，用户可以选择自己喜欢的 Gateway 实现，比如 APISIX、Istio、Contour 等；另外 Kubernetes Gateway API 也提供了一些新的特性，比如 HTTP 流量的分发、跨 Namespace routing 功能。</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-ofo-7.png alt></p><p>在之前 OpenFunction 需要把流量转发到 Knative 的 Gateway，然后再路由到 Knative 的 Revision，链路比较长。有了 OpenFunction Gateway，可以直接把流量转发到 Knative 的 Revision。也就是说可以不再依赖 Knative 网络相关的组件，整个流量转发的链路也会变短。</p><h3 id=为什么引入-openfunction-gateway>为什么引入 OpenFunction Gateway</h3><p>通过 Knative Gateway 访问同步函数需指定⼀个由随机串组成的 service url，不可预测且对⽤户不友好。</p><p>通过 OpenFunction Gateway 访问同步函数，可通过函数名及 namespace ⽣成函数访问 url。另外还可以通过 Gateway 的 Service 加上 Function 的 namespace 和 name 来进行 path-based 的访问，也可以基于 OpenFunction Gateway 的 IP 加上 Host 相关的 Headers 来进行 host-based 访问。</p><p>如果我们想在集群外部访问集群内部的 Function，我们可以在 OpenFunction Gateway 上面配置 domain 相关的字段，配置成 magic DNS，这样我们就可以直接在集群外部通过域名来访问集群内部的 Function。</p><h2 id=冷启动优化>冷启动优化</h2><p>冷启动优化一直是 FaaS 平台的难点。</p><p>之前我们采用的是 Dapr sidecar 模式，但是会影响 Function 启动的时间。函数很小的情况下，Dapr sidecar 的 container 启动时间以及 Dapr client 初始化所需要的时间，比 Function 启动时间更长。</p><p>我们设计了 Dapr Proxy 模式，就是让所有 Function 的 pod 共享一个 Dapr sidecar。如果我们将 Function 扩容到很大的值，副本数较多，那么 sidecar 也会造成大量的资源开销，采用这个模式将有效避免这种情况。</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-ofo-8.png alt></p><p>接下来我们还有一个基于 Pool 的冷启动优化的计划。上文中提到的 Proxy 模式，对 Function 启动时间的优化是有限的。所以我们考虑采用 Pool 的方式来优化冷启动。</p><p>引入一个预创建的 Pod Pool，在有调用请求时，可以根据请求的相关信息判断要调用哪个 Function，然后对这个 Function 的 code 热加载，将其变成针对某个 Function 的 Pod，后续的流量就可以直接进入到这个特定的 Function Pod，这个过程不需要 K8s Pod 调度创建等逻辑的参与，所以这个方式对冷启动的时间优化是非常显著的。</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-ofo-9.png alt></p><h2 id=持-wasmedge-作为-wasm-运时>⽀持 WasmEdge 作为 Wasm 运⾏时</h2><p>在 OpenFunction 1.0.0 中，我们支持 WasmEdge 作为 Wasm 运行时。WebAssembly 作为 FaaS 平台运行时，具有很多优势，比如启动时间短、镜像体积小、安全性比较高。另外 WasmEdge 对 HTTP 支持也比较好。</p><p>但是目前 Wasm Function 访问后端服务有一个问题，因为 WebAssembly 程序访问 API 是受限的，所以也需要通过 Dapr 提供相对统一的方式来完成对后端服务的访问。</p><p>目前 Dapr、Rust、SDK 以及 Dapr WasmEdge 等相关的项目，还不够成熟，所以我们暂时还没有集成。后续相关生态成熟之后，再进行集成。</p><h2 id=openfunction-在动驾驶领域的应>OpenFunction 在⾃动驾驶领域的应⽤</h2><p>下面介绍一个将 OpenFunction 用在自动驾驶领域的案例，来自 OpenFunction 的社区用户——驭势科技。</p><p>简单来讲，自动驾驶就是车端会上传很多传感器的数据到云端，云端再对这些数据进行处理。</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-ofo-10.png alt></p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-ofo-11.png alt></p><p>上图是云端的架构图。举例来说，车端的 MQTT Broker 将云端的数据传到云端的 MQ 上，运维人员会创建多种异步函数和同步函数来处理这些数据。MQTT topic 的数据会由一个函数处理，其他数据由另外一个函数处理，处理完的数据分别存到了不同的后端服务里，因为业务比较多，所以可能是不同的团队去去实现的，那么就需要用不同的语言去实现。</p><h3 id=异步消息队列实时数据--prometheus-指标>异步：消息队列实时数据 → Prometheus 指标</h3><p>驭势科技还有一个比较高阶的使用例子。</p><p>车端上传 MQTT 的数据，通过异步函数从 MQTT 的数据提取出 Metrics，再将其发送到 Prometheus 的 Pushgateway，这种方式相当于将车端的数据变成了 Metrics 再存储下来。</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-ofo-12.png alt></p><h3 id=为什么动驾驶需要云商中的-serverless-平台>为什么⾃动驾驶需要云⼚商中⽴的 Serverless 平台？</h3><ul><li>对于云商中立的需求<ul><li>不同的客户要求部署到不同的云厂商</li><li>一些客户的车端数据比较敏感，要求放到和公有云隔离的环境</li><li>不同的云⼚商有不同的后端服务，如果没有⼀个云⼚商中⽴的云平台，对于同⼀处理逻辑则需要为对接的每⼀个云⼚商都实现相似的服务</li></ul></li><li>对于 Serverless 的需求<ul><li>数据处理逻辑多样同时经常变化，来⾃同⼀数据源的数据在不同场景下的处理逻辑不尽相同</li><li>⾃动驾驶涉及的模块较多，不同的模块由不同的团队负责，需要多语⾔⽀持</li><li>⼤量⻋端数据需要实时处理；⾃动驾驶⻋辆也有潮汐的特性，数据处理需求有⾼峰和低⾕</li></ul></li></ul><h2 id=社区路线图与-demo>社区、路线图与 Demo</h2><h3 id=openfunction-路线图>OpenFunction 路线图</h3><ul><li>函数框架<ul><li>⽀持 Dapr State Management 与 Dapr Workflow</li><li>⽀持更多语⾔的异步函数框架包括 Python、Rust</li><li>⽀持将 Java 函数编译成 Native 程序运⾏在 Quarkus 环境中</li></ul></li><li>函数运行时<ul><li>实现 Serverless ⼯作流（Workflow）</li><li>预研基于 Pod Pool 的冷启动优化⽅案</li><li>⽀持 OpenTelemetry 作为另⼀个函数追踪⽅案</li></ul></li><li>用户工具<ul><li>增加 OpenFunction 控制台</li></ul></li><li>与 AIGC 结合</li></ul><h3 id=早起贡献及应用者>早起贡献及应用者</h3><ul><li>越来越多的社区贡献者<ul><li>主要 Maintainer 来⾃ KubeSphere 团队</li><li>SkyWalking PMC 成员 @arugal 实现了 SkyWalking 和 OpenFunction Go Functions Framework 的集成</li><li>驭势科技 (UISEE) @webup @kehuili 以及印度的贡献者正在参与 Node.js 和 Python Functions Framework 的开发</li><li>SAP @lizzze 参与 functions-framework-go 的开发</li><li>来⾃阿⾥云 、微众银⾏等社区贡献者也在积极参与</li><li>乌克兰的贡献者在帮忙维护 openfunction.dev</li></ul></li><li>越来越多的公司开始采用<ul><li>国内某电信公司采用 OpenFunction 构建云函数计算平台</li><li>驭势科技（UISEE）采用 OpenFunction 处理车云数据</li><li>微众银行</li><li>某证券公司</li><li>喜马拉雅</li><li>云学堂</li></ul></li></ul><h2 id=参与-openfunction-社区>参与 OpenFunction 社区</h2><p>欢迎各位小伙伴参与社区！</p><ul><li>OpenFunction: <a href=https://github.com/OpenFunction/OpenFunction target=_blank rel="noopener noreferrer">https://github.com/OpenFunction/OpenFunction</a></li><li>Website: <a href=https://openfunction.dev/ target=_blank rel="noopener noreferrer">https://openfunction.dev/</a></li><li>Samples: <a href=https://github.com/OpenFunction/samples target=_blank rel="noopener noreferrer">https://github.com/OpenFunction/samples</a></li></ul><h2 id=附录函数示例>附录：函数示例</h2><h3 id=同步函数触发异步函数示例>同步函数触发异步函数示例</h3><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/kubecon-2023-ofo-13.png alt></p><ul><li><p>同步函数： <a href=https://github.com/OpenFunction/samples/tree/main/functions/knative/with-output-binding target=_blank rel="noopener noreferrer">https://github.com/OpenFunction/samples/tree/main/functions/knative/with-output-binding</a></p></li><li><p>异步函数： <a href=https://github.com/OpenFunction/samples/tree/main/functions/async/bindings/kafka-input target=_blank rel="noopener noreferrer">https://github.com/OpenFunction/samples/tree/main/functions/async/bindings/kafka-input</a></p></li></ul><h3 id=更多函数示例>更多函数示例</h3><ul><li><p>Keda HTTP Engine: <a href=https://github.com/OpenFunction/OpenFunction/blob/main/config/samples/function-kedahttp-sample-serving.yaml target=_blank rel="noopener noreferrer">https://github.com/OpenFunction/OpenFunction/blob/main/config/samples/function-kedahttp-sample-serving.yaml</a></p></li><li><p>Wasm 函数: <a href=https://github.com/OpenFunction/samples/tree/main/functions/knative/wasmedge/http-server target=_blank rel="noopener noreferrer">https://github.com/OpenFunction/samples/tree/main/functions/knative/wasmedge/http-server</a></p></li><li><p>Redis state store:</p><ul><li><a href=https://github.com/OpenFunction/java-samples/blob/main/src/main/resources/functions/redis-state-store.yaml target=_blank rel="noopener noreferrer">https://github.com/OpenFunction/java-samples/blob/main/src/main/resources/functions/redis-state-store.yaml</a></li><li><a href=https://github.com/OpenFunction/java-samples/blob/main/src/main/java/dev/openfunction/samples/StateStore.java target=_blank rel="noopener noreferrer">https://github.com/OpenFunction/java-samples/blob/main/src/main/java/dev/openfunction/samples/StateStore.java</a></li></ul></li><li><p>Serverless Applications:</p><ul><li>with a Dockerfile: <a href=https://github.com/OpenFunction/samples/tree/main/apps/buildah/go target=_blank rel="noopener noreferrer">https://github.com/OpenFunction/samples/tree/main/apps/buildah/go</a></li><li>without a Dockerfile: <a href=https://github.com/OpenFunction/samples/tree/main/apps/buildpacks/java target=_blank rel="noopener noreferrer">https://github.com/OpenFunction/samples/tree/main/apps/buildpacks/java</a></li></ul></li></ul></div></div><div class=share-2><div class=share><a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fopenksc.github.io%2fzh%2fconferences%2fopenfunction-2023%2f&text=%e4%bd%bf%e7%94%a8%20OpenFunction%20%e5%9c%a8%e4%bb%bb%e4%bd%95%e5%9f%ba%e7%a1%80%e8%ae%be%e6%96%bd%e4%b8%8a%e8%bf%90%e8%a1%8c%e6%97%a0%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%b7%a5%e4%bd%9c%e8%b4%9f%e8%bd%bd" target=_blank rel="noopener noreferrer"><img src=/images/share/Twitter.svg alt="twitter icon">
</a><a href="https://reddit.com/submit?url=https%3a%2f%2fopenksc.github.io%2fzh%2fconferences%2fopenfunction-2023%2f&title=%e4%bd%bf%e7%94%a8%20OpenFunction%20%e5%9c%a8%e4%bb%bb%e4%bd%95%e5%9f%ba%e7%a1%80%e8%ae%be%e6%96%bd%e4%b8%8a%e8%bf%90%e8%a1%8c%e6%97%a0%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%b7%a5%e4%bd%9c%e8%b4%9f%e8%bd%bd" target=_blank rel="noopener noreferrer"><img src=/images/share/Reddit.svg alt="reddit icon">
</a><a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fopenksc.github.io%2fzh%2fconferences%2fopenfunction-2023%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Facebook.svg alt="facebook icon">
</a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fopenksc.github.io%2fzh%2fconferences%2fopenfunction-2023%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Linkedin.svg alt="linkedin icon">
</a><a href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fopenksc.github.io%2fzh%2fconferences%2fopenfunction-2023%2f&t=%e4%bd%bf%e7%94%a8%20OpenFunction%20%e5%9c%a8%e4%bb%bb%e4%bd%95%e5%9f%ba%e7%a1%80%e8%ae%be%e6%96%bd%e4%b8%8a%e8%bf%90%e8%a1%8c%e6%97%a0%e6%9c%8d%e5%8a%a1%e5%99%a8%e5%b7%a5%e4%bd%9c%e8%b4%9f%e8%bd%bd" target=_blank rel="noopener noreferrer"><img src=/images/share/HackerNews.svg alt="hackernews icon"></a></div></div></div><div class=aside><div class=inner-div><div class=title>目录</div><div class=tabs><nav id=TableOfContents><ul><li><a href=#议题信息>议题信息</a><ul><li><a href=#议题简介>议题简介</a></li><li><a href=#分享者简介>分享者简介</a></li><li><a href=#视频回放>视频回放</a></li><li><a href=#ppt-下载>PPT 下载</a></li></ul></li><li><a href=#前言>前言</a></li><li><a href=#构建开源-faas-平台的必要性>构建开源 FaaS 平台的必要性</a></li><li><a href=#构建开源-faas-平台的可行性>构建开源 FaaS 平台的可行性</a></li><li><a href=#openfunction-简介>OpenFunction 简介</a><ul><li><a href=#openfunction-是什么>OpenFunction 是什么</a></li><li><a href=#openfunction-events>OpenFunction Events</a></li><li><a href=#openfunction-gateway>OpenFunction Gateway</a></li><li><a href=#为什么引入-openfunction-gateway>为什么引入 OpenFunction Gateway</a></li></ul></li><li><a href=#冷启动优化>冷启动优化</a></li><li><a href=#持-wasmedge-作为-wasm-运时>⽀持 WasmEdge 作为 Wasm 运⾏时</a></li><li><a href=#openfunction-在动驾驶领域的应>OpenFunction 在⾃动驾驶领域的应⽤</a><ul><li><a href=#异步消息队列实时数据--prometheus-指标>异步：消息队列实时数据 → Prometheus 指标</a></li><li><a href=#为什么动驾驶需要云商中的-serverless-平台>为什么⾃动驾驶需要云⼚商中⽴的 Serverless 平台？</a></li></ul></li><li><a href=#社区路线图与-demo>社区、路线图与 Demo</a><ul><li><a href=#openfunction-路线图>OpenFunction 路线图</a></li><li><a href=#早起贡献及应用者>早起贡献及应用者</a></li></ul></li><li><a href=#参与-openfunction-社区>参与 OpenFunction 社区</a></li><li><a href=#附录函数示例>附录：函数示例</a><ul><li><a href=#同步函数触发异步函数示例>同步函数触发异步函数示例</a></li><li><a href=#更多函数示例>更多函数示例</a></li></ul></li></ul></nav></div></div></div></div></section><div class=SubscribeForm><div class=innerBox><img class=close src=/images/home/close.svg alt=close><p class=description>通过邮件接收 KubeSphere 最新的技术博客与产品更新的通知</p><div id=blog_formAddress data-actionaddress="https://www.sendcloud.net/v3/api/subInvite/subscription?invitecode=1dc5a4fb-894c-4470-b01d-ca7fa9d47a46" data-usesendcloud=true data-lang=zh><input name=EMAIL id=email-input-blog type=text placeholder>
<button id=email-submit-blog>订阅</button>
<span id=message_blog data-message1=请提供您的邮箱 data-message2=请输入有效的邮箱地址! data-message3=邮箱地址已经存在 style=color:red></span><span id=message1_blog style=color:#00a971 data-success=订阅成功啦，我们保证不会给你发垃圾邮件的啦></span></div></div></div><footer><div class=footer><div class="footer-main common-layout"><div class=up-main><div class=left-div><img src=/images/logo.svg alt class=foot-logo><p>通过邮件接收 KubeSphere 最新的技术博客与产品更新的通知</p><div id=formAddress data-actionaddress="https://www.sendcloud.net/v3/api/subInvite/subscription?invitecode=1dc5a4fb-894c-4470-b01d-ca7fa9d47a46" data-usesendcloud=true data-lang=zh><input name=EMAIL id=email-input type=text placeholder=请输入您的邮箱地址>
<button id=email-submit>订阅</button></div><span id=message data-message1=请提供您的邮箱 data-message2=请输入有效的邮箱地址! data-message3=邮箱地址已经存在></span><span id=message1 style=color:#00a971 data-success=订阅成功啦，我们保证不会给你发垃圾邮件的啦></span><script>var bindSubmit=function(){var e=$("#email-input");$("#email-submit").click(function(t){t.stopPropagation();var s,o,n=e.val(),i=$("#message").data("message1"),a=$("#message").data("message2"),r=$("#message").data("message3"),c=$("#message1").data("success");if(n)if(validateEmail(n)){if(s=$("#formAddress").data("usesendcloud"),!s)return;o=$("#formAddress").data("actionaddress"),$.post({type:"post",url:o,data:{email:$("#email-input").val().toString()},success:function(){showSuccessMessage(c),setTimeout(function(){$("#email-input").val("")},1e3)},error:function(){showMessage(r)}})}else t.preventDefault(),showMessage(a);else t.preventDefault(),showMessage(i)})},validateEmail=function(e){var t=/^[A-Za-z0-9]+([_.][A-Za-z0-9]+)*@([A-Za-z0-9-]+\.)+[A-Za-z]{2,6}$/;return t.test(e)},showMessage=function(e){$("#message").html(e).show()},showSuccessMessage=function(e){$("#message1").html(e).show()},bindHideMessage=function(){$(window).click(function(){$("#message").hide(),$("#message1").hide()})},bindClose=function(){$(".formBox .close").click(function(e){e.stopPropagation(),$(".formBox").fadeOut()})};bindSubmit(),bindClose(),bindHideMessage()</script><span id=message data-message1=请提供您的邮箱 data-message2=请输入有效的邮箱地址!></span></div><div class=right-div><ul class=common-flex-layout><li class=nowrap-li><div class=h3>应用场景</div><a href=/zh/devops/>拥抱一站式 DevOps</a>
<a href=/zh/service-mesh/>在 K8s 运行微服务</a>
<a href=/zh/observability/>构建云原生可观测性</a>
<a href=https://github.com/kubesphere/kubekey target=_blank rel="noopener noreferrer">K8s 一键部署与运维</a>
<a href=https://github.com/OpenFunction/OpenFunction target=_blank rel="noopener noreferrer">构建 FaaS 平台与 Serverless 架构</a>
<a href=https://github.com/openpitrix/openpitrix target=_blank rel="noopener noreferrer">多云应用管理平台</a></li><li class=nowrap-li><div class=h3>资源</div><a href=/zh/projects/>开源项目</a>
<a href=/zh/blogs/>技术博客</a>
<a href=/zh/conferences/>开源峰会</a>
<a href=/zh/videos/>视频资源</a>
<a href=/zh/learn/>云原生实战</a></li><li class=nowrap-li><div class=h3>文档中心</div><a href=/zh/docs/v4.1/01-intro/01-introduction/>产品介绍</a>
<a href=/zh/docs/v4.1/03-installation-and-upgrade/02-install-kubesphere/02-install-kubernetes-and-kubesphere/>如何安装</a>
<a href=/zh/docs/v4.1/02-quickstart/>快速入门</a>
<a href=/zh/docs/v3.4/reference/api-docs/>API 文档</a></li><li class=nowrap-li><div class=h3>开源社区</div><a href=/zh/contribution/>参与贡献</a>
<a href=/zh/live/>社区活动</a>
<a href=/zh/case/>案例学习</a>
<a href=/zh/partner/>合作伙伴</a>
<a href=/zh/user-group/>用户委员会</a>
<a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md target=_blank rel="noopener noreferrer">版本计划</a>
<a href=https://kubesphere.com.cn/ target=_blank rel="noopener noreferrer">中国站</a>
<a href=https://ask.kubesphere.io/forum target=_blank rel="noopener noreferrer">中文论坛</a>
<a href=https://kubesphere.io target=_blank rel="noopener noreferrer">全球站</a></li><li class=nowrap-li><div class=h3>产品与服务</div><a href=https://aws.amazon.com/cn/quickstart/architecture/qingcloud-kubesphere/ target=_blank rel="noopener noreferrer">KubeSphere on AWS</a>
<a href=https://market.azure.cn/marketplace/apps/qingcloud.kubesphere target=_blank rel="noopener noreferrer">KubeSphere on Azure</a>
<a href=https://marketplace.digitalocean.com/apps/kubesphere target=_blank rel="noopener noreferrer">KubeSphere on DigitalOcean</a>
<a href=https://www.qingcloud.com/products/kubesphereqke target=_blank rel="noopener noreferrer">KubeSphere on QingCloud(QKE)</a>
<a href=https://kubesphere.com.cn/kse/ target=_blank rel="noopener noreferrer">KubeSphere 企业版</a>
<a href=https://kubesphere.cloud/ksv/ target=_blank rel="noopener noreferrer">KubeSphere 虚拟化平台</a>
<a href=https://kubesphere.com.cn/marketplace/ target=_blank rel="noopener noreferrer">云原生扩展组件市场</a>
<a href=https://kubesphere.cloud target=_blank rel="noopener noreferrer">云原生应用服务平台</a>
<a href=https://m.qingcloud.com/p/aec50 target=_blank rel="noopener noreferrer">了解商业产品与咨询合作</a></li></ul></div></div><div class=down-main><div class=img-div><a class=wechat href=javascript:void(0); aria-label=wechat><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28" height="28" viewBox="0 0 28 28"><defs><path id="a" d="M0 0h15.673v12.156H0z"/></defs><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="13" cy="13" r="13" stroke="#B6C2CD"/><g transform="translate(5 7)"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><path fill="currentColor" d="M15.673 7.898c0-2.061-2.173-3.74-4.619-3.74-2.59.0-4.625 1.679-4.625 3.74.0 2.066 2.035 3.738 4.625 3.738.542.0 1.09-.13 1.632-.256l1.493.776-.408-1.29c1.09-.776 1.902-1.81 1.902-2.968zm-6.119-.645c-.27.0-.541-.257-.541-.514.0-.256.27-.514.541-.514.41.0.681.258.681.514.0.257-.271.514-.681.514zm2.994.0c-.27.0-.541-.257-.541-.514.0-.256.27-.514.54-.514.41.0.681.258.681.514.0.257-.277.514-.68.514z" mask="url(#b)"/><path fill="currentColor" d="M10.602 3.674c.177.0.356.011.533.029C10.657 1.576 8.27.0 5.543.0 2.498.0.0 1.974.0 4.485c0 1.45.829 2.64 2.216 3.564l-.552 1.588 1.94-.929c.693.129 1.251.263 1.94.263.17.0.343-.005.515-.022a3.68 3.68.0 01-.172-1.104c0-2.302 2.081-4.171 4.715-4.171zM7.618 2.243c.417.0.693.263.693.66s-.276.66-.693.66c-.418.0-.835-.263-.835-.66.006-.398.423-.66.835-.66zm-3.88 1.319c-.417.0-.834-.263-.834-.66s.417-.66.834-.66c.418.0.695.263.695.66.0.392-.277.66-.695.66z" mask="url(#b)"/></g></g></svg><div class=hide-div><img src=/images/home/wechat.svg alt></div></a><a class=facebook-a href=https://www.facebook.com/kubesphere target=_blank aria-label=facebook></a><a class=twitter-a href=https://x.com/KubeSphere target=_blank aria-label=twitter rel="noopener noreferrer"></a><a class=linkedin-a href=https://www.linkedin.com/company/kubesphere/ target=_blank aria-label=linkedin rel="noopener noreferrer"></a><a class=bilibili-a href=https://space.bilibili.com/438908638 target=_blank aria-label=bilibili rel="noopener noreferrer"></a><a class=slack-a href=https://join.slack.com/t/kubesphere/shared_invite/zt-2b4t6rdb4-ico_4UJzCln_S2c1pcrIpQ target=_blank aria-label=slack rel="noopener noreferrer"></a><a class=github-a href=https://github.com/kubesphere/kubesphere target=_blank aria-label=github rel="noopener noreferrer"></a><a class=medium-a href=https://itnext.io/@kubesphere target=_blank aria-label=medium rel="noopener noreferrer"></a></div><p class=p1></p><p class=case><a href=http://www.beian.miit.gov.cn/ target=_blank rel="noopener noreferrer"><span>京ICP备13019086号</span>
</a><a target=_blank rel="noopener noreferrer" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010502041003"><img src=/images/footer/case-icon.png alt=备案图标>
<span>京公网安备 11010502041003号</span></a></p></div></div></div><div class=cookie><div class=common-layout><p>您的隐私对我们很重要。我们使用Cookie来记住订阅详细信息，优化网站功能并交付根据您的兴趣量身定制的内容。要了解更多信息，请参阅我们的<a href=/zh/privacy>隐私政策</a>.</p><button>
接受并继续</button></div></div></footer><script>var lazyLoad=function(e,t){for(var n,o,i,s=0;s<t;s++){if(n=e.eq(s),o=n.attr("data-loaded"),o)continue;n.offset().top<parseInt($(window).height())+parseInt($(window).scrollTop())&&(i=n.attr("src"),n.attr("src",i),n.attr("data-loaded",!0))}},bindLayLoad=function(){var e=$("img"),t=e.length;lazyLoad(e,t),$(window).scroll(function(){lazyLoad(e,t)})},bindAddPadding=function(){var e=$("#close-join");e.length>0&&$(".main-section").addClass("padding")},docCookies={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t){return!!e&&!/^(?:expires|max-age|path|domain|secure)$/i.test(e)&&(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t),!0)}},bindHideCookie=function(){var t=docCookies.getItem("hasAuth"),e=$(".cookie");t?e.hide():e.show(),e.find("button").on("click",function(){docCookies.setItem("hasAuth","1"),e.hide()})};bindAddPadding(),bindHideCookie()</script><script type=text/javascript src=/js/aside.2d6977c0f16aef4ed3e886dd66675ce74bd0efcd467c2b2bcdb30b92d5e7c7c0e5c6e0c9d8f09a883c22f58df9e6b0b6347fcdd3c9a920b7faba6d7f91a201c3.js integrity="sha512-LWl3wPFq707T6IbdZmdc50vQ781GfCsrzbMLktXnx8DlxuDJ2PCaiDwi9Y355rC2NH/N08mpILf6um1/kaIBww=="></script><script type=text/javascript src=/js/markdown-tab.17f9f46b021adebc7250ce1b07134a577b307e7a436daa4aaf388f218e8463966f53770b26a64817c06c168738a887672d47fb4c29615adfc446e11d09a344cf.js integrity="sha512-F/n0awIa3rxyUM4bBxNKV3swfnpDbapKrziPIY6EY5ZvU3cLJqZIF8BsFoc4qIdnLUf7TClhWt/ERuEdCaNEzw=="></script><script>let forbidForm=!1;var viewer=new Viewer(document.querySelector(".md-body"),{url:"src"}),blogBindSubmit=function(){var e=$("#email-input-blog");$("#email-submit-blog").click(function(t){t.stopPropagation();var s,o,n=e.val(),i=$("#message_blog").data("message1"),a=$("#message_blog").data("message2"),r=$("#message_blog").data("message3"),c=$("#message1_blog").data("success");if(n)if(validateEmail(n)){if(s=$("#blog_formAddress").data("usesendcloud"),!s)return;o=$("#blog_formAddress").data("actionaddress"),$.post({type:"post",url:o,data:{email:n.toString()},success:function(){showSuccessMessage_blog(c),setTimeout(function(){window.onscroll="",$(".SubscribeForm").hide(),$("#email-input-blog").val("")},5e3)},error:function(){showMessage_blog(r)}})}else t.preventDefault(),$("#message_blog").html(a).show();else t.preventDefault(),$("#message_blog").html(i).show()})},validateEmail=function(e){var t=/^[A-Za-z0-9]+([_.][A-Za-z0-9]+)*@([A-Za-z0-9-]+\.)+[A-Za-z]{2,6}$/;return t.test(e)},bindHideMessageBlog=function(){$(window).click(function(){$("#message_blog").hide()})},bindCloseBlog=function(){$(".SubscribeForm .close").click(function(e){e.stopPropagation(),$(".SubscribeForm").fadeOut(),window.onscroll=""})},showMessage_blog=function(e){$("#message_blog").html(e).show()},showSuccessMessage_blog=function(e){$("#message1_blog").html(e).show()};window.onscroll=()=>{var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.clientHeight||document.body.clientHeight,n=document.documentElement.scrollHeight||document.body.scrollHeight;forbidForm&&(window.onscroll=""),e+t>n-710?$(".SubscribeForm").hide():$(".SubscribeForm").show()},blogBindSubmit(),bindCloseBlog(),bindHideMessageBlog()</script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script></body></html>