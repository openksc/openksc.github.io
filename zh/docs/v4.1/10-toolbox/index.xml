<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>工具箱 on</title><link>https://openksc.github.io/zh/docs/v4.1/10-toolbox/</link><description>Recent content in 工具箱 on</description><generator>Hugo</generator><language>zh-CN</language><atom:link href="https://openksc.github.io/zh/docs/v4.1/10-toolbox/index.xml" rel="self" type="application/rss+xml"/><item><title>通过 kubectl 运行命令</title><link>https://openksc.github.io/zh/docs/v4.1/10-toolbox/01-use-kubectl-tool/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://openksc.github.io/zh/docs/v4.1/10-toolbox/01-use-kubectl-tool/</guid><description>&lt;div class="paragraph">
&lt;p>Kubectl 是 Kubernetes 命令行工具。您可以用它在 Kubernetes 集群上运行命令，以便查看和管理集群资源等。&lt;/p>
&lt;/div>
&lt;div class="paragraph">
&lt;p>KubeSphere 控制台提供 Web kubectl，方便用户使用。在默认情况下，当前版本中，只有被授予 platform-admin 角色的用户（例如默认账户 admin）才有权限使用 Web kubectl 进行集群资源操作和管理。&lt;/p>
&lt;/div>
&lt;div class="paragraph">
&lt;p>本节演示如何使用 Web kubectl 进行集群资源操作和管理。&lt;/p>
&lt;/div>
&lt;div class="sect1">
&lt;h2 id="_前提条件">前提条件&lt;/h2>
&lt;div class="sectionbody">
&lt;div class="paragraph">
&lt;p>您需要在 KubeSphere 平台具有 &lt;strong>platform-admin&lt;/strong> 角色。有关更多信息，请参阅&lt;a href="../../05-users-and-roles/01-users/">用户&lt;/a>和&lt;a href="../../05-users-and-roles/02-platform-roles/">平台角色&lt;/a>。&lt;/p>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="sect1">
&lt;h2 id="_使用_web_kubectl">使用 Web Kubectl&lt;/h2>
&lt;div class="sectionbody">
&lt;div class="olist arabic">
&lt;ol class="arabic">
&lt;li>
&lt;p>以具有 &lt;strong>platform-admin&lt;/strong> 角色的用户登录 KubeSphere Web 控制台。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>将光标悬停在页面右下角的&lt;span class="image">&lt;img src="https://openksc.github.io/images/ks-qkcp/zh/icons/hammer.svg" alt="hammer" width="18" height="18"/>&lt;/span>图标，然后在菜单中选择 kubectl。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在弹出窗口中看到 kubectl 界面，如下图所示。如果有多个集群，则需要先在右上角的下拉列表中选择目标集群。如果只有一个集群，则该下拉列表不可见。&lt;/p>
&lt;div class="paragraph">
&lt;p>&lt;span class="image">&lt;img src="https://openksc.github.io/images/ks-qkcp/zh/v4.0/kubectl.png" alt="kubectl" width="100%"/>&lt;/span>&lt;/p>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>在命令行工具中输入 kubectl 命令，查询并管理 Kubernetes 集群资源。例如，执行以下命令查询集群中所有 pod 的状态。&lt;/p>
&lt;div class="listingblock">
&lt;div class="content">
&lt;pre class="highlight">&lt;code class="language-bash" data-lang="bash">kubectl get pods -A&lt;/code>&lt;/pre>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;li>
&lt;p>在终端窗口中使用以下语法运行 kubectl 命令：&lt;/p>
&lt;div class="openblock">
&lt;div class="content">
&lt;div class="listingblock">
&lt;div class="content">
&lt;pre class="highlight">&lt;code class="language-bash" data-lang="bash">kubectl [command] [TYPE] [NAME] [flags]&lt;/code>&lt;/pre>
&lt;/div>
&lt;/div>
&lt;table class="tableblock frame-all grid-all stretch admon note">
&lt;colgroup>
&lt;col style="width: 100%;"/>
&lt;/colgroup>
&lt;thead>
&lt;tr>
&lt;th class="tableblock halign-left valign-top">说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td class="tableblock halign-left valign-top">&lt;div class="content">&lt;div class="ulist">
&lt;ul>
&lt;li>
&lt;p>其中，command、TYPE、NAME 和 flags 分别是：&lt;/p>
&lt;div class="ulist">
&lt;ul>
&lt;li>
&lt;p>command：指定要对一个或多个资源执行的操作，例如 create、get、describe 和 delete。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>TYPE：指定&lt;a href="https://kubernetes.io/zh-cn/docs/reference/kubectl/#resource-types">资源类型&lt;/a>。资源类型不区分大小写，您可以指定单数、复数或缩写形式。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>NAME：指定资源的名称。名称区分大小写。如果省略名称，则会显示所有资源的详细信息，例如 &lt;code>kubectl get pods&lt;/code>。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>flags：指定可选的参数。例如，您可以使用 -s 或 --server 参数指定 Kubernetes API 服务器的地址和端口。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/div></description></item><item><title>查看和下载 kubeconfig 文件</title><link>https://openksc.github.io/zh/docs/v4.1/10-toolbox/02-view-a-kubeconfig-file/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://openksc.github.io/zh/docs/v4.1/10-toolbox/02-view-a-kubeconfig-file/</guid><description>&lt;div class="paragraph">
&lt;p>本节介绍如何查看和下载 kubeconfig 文件。&lt;/p>
&lt;/div>
&lt;div class="paragraph">
&lt;p>kubeconfig 文件包含集群的认证信息，用于向其他应用程序提供集群的访问权限。KubeSphere 支持自动根据当前登录用户生成 kubeconfig 文件，可向其他应用程序提供当前登录用户相同的访问权限。有关更多信息，请参阅 &lt;a href="https://kubernetes.io/zh/docs/concepts/configuration/organize-cluster-access-kubeconfig/">Kubernetes 官方文档&lt;/a>。&lt;/p>
&lt;/div>
&lt;div class="sect1">
&lt;h2 id="_前提条件">前提条件&lt;/h2>
&lt;div class="sectionbody">
&lt;div class="paragraph">
&lt;p>您需要获取 KubeSphere 用户名和密码。&lt;/p>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;div class="sect1">
&lt;h2 id="_操作步骤">操作步骤&lt;/h2>
&lt;div class="sectionbody">
&lt;div class="olist arabic">
&lt;ol class="arabic">
&lt;li>
&lt;p>登录 KubeSphere Web 控制台。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>将光标悬停在页面右下角的&lt;span class="image">&lt;img src="https://openksc.github.io/images/ks-qkcp/zh/icons/hammer.svg" alt="hammer" width="18" height="18"/>&lt;/span>图标，然后在菜单中选择 &lt;strong>kubeconfig&lt;/strong>。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>在弹出的对话框查看 kubeconfig 配置信息。&lt;/p>
&lt;div class="openblock">
&lt;div class="content">
&lt;div class="ulist">
&lt;ul>
&lt;li>
&lt;p>&lt;strong>clusters:cluster:server&lt;/strong> 字段显示的访问地址为虚拟 IP 地址，只能从集群内部部访问。如需从集群外部访问，请将该地址修改为 kube-apiserver 对外暴露的地址。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>contexts:cluster:namespace&lt;/strong> 字段默认显示的项目名称为 &lt;strong>default&lt;/strong>。请将该字段取值修改为当前用户实际具有访问权限的项目名称。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>点击&lt;span class="image">&lt;img src="https://openksc.github.io/images/ks-qkcp/zh/icons/download-dark.svg" alt="download-dark" width="18" height="18"/>&lt;/span>可将 &lt;strong>kubeconfig.yaml&lt;/strong> 文件下载到本地。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;/div>
&lt;/div>
&lt;/div></description></item></channel></rss>