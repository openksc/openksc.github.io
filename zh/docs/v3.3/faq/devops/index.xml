<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>DevOps on</title><link>https://openksc.github.io/zh/docs/v3.3/faq/devops/</link><description>Recent content in DevOps on</description><generator>Hugo</generator><language>zh-CN</language><atom:link href="https://openksc.github.io/zh/docs/v3.3/faq/devops/index.xml" rel="self" type="application/rss+xml"/><item><title>为 KubeSphere 中的 Jenkins 安装插件</title><link>https://openksc.github.io/zh/docs/v3.3/faq/devops/install-jenkins-plugins/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://openksc.github.io/zh/docs/v3.3/faq/devops/install-jenkins-plugins/</guid><description>&lt;p>KubeSphere DevOps 系统提供基于 Jenkins 的容器化 CI/CD 功能，而提升 Jenkins 功能的主要方法就是安装插件。本教程介绍如何在 Jenkins 面板上安装插件。&lt;/p>
&lt;div class="notices warning">
 
 &lt;p>警告&lt;/p>
 &lt;div>并非所有的 Jenkins 插件都拥有良好的维护支持。一些插件可能会导致 Jenkins 出现问题，甚至导致 KubeSphere 出现严重问题。强烈建议您在安装任意插件之前进行备份，若条件允许，先在其他环境进行测试。&lt;/div>
&lt;/div>
&lt;h2 id="准备工作">准备工作&lt;/h2>
&lt;p>您需要启用 &lt;a href="../../../pluggable-components/devops/">KubeSphere DevOps 系统&lt;/a>。&lt;/p>
&lt;h2 id="安装插件">安装插件&lt;/h2>
&lt;h3 id="步骤-1获取-jenkins-地址">步骤 1：获取 Jenkins 地址&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>运行以下命令获取 Jenkins 的地址。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>export NODE_PORT&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">$(&lt;/span>kubectl get --namespace kubesphere-devops-system -o jsonpath&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{.spec.ports[0].nodePort}&amp;#34;&lt;/span> services devops-jenkins&lt;span style="color:#66d9ef">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>export NODE_IP&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#66d9ef">$(&lt;/span>kubectl get nodes --namespace kubesphere-devops-system -o jsonpath&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;{.items[0].status.addresses[0].address}&amp;#34;&lt;/span>&lt;span style="color:#66d9ef">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>echo http://$NODE_IP:$NODE_PORT
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>您会得到类似如下的输出。您可以通过输出的地址使用自己的 KubeSphere 用户和密码（例如 &lt;code>admin/P@88w0rd&lt;/code>）访问 Jenkins 面板。&lt;/p>
&lt;pre tabindex="0">&lt;code>http://192.168.0.4:30180
&lt;/code>&lt;/pre>&lt;div class="notices note">
 
 &lt;p>备注&lt;/p>
 &lt;div>请确保使用自己的 Jenkins 地址。根据您 KubeSphere 集群部署位置的不同，您可能需要在安全组中打开端口，并配置相关的端口转发规则。&lt;/div>
&lt;/div>
&lt;/li>
&lt;/ol>
&lt;h3 id="步骤-2在-jenkins-面板上安装插件">步骤 2：在 Jenkins 面板上安装插件&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>登录 Jenkins 面板，点击&lt;strong>系统管理&lt;/strong>。&lt;/p></description></item><item><title>在 AWS 上创建 DevOps Kubeconfig</title><link>https://openksc.github.io/zh/docs/v3.3/faq/devops/create-devops-kubeconfig-on-aws/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://openksc.github.io/zh/docs/v3.3/faq/devops/create-devops-kubeconfig-on-aws/</guid><description>&lt;p>在已安装 KubeSphere 的 AWS 集群上运行流水线时，如果无法将应用部署到项目中，可能是因 DevOps kubeconfig 出问题所导致。本教程介绍如何在 AWS 上创建 DevOps kubeconfig。&lt;/p>
&lt;h2 id="准备工作">准备工作&lt;/h2>
&lt;ul>
&lt;li>您需要准备一个已安装 KubeSphere 的 AWS 集群。有关如何在 AWS 上安装 KubeSphere 的更多信息，请参考&lt;a href="../../../installing-on-kubernetes/hosted-kubernetes/install-kubesphere-on-eks/">在 AWS EKS 上部署 KubeSphere&lt;/a>。&lt;/li>
&lt;li>您需要启用 &lt;a href="../../../pluggable-components/devops/">KubeSphere DevOps 系统&lt;/a>。&lt;/li>
&lt;li>您需要准备一个可以部署应用的项目。本教程以 &lt;code>kubesphere-sample-dev&lt;/code> 项目为例。&lt;/li>
&lt;/ul>
&lt;h2 id="创建-devops-kubeconfig">创建 DevOps Kubeconfig&lt;/h2>
&lt;h3 id="步骤-1创建-serviceaccount">步骤 1：创建 ServiceAccount&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>在您的 AWS 集群上创建 &lt;code>devops-deploy.yaml&lt;/code> 文件并输入以下内容。&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">apiVersion&lt;/span>: &lt;span style="color:#ae81ff">v1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">ServiceAccount&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">metadata&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">devops-deploy&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">namespace&lt;/span>: &lt;span style="color:#ae81ff">kubesphere-sample-dev&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">apiVersion&lt;/span>: &lt;span style="color:#ae81ff">rbac.authorization.k8s.io/v1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">Role&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">metadata&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">devops-deploy-role&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">namespace&lt;/span>: &lt;span style="color:#ae81ff">kubesphere-sample-dev&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">rules&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">apiGroups&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#e6db74">&amp;#34;*&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">resources&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#e6db74">&amp;#34;*&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">verbs&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#e6db74">&amp;#34;*&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">apiVersion&lt;/span>: &lt;span style="color:#ae81ff">rbac.authorization.k8s.io/v1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">RoleBinding&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">metadata&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">devops-deploy-rolebinding&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">namespace&lt;/span>: &lt;span style="color:#ae81ff">kubesphere-sample-dev&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">roleRef&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">apiGroup&lt;/span>: &lt;span style="color:#ae81ff">rbac.authorization.k8s.io&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">Role&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">devops-deploy-role&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">subjects&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">kind&lt;/span>: &lt;span style="color:#ae81ff">ServiceAccount&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">devops-deploy&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">namespace&lt;/span>: &lt;span style="color:#ae81ff">kubesphere-sample-dev&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>运行以下命令应用该 YAML 文件。&lt;/p></description></item></channel></rss>