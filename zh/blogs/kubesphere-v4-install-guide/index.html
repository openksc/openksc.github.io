<!doctype html><html lang=en-US><head><meta charset=utf-8><title>KubeSphere v4 å®‰è£…æŒ‡å—</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="KubeSphere æ˜¯åœ¨ Kubernetes ä¹‹ä¸Šæ„å»ºçš„ä»¥åº”ç”¨ä¸ºä¸­å¿ƒçš„å¤šç§Ÿæˆ·å®¹å™¨å¹³å°ï¼Œæä¾›å…¨æ ˆçš„ IT è‡ªåŠ¨åŒ–è¿ç»´çš„èƒ½åŠ›ï¼Œç®€åŒ–ä¼ä¸šçš„ DevOps å·¥ä½œæµã€‚KubeSphere æä¾›äº†è¿ç»´å‹å¥½çš„å‘å¯¼å¼æ“ä½œç•Œé¢ï¼Œå¸®åŠ©ä¼ä¸šå¿«é€Ÿæ„å»ºä¸€ä¸ªå¼ºå¤§å’ŒåŠŸèƒ½ä¸°å¯Œçš„å®¹å™¨äº‘å¹³å°ã€‚"><meta name=keywords content="KubeSphere,Kubernetes,å®¹å™¨å¹³å°,DevOps,æ··åˆäº‘"><meta property="og:type" content="article"><meta property="og:title" content="KubeSphere v4 å®‰è£…æŒ‡å—"><meta property="og:description" content="KubeSphere æ˜¯åœ¨ Kubernetes ä¹‹ä¸Šæ„å»ºçš„ä»¥åº”ç”¨ä¸ºä¸­å¿ƒçš„å¤šç§Ÿæˆ·å®¹å™¨å¹³å°ï¼Œæä¾›å…¨æ ˆçš„ IT è‡ªåŠ¨åŒ–è¿ç»´çš„èƒ½åŠ›ï¼Œç®€åŒ–ä¼ä¸šçš„ DevOps å·¥ä½œæµã€‚KubeSphere æä¾›äº†è¿ç»´å‹å¥½çš„å‘å¯¼å¼æ“ä½œç•Œé¢ï¼Œå¸®åŠ©ä¼ä¸šå¿«é€Ÿæ„å»ºä¸€ä¸ªå¼ºå¤§å’ŒåŠŸèƒ½ä¸°å¯Œçš„å®¹å™¨äº‘å¹³å°ã€‚"><meta property="og:image" content="https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-guide-cover.png"><meta property="og:url" content="https://openksc.github.io/zh/blogs/kubesphere-v4-install-guide/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@KubeSphere"><meta property="twitter:image" content="https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-guide-cover.png"><meta name=docsearch:language content="zh-CN"><meta name=docsearch:version content><link rel=canonical href=https://kubesphere.io/zh/blogs/kubesphere-v4-install-guide/><link rel="shortcut icon" href=/images/favicons/favicon.ico><link rel=apple-touch-icon href=/images/favicons/apple-touch-icon.png sizes=180x180><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/svg+xml href=/images/favicons/favicon.svg><link rel=icon type=image/png href=/images/favicons/favicon.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg color=#00ad6e><meta name=msapplication-config content='/images/favicons/browserconfig.xml'><meta name=msapplication-TileColor content="#ffffff"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=/fonts/Roboto/stylesheet.css><link rel=stylesheet href=/fonts/ProximaNova/stylesheet.css><link rel=stylesheet href=/css/jquery.modal.min.css><link rel=stylesheet href=/css/viewer.min.css><link rel=stylesheet href=/swiper/swiper-bundle.min.css><link rel=stylesheet href=/scss/common.min.0c3fdcc05ec210321169846714f74b11c4a1baf09a1833fa9273b2347c81e636.css><script src=/js/jquery-3.7.1.min.js></script><script src=/js/viewer.min.js></script><script src=/js/jquery.modal.min.js></script><script src=/swiper/swiper-bundle.min.js></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0888981f1fa45d241b1fb6962da2963e",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-YYCVN36HT5"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-YYCVN36HT5")</script><script type=text/javascript>!function(e,t,n,s,o){e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},n=t.createElement("script"),tag=t.getElementsByTagName("script")[0],n.async=1,n.src=("https:"==document.location.protocol?"https://":"http://")+s,tag.parentNode.insertBefore(n,tag)}(window,document,"script","assets.giocdn.com/2.1/gio.js","gio"),gio("init","8a24ae300cbf8b8c",{}),gio("send")</script><link rel=stylesheet href=/scss/content.min.f73b326fbf8c5bd331900b0de21c7dde608a4926f482f6465f9ae1d9049b83ad.css><link rel=stylesheet href=/scss/markdown.min.db47186481122431dffae72d17dbbd51f90b66f022cc163458645709924e4eac.css></head><body><header class=navigation><div class=join-div><div class=content>ğŸš€ KubeSphere v4.1.3 å‘å¸ƒï¼Œå¤šé¡¹ä¼˜åŒ–ä¸æ”¹è¿›ï¼Œæ¬¢è¿ä½“éªŒï¼<a href=/zh/docs/v4.1/20-release-notes/release-v413/ target=_blank rel="noopener noreferrer">è¯·æŸ¥çœ‹ Release notes â†’</a>
<img id=close-join src=/images/header/close.svg alt=close></div></div><div class=common-layout><div class=header-container><a href=/zh/ aria-label=logo><img src=/images/header/logo.svg alt class=logo></a><ul class=nav><li class=menu-li><span class=menu-span>åº”ç”¨åœºæ™¯</span><ul class="dropdown-menu menu-2"><li><a href=/zh/devops/>æ‹¥æŠ±ä¸€ç«™å¼ DevOps å·¥ä½œæµ</a></li><li><a href=/zh/service-mesh/>åœ¨ Kubernetes è¿è¡Œå¾®æœåŠ¡</a></li><li><a href=/zh/observability/>æ„å»ºä¸°å¯Œçš„äº‘åŸç”Ÿå¯è§‚æµ‹æ€§</a></li></ul></li><li class=menu-li><span class=menu-span>èµ„æº</span><ul class="dropdown-menu menu-3"><li><a href=/zh/projects/>å¼€æºé¡¹ç›®</a></li><li><a href=/zh/conferences/>å¼€æºå³°ä¼š</a></li><li><a href=/zh/blogs/>æŠ€æœ¯åšå®¢</a></li><li><a href=/zh/videos/>è§†é¢‘èµ„æº</a></li><li><a href=/zh/learn/>äº‘åŸç”Ÿå®æˆ˜</a></li></ul></li><li class=menu-li><span class=menu-span>æ–‡æ¡£ä¸­å¿ƒ</span><ul class="dropdown-menu menu-4"><li><a href=/zh/docs/v4.1>v4.1 <img src=/images/header/star.svg alt=star></a></li><li><a href=/zh/docs/v3.4>v3.4</a></li><li><a href=/zh/docs/v3.3>v3.3</a></li><li><a href=https://dev-guide.kubesphere.io/extension-dev-guide/zh/ target=_blank rel="noopener noreferrer">æ‰©å±•ç»„ä»¶å¼€å‘</a></li><li><a href=https://kube.design/ target=_blank rel="noopener noreferrer">Kube Design</a></li></ul></li><li class=menu-li><span class=menu-span>å¼€æºç¤¾åŒº</span><ul class="dropdown-menu menu-5"><li><a href=/zh/contribution/>å‚ä¸è´¡çŒ®</a></li><li><a href=/zh/live/>ç¤¾åŒºæ´»åŠ¨</a></li><li><a href=/zh/case/>æ¡ˆä¾‹å­¦ä¹ </a></li><li><a href=/zh/partner/>åˆä½œä¼™ä¼´</a></li><li><a href=/zh/user-group/>ç”¨æˆ·å§”å‘˜ä¼š</a></li><li><a href=/zh/news/>åŠ¨æ€</a></li><li><a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md target=_blank rel="noopener noreferrer">ç‰ˆæœ¬è®¡åˆ’</a></li><li><a href=https://www.kubesphere.io/zh/ target=_blank rel="noopener noreferrer">ä¸­å›½ç«™</a></li><li><a href=https://github.com/kubesphere/community/tree/master/sig-advocacy-and-outreach/ospp-2025 target=_blank rel="noopener noreferrer">å¼€æºä¹‹å¤ 2025</a></li></ul></li><li><a data-docs=ç”¨æˆ·è®ºå› href=https://ask.kubesphere.io/forum target=_blank rel="noopener noreferrer">ç”¨æˆ·è®ºå›</a></li><li><a data-docs=è®¤è¯ href=https://kubesphere.cloud/certification/ target=_blank rel="noopener noreferrer">è®¤è¯</a></li></ul><div class=right-menu><ul><li class=language-menu><div><img src=/images/header/black.svg alt>
<span>ç®€ä½“ä¸­æ–‡</span></div><ul class=dropdown-menu><li onclick='handleLangClick("zh","/zh/blogs/kubesphere-v4-install-guide/")'>ç®€ä½“ä¸­æ–‡</li></ul></li><li class=github-li><div class=github-star><a class=star-btn href=https://github.com/kubesphere/kubesphere rel="noopener noreferrer" target=_blank><span class=star-img></span>&nbsp;<span>Star</span>
</a><a class=social-count href=https://github.com/kubesphere/kubesphere/stargazers rel="noopener noreferrer" target=_blank></a></div></li><li class=menu-icon><img src=/images/header/menu.svg alt></li></ul></div></div></div><div id=modal-for-menu class=modal><ul class=nav><li data-check=0 class=menu-li><span class=menu-span>åº”ç”¨åœºæ™¯</span><ul class=dropdown-menu><li><a href=/zh/devops/>æ‹¥æŠ±ä¸€ç«™å¼ DevOps å·¥ä½œæµ</a></li><li><a href=/zh/service-mesh/>åœ¨ Kubernetes è¿è¡Œå¾®æœåŠ¡</a></li><li><a href=/zh/observability/>æ„å»ºä¸°å¯Œçš„äº‘åŸç”Ÿå¯è§‚æµ‹æ€§</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>èµ„æº</span><ul class=dropdown-menu><li><a href=/zh/projects/>å¼€æºé¡¹ç›®</a></li><li><a href=/zh/conferences/>å¼€æºå³°ä¼š</a></li><li><a href=/zh/blogs/>æŠ€æœ¯åšå®¢</a></li><li><a href=/zh/videos/>è§†é¢‘èµ„æº</a></li><li><a href=/zh/learn/>äº‘åŸç”Ÿå®æˆ˜</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>æ–‡æ¡£ä¸­å¿ƒ</span><ul class=dropdown-menu><li><a href=/zh/docs/v4.1>v4.1 <img src=/images/header/star.svg alt=star></a></li><li><a href=/zh/docs/v3.4>v3.4</a></li><li><a href=/zh/docs/v3.3>v3.3</a></li><li><a href=https://dev-guide.kubesphere.io/extension-dev-guide/zh/>æ‰©å±•ç»„ä»¶å¼€å‘</a></li><li><a href=https://kube.design/>Kube Design</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>å¼€æºç¤¾åŒº</span><ul class=dropdown-menu><li><a href=/zh/contribution/>å‚ä¸è´¡çŒ®</a></li><li><a href=/zh/live/>ç¤¾åŒºæ´»åŠ¨</a></li><li><a href=/zh/case/>æ¡ˆä¾‹å­¦ä¹ </a></li><li><a href=/zh/partner/>åˆä½œä¼™ä¼´</a></li><li><a href=/zh/user-group/>ç”¨æˆ·å§”å‘˜ä¼š</a></li><li><a href=/zh/news/>åŠ¨æ€</a></li><li><a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md>ç‰ˆæœ¬è®¡åˆ’</a></li><li><a href=https://www.kubesphere.io/zh/>ä¸­å›½ç«™</a></li><li><a href=https://github.com/kubesphere/community/tree/master/sig-advocacy-and-outreach/ospp-2025>å¼€æºä¹‹å¤ 2025</a></li></ul></li><li><a data-docs=ç”¨æˆ·è®ºå› href=https://ask.kubesphere.io/forum>ç”¨æˆ·è®ºå›</a></li><li><a data-docs=è®¤è¯ href=https://kubesphere.cloud/certification/>è®¤è¯</a></li></ul><div class=link-div><a href=https://join.slack.com/t/kubesphere/shared_invite/zt-2b4t6rdb4-ico_4UJzCln_S2c1pcrIpQ target=_blank rel="noopener noreferrer" aria-label=slack><img src=/images/header/slack-hover.svg alt>
</a><a href=https://x.com/KubeSphere target=_blank rel="noopener noreferrer" aria-label=twitter><img src=/images/header/twitter-hover.svg alt>
</a><a href=https://github.com/kubesphere/kubesphere target=_blank rel="noopener noreferrer" aria-label=github><img src=/images/header/github-hover.svg alt></a></div></div></header><script>var bindNavMouseEvent,bindScrollChangeHeader,bindClickShowMenu,bindClickModalLi,bindClickClose,language,handleLangClick,githubApiLink="https://api.github.com/repos/kubesphere/kubesphere",getStar=function(){$(".social-count").hide(),$.getJSON(githubApiLink,function(e){$(".social-count").show().html(e.stargazers_count)})};getStar(),bindNavMouseEvent=function(e,t){t||(t=$(e));var n=!1;t.mouseenter(function(){if(n)return!1;n=!0,$(this).find(".dropdown-menu").fadeIn(200,function(){n=!1})}),t.mouseleave(function(){$(this).find(".dropdown-menu").fadeOut(200)})},bindScrollChangeHeader=function(){var t=100,e=$("header");window.addEventListener("scroll",function(){var t=window.scrollY;t>0?e.addClass("navigationScroll"):e.removeClass("navigationScroll")})},bindClickShowMenu=function(){$(".menu-icon").click(function(){$("#modal-for-menu").modal()})},bindClickModalLi=function(){$(".modal .menu-li").click(function(){var e=$(this).data("check");e===0?($(this).data("check",1),$(this).find(".dropdown-menu").slideDown(200)):($(this).data("check",0),$(this).find(".dropdown-menu").slideUp(200)),$(this).find(".menu-span").toggleClass("up")})},bindClickClose=function(){$("#close-join").click(function(){$(".navigation .join-div").hide(),$(".main-section").removeClass("padding")})},language="zh",bindClickClose(),bindScrollChangeHeader(),$(".header-container .menu-li").each(function(){bindNavMouseEvent("",$(this))}),bindNavMouseEvent(".header-container .language-menu"),bindNavMouseEvent(".header-container .btn-li"),bindClickShowMenu(),bindClickModalLi(),handleLangClick=function(e,t){try{localStorage.setItem("lang",e)}catch{}location.href=t}</script><section class=main-section><div class=common-layout><div class=breadcrumb><span><a href=/zh/blogs/>æŠ€æœ¯åšå®¢</a> > </span><span>KubeSphere v4 å®‰è£…æŒ‡å—</span></div><div class='main-div middle-div'><div class=author>Cauchy</div><span class=date>å‘å¸ƒäºï¼š2024-10-16</span>&nbsp;&nbsp;&nbsp;
<span style=font-size:14px;color:#919aa3 id=busuanzi_container_page_pv>æœ¬æ–‡æ€»é˜…è¯»é‡ï¼š<span id=busuanzi_value_page_pv></span></span><h1>KubeSphere v4 å®‰è£…æŒ‡å—</h1><div class=share-1><div class=share><a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fopenksc.github.io%2fzh%2fblogs%2fkubesphere-v4-install-guide%2f&text=KubeSphere%20v4%20%e5%ae%89%e8%a3%85%e6%8c%87%e5%8d%97" target=_blank rel="noopener noreferrer"><img src=/images/share/Twitter.svg alt="twitter icon">
</a><a href="https://reddit.com/submit?url=https%3a%2f%2fopenksc.github.io%2fzh%2fblogs%2fkubesphere-v4-install-guide%2f&title=KubeSphere%20v4%20%e5%ae%89%e8%a3%85%e6%8c%87%e5%8d%97" target=_blank rel="noopener noreferrer"><img src=/images/share/Reddit.svg alt="reddit icon">
</a><a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fopenksc.github.io%2fzh%2fblogs%2fkubesphere-v4-install-guide%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Facebook.svg alt="facebook icon">
</a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fopenksc.github.io%2fzh%2fblogs%2fkubesphere-v4-install-guide%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Linkedin.svg alt="linkedin icon">
</a><a href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fopenksc.github.io%2fzh%2fblogs%2fkubesphere-v4-install-guide%2f&t=KubeSphere%20v4%20%e5%ae%89%e8%a3%85%e6%8c%87%e5%8d%97" target=_blank rel="noopener noreferrer"><img src=/images/share/HackerNews.svg alt="hackernews icon"></a></div></div><div class=content><div class=md-body><p>æ—¥å‰ï¼ŒKubeSphere v4 å‘å¸ƒï¼Œç›¸è¾ƒäºä¹‹å‰çš„ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨æ¶æ„ä¸Šæœ‰äº†é¢ è¦†æ€§çš„å˜åŒ–ã€‚ä¸ºäº†è®©ç¤¾åŒºçš„å„ä½å°ä¼™ä¼´èƒ½å¤Ÿä¸æ»‘çš„ä»æ—§ç‰ˆæœ¬è¿‡æ¸¡åˆ°æ–°ç‰ˆæœ¬ï¼Œæˆ‘ä»¬ç‰¹åˆ«æ¨å‡ºæœ¬ç¯‡å®‰è£…æŒ‡å—æ–‡ç« ï¼Œä»¥ä¾›å‚è€ƒã€‚</p><p>å…³äº KubeSphere v4 çš„ä»‹ç»ï¼Œè¯·é˜…è¯»æœ¬æ–‡ï¼š<a href=https://kubesphere.io/zh/news/kubesphere-v4-ga-announcement/ target=_blank rel="noopener noreferrer">KubeSphere v4 å¼€æºå¹¶å‘å¸ƒå…¨æ–°å¯æ’æ‹”æ¶æ„ LuBan</a>ã€‚</p><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç›®å‰ä¸æ”¯æŒä» KubeSphere 3.4.1 ç‰ˆæœ¬ç›´æ¥å‡çº§åˆ° v4 ç‰ˆæœ¬ï¼Œéœ€è¦å…ˆå¸è½½åŸæ¥çš„ç‰ˆæœ¬ï¼Œå†å®‰è£… v4 ç‰ˆæœ¬ã€‚</p></blockquote><h2 id=å¸è½½-kubesphere-341>å¸è½½ KubeSphere 3.4.1</h2><blockquote><p>æ³¨æ„ï¼š</p><ul><li>æœ¬æ–‡ä»…é€‚ç”¨äºæµ‹è¯•ç¯å¢ƒï¼Œè¯·ä¸è¦ç›´æ¥åœ¨ç”Ÿäº§ç¯å¢ƒæ“ä½œã€‚</li><li>å¦‚æœéœ€è¦åœ¨ç”Ÿäº§ç¯å¢ƒæ“ä½œï¼Œè¯·å…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯é€šè¿‡åå†è¿›è¡Œã€‚</li><li>å¸è½½ä¸ºé«˜é£é™©æ“ä½œï¼Œæ‰§è¡Œè¯¥æ“ä½œå‰ï¼Œè¯·æ˜ç¡®æ‚¨çŸ¥é“è‡ªå·±å°†è¦åšä»€ä¹ˆã€‚</li><li>è¯¥æ“ä½œä¼šå¯¼è‡´ KubeSphere å¹³å°è‡ªèº«æ— æ³•ä½¿ç”¨ï¼Œä½†ä¸ä¼šå½±å“ KubeSphere ä¹‹å¤–å³ K8s é›†ç¾¤ä¸­è¿è¡Œçš„å·¥ä½œè´Ÿè½½ã€‚</li><li>è¯¥æ“ä½œä¼šåˆ é™¤ KubeSphere æ‰€æœ‰çš„ç»„ä»¶åŠç›¸å…³æ•°æ®ï¼Œæ‚¨å¯ä»¥åœ¨æ­¤ä¹‹å‰å¯¹æ•°æ®è¿›è¡Œå¤‡ä»½ã€‚</li><li>æ‚¨å¯ä»¥è‡ªä¸»é€‰æ‹©æ•°æ®è¿ç§»å·¥å…·ï¼Œæˆ–ç­‰å¾…ç¤¾åŒºçš„æ•°æ®è¿ç§»æ–¹æ¡ˆï¼Œç¤¾åŒºçš„è¿ç§»æ–¹æ¡ˆè®¡åˆ’é€šè¿‡è„šæœ¬å¸®åŠ©æ‚¨å¤‡ä»½å¹³å°è´¦æˆ·ã€æƒé™åŠç›¸å…³çš„æ•°æ®ï¼Œåœ¨æ–°ç‰ˆæœ¬å®‰è£…å¥½åï¼Œå¯å°†å¤‡ä»½æ•°æ®è¿›è¡Œå¯¼å…¥ã€‚</li><li>å¦‚æœæ‚¨æœŸæœ›å…¨é¢çš„æ•°æ®è¿ç§»å’Œå‡çº§ï¼Œæˆ‘ä»¬å»ºè®®æ‚¨å¯ä»¥è€ƒè™‘ <a href="https://m.qingcloud.com/page/23555798970015596/4c97b2026cb84249be20d94e71b647cf?cl_track=aec50" target=_blank rel="noopener noreferrer">KubeSphere ä¼ä¸šç‰ˆ</a>ã€‚</li><li><strong>ç¤¾åŒºéƒ‘é‡æé†’æ‚¨ï¼ŒåŠ¡å¿…è°¨æ…æ“ä½œã€‚</strong></li></ul></blockquote><h3 id=è§£ç»‘é›†ç¾¤>è§£ç»‘é›†ç¾¤</h3><p>å¦‚æœå¼€å¯äº†å¤šé›†ç¾¤ï¼Œè¯·åŠ¡å¿…åœ¨å¸è½½å‰å°†é›†ç¾¤è¿›è¡Œè§£ç»‘ã€‚å¸è½½ Host é›†ç¾¤å‰ï¼Œè¯·ç¡®ä¿å·²ç»æ²¡æœ‰ Member é›†ç¾¤è¢«å½“å‰é›†ç¾¤çº³ç®¡ï¼Œä¸”è§’è‰²å’Œè´¦æˆ·ç­‰ä¿¡æ¯ä¹Ÿä¼šè¢«åˆ é™¤ã€‚</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-install-guide-1.png alt></p><h3 id=å¸è½½-kubesphere-341-1>å¸è½½ KubeSphere 3.4.1</h3><p>é’ˆå¯¹å¾…å¸è½½é›†ç¾¤æ‰§è¡Œè¯¥è„šæœ¬ã€‚</p><p><strong>æ³¨æ„ï¼š</strong></p><ol><li>æ‰§è¡Œè¯¥è„šæœ¬å‰è¯·ç¡®ä¿å½“å‰é›†ç¾¤å·²ä» Host é›†ç¾¤ä¸­è§£ç»‘ã€‚</li><li>è¯·ç¡®è®¤å³å°†æ“ä½œçš„é›†ç¾¤æ˜¯å°†è¦è¢«å¸è½½çš„é›†ç¾¤ã€‚</li><li>æ‰§è¡Œè¯¥è„šæœ¬åä¼šå°†é›†ç¾¤ä¸­çš„ Prometheus ä»¥åŠ Elasticsearch åˆ é™¤ï¼Œå­˜é‡ç›‘æ§å’Œæ—¥å¿—æ•°æ®ä¸ä¼šè¢«ä¿ç•™ã€‚</li><li>æ‰§è¡Œè¯¥è„šæœ¬åï¼Œé›†ç¾¤ä¸­é¡¹ç›®ç½‘å…³ä»å¯ç»§ç»­ä½¿ç”¨ï¼Œä½†çº³ç®¡è‡³ KubeSphere 4.1.2 åéœ€å°†ç½‘å…³åˆ‡æ¢åˆ°æ–°ç‰ˆæœ¬ç½‘å…³ï¼Œåˆ‡æ¢è¿‡ç¨‹å­˜éœ€åˆ é™¤è€ç‰ˆæœ¬ç½‘å…³ï¼Œåˆ‡æ¢ä¸ºæ–°ç‰ˆæœ¬ç½‘å…³ã€‚</li></ol><h4 id=å¸è½½-devops-ç»„ä»¶>å¸è½½ DevOps ç»„ä»¶</h4><pre tabindex=0><code>helm del -n argocd devops
helm del -n kubesphere-devops-system devops
</code></pre><h4 id=å¸è½½-servicemesh-ç»„ä»¶>å¸è½½ ServiceMesh ç»„ä»¶</h4><pre tabindex=0><code>kubectl -n istio-system delete jaeger jaeger
kubectl -n istio-system delete kiali kiali

helm del -n istio-system kiali-operator
helm del -n istio-system jaeger-operator

# ä¸‹è½½ istioctl
wget https://github.com/istio/istio/releases/download/1.15.6/istioctl-1.15.6-linux-amd64.tar.gz
tar -zxvf istioctl-1.15.6-linux-amd64.tar.gz
./istioctl uninstall --purge
</code></pre><h4 id=å¸è½½-ks-coreç›‘æ§åŠæ—¥å¿—ç›¸å…³ç»„ä»¶>å¸è½½ ks-coreã€ç›‘æ§åŠæ—¥å¿—ç›¸å…³ç»„ä»¶</h4><pre tabindex=0><code>#ï¼/bin/bash
############################################################################################################
# è¯¥è„šæœ¬ç”¨äºå¸è½½é›†ç¾¤ä¸­çš„ KubeSphere v3.4.1
#
# æ³¨æ„ï¼š å¦‚æœä¸ºå¤šé›†ç¾¤ç¯å¢ƒï¼Œæ‰§è¡Œè¯¥è„šæœ¬å‰è¯·ç¡®ä¿å½“å‰é›†ç¾¤å·²ä» host é›†ç¾¤ä¸­è§£ç»‘
############################################################################################################

set -x

# æ¸…é™¤é›†ç¾¤æ‰€æœ‰ namespace ä¸­çš„ workspace æ ‡ç­¾
kubectl get ns -l kubesphere.io/workspace -o name | xargs -I {} bash -c &#34;kubectl label {} kubesphere.io/workspace- &amp;&amp; kubectl patch {} -p &#39;{\&#34;metadata\&#34;:{\&#34;ownerReferences\&#34;:[]}}&#39; --type=merge&#34;

# # æ¸…é™¤é›†ç¾¤æ‰€æœ‰ namespace ä¸­çš„ kubefed æ ‡ç­¾
kubectl get ns -l kubefed.io/managed -o name | xargs -I {} bash -c &#34;kubectl label {} kubefed.io/managed- &amp;&amp; kubectl patch {} -p &#39;{\&#34;metadata\&#34;:{\&#34;ownerReferences\&#34;:[]}}&#39; --type=merge&#34;

# æ¸…é™¤é›†ç¾¤ä¸­çš„ workspace ä»¥åŠ workspacetemplate èµ„æº
kubectl get workspacetemplate -A -o name | xargs -I {} kubectl patch {} -p &#39;{&#34;metadata&#34;:{&#34;ownerReferences&#34;:[]}}&#39; --type=merge
kubectl get workspace -A -o name | xargs -I {} kubectl patch {} -p &#39;{&#34;metadata&#34;:{&#34;ownerReferences&#34;:[]}}&#39; --type=merge

kubectl get workspacetemplate -A -o name | xargs -I {} kubectl delete {}
kubectl get workspace -A -o name | xargs -I {} kubectl delete {}

# åˆ é™¤ clusterroles
delete_cluster_roles() {
  for role in `kubectl get clusterrole -l iam.kubesphere.io/role-template -o jsonpath=&#34;{.items[*].metadata.name}&#34;`
  do
    kubectl delete clusterrole $role 2&gt;/dev/null
  done
}

delete_cluster_roles

# åˆ é™¤ clusterrolebindings
delete_cluster_role_bindings() {
  for rolebinding in `kubectl get clusterrolebindings -l iam.kubesphere.io/role-template -o jsonpath=&#34;{.items[*].metadata.name}&#34;`
  do
    kubectl delete clusterrolebindings $rolebinding 2&gt;/dev/null
  done
}
delete_cluster_role_bindings

# åˆ é™¤ validatingwebhookconfigurations
for webhook in ks-events-admission-validate users.iam.kubesphere.io network.kubesphere.io validating-webhook-configuration resourcesquotas.quota.kubesphere.io
do
  kubectl delete validatingwebhookconfigurations.admissionregistration.k8s.io $webhook 2&gt;/dev/null
done

# åˆ é™¤ mutatingwebhookconfigurations
for webhook in ks-events-admission-mutate logsidecar-injector-admission-mutate mutating-webhook-configuration
do
  kubectl delete mutatingwebhookconfigurations.admissionregistration.k8s.io $webhook 2&gt;/dev/null
done

# åˆ é™¤ users
for user in `kubectl get users -o jsonpath=&#34;{.items[*].metadata.name}&#34;`
do
  kubectl patch user $user -p &#39;{&#34;metadata&#34;:{&#34;finalizers&#34;:null}}&#39; --type=merge
done
kubectl delete users --all 2&gt;/dev/null

# åˆ é™¤ iam èµ„æº
for resource_type in `echo globalrolebinding loginrecord rolebase workspacerole globalrole workspacerolebinding`; do
  for resource_name in `kubectl get ${resource_type}.iam.kubesphere.io -o jsonpath=&#34;{.items[*].metadata.name}&#34;`; do
    kubectl patch ${resource_type}.iam.kubesphere.io ${resource_name} -p &#39;{&#34;metadata&#34;:{&#34;finalizers&#34;:null}}&#39; --type=merge
  done
  kubectl delete ${resource_type}.iam.kubesphere.io --all 2&gt;/dev/null
done

# å¸è½½ ks-core
helm del -n kubesphere-system ks-core
helm del -n kubesphere-system ks-redis &amp;&gt; /dev/null || true
kubectl delete pvc -n kubesphere-system -l app=redis-ha --ignore-not-found || true
kubectl delete deploy -n kubesphere-system -l app.kubernetes.io/managed-by!=Helm --field-selector metadata.name=redis --ignore-not-found || true
kubectl delete svc -n kubesphere-system -l app.kubernetes.io/managed-by!=Helm --field-selector metadata.name=redis --ignore-not-found || true
kubectl delete secret -n kubesphere-system -l app.kubernetes.io/managed-by!=Helm --field-selector metadata.name=redis-secret --ignore-not-found || true
kubectl delete cm -n kubesphere-system -l app.kubernetes.io/managed-by!=Helm --field-selector metadata.name=redis-configmap --ignore-not-found || true
kubectl delete pvc -n kubesphere-system -l app.kubernetes.io/managed-by!=Helm --field-selector metadata.name=redis-pvc --ignore-not-found || true
kubectl delete deploy -n kubesphere-system --all --ignore-not-found
kubectl delete svc -n kubesphere-system --all --ignore-not-found
kubectl delete cm -n kubesphere-system --all --ignore-not-found
kubectl delete secret -n kubesphere-system --all --ignore-not-found
kubectl delete sa -n kubesphere-system --all --ignore-not-found

# åˆ é™¤ Gateway èµ„æº
for gateway in `kubectl -n kubesphere-controls-system get gateways.gateway.kubesphere.io -o jsonpath=&#34;{.items[*].metadata.name}&#34;`
do
  kubectl -n kubesphere-controls-system patch gateways.gateway.kubesphere.io $gateway -p &#39;{&#34;metadata&#34;:{&#34;finalizers&#34;:null}}&#39; --type=merge
done
kubectl -n kubesphere-controls-system delete gateways.gateway.kubesphere.io --all 2&gt;/dev/null

# åˆ é™¤crd
kubectl delete crd globalrolebindings.iam.kubesphere.io
kubectl delete crd globalroles.iam.kubesphere.io
kubectl delete crd users.iam.kubesphere.io
kubectl delete crd workspacerolebindings.iam.kubesphere.io
kubectl delete crd workspaceroles.iam.kubesphere.io 
kubectl delete crd workspaces.tenant.kubesphere.io
kubectl delete crd workspacetemplates.tenant.kubesphere.io
kubectl delete crd gateways.gateway.kubesphere.io

## å¸è½½ ç›‘æ§ç»„ä»¶
# åˆ é™¤ Prometheus/ALertmanager/ThanosRuler
kubectl -n kubesphere-monitoring-system delete Prometheus  k8s --ignore-not-found
kubectl -n kubesphere-monitoring-system delete secret additional-scrape-configs --ignore-not-found
kubectl -n kubesphere-monitoring-system delete serviceaccount prometheus-k8s --ignore-not-found
kubectl -n kubesphere-monitoring-system delete service prometheus-k8s --ignore-not-found
kubectl -n kubesphere-monitoring-system delete role prometheus-k8s-config --ignore-not-found
kubectl -n kubesphere-monitoring-system delete rolebinging prometheus-k8s-config --ignore-not-found

kubectl -n kubesphere-monitoring-system delete Alertmanager main --ignore-not-found
kubectl -n kubesphere-monitoring-system delete secret alertmanager-main --ignore-not-found
kubectl -n kubesphere-monitoring-system delete service alertmanager-main --ignore-not-found

kubectl -n kubesphere-monitoring-system delete ThanosRuler kubesphere --ignore-not-found

# åˆ é™¤ ServiceMonitor/PrometheusRules
kubectl -n kubesphere-monitoring-system delete ServiceMonitor alertmanager coredns etcd ks-apiserver  kube-apiserver kube-controller-manager kube-proxy kube-scheduler kube-state-metrics kubelet node-exporter  prometheus prometheus-operator  s2i-operator  thanosruler --ignore-not-found
kubectl -n kubesphere-monitoring-system delete PrometheusRule kubesphere-rules prometheus-k8s-coredns-rules prometheus-k8s-etcd-rules prometheus-k8s-rules --ignore-not-found

# åˆ é™¤ prometheus-operator
kubectl -n kubesphere-monitoring-system delete deployment prometheus-operator --ignore-not-found
kubectl -n kubesphere-monitoring-system delete service  prometheus-operator --ignore-not-found
kubectl -n kubesphere-monitoring-system delete serviceaccount prometheus-operator --ignore-not-found

# åˆ é™¤ kube-state-metrics/node-exporter
kubectl -n kubesphere-monitoring-system delete deployment kube-state-metrics --ignore-not-found
kubectl -n kubesphere-monitoring-system delete service  kube-state-metrics --ignore-not-found
kubectl -n kubesphere-monitoring-system delete serviceaccount  kube-state-metrics --ignore-not-found

kubectl -n kubesphere-monitoring-system delete daemonset node-exporter --ignore-not-found
kubectl -n kubesphere-monitoring-system delete service node-exporter --ignore-not-found
kubectl -n kubesphere-monitoring-system delete serviceaccount node-exporter --ignore-not-found

# åˆ é™¤ Clusterrole/ClusterRoleBinding
kubectl delete clusterrole kubesphere-prometheus-k8s kubesphere-kube-state-metrics kubesphere-node-exporter kubesphere-prometheus-operator
kubectl delete clusterrolebinding kubesphere-prometheus-k8s kubesphere-kube-state-metrics kubesphere-node-exporter kubesphere-prometheus-operator

# åˆ é™¤ notification-manager
helm delete notification-manager -n kubesphere-monitoring-system

# æ¸…ç† kubesphere-monitoring-system
kubectl delete deploy -n kubesphere-monitoring-system --all --ignore-not-found

# åˆ é™¤ç›‘æ§ crd
kubectl delete crd alertmanagerconfigs.monitoring.coreos.com
kubectl delete crd alertmanagers.monitoring.coreos.com
kubectl delete crd podmonitors.monitoring.coreos.com
kubectl delete crd probes.monitoring.coreos.com
kubectl delete crd prometheusagents.monitoring.coreos.com
kubectl delete crd prometheuses.monitoring.coreos.com
kubectl delete crd prometheusrules.monitoring.coreos.com
kubectl delete crd scrapeconfigs.monitoring.coreos.com
kubectl delete crd servicemonitors.monitoring.coreos.com
kubectl delete crd thanosrulers.monitoring.coreos.com
kubectl delete crd clusterdashboards.monitoring.kubesphere.io
kubectl delete crd dashboards.monitoring.kubesphere.io

# åˆ é™¤ metrics-server
kubectl delete apiservice v1beta1.metrics.k8s.io
kubectl -n kube-system delete deploy metrics-server
kubectl -n kube-system delete service metrics-server
kubectl delete ClusterRoleBinding system:metrics-server
kubectl delete ClusterRoleBinding metrics-server:system:auth-delegator
kubectl -n kube-system delete RoleBinding  metrics-server-auth-reader
kubectl delete ClusterRole system:metrics-server
kubectl delete ClusterRole system:aggregated-metrics-reader
kubectl -n kube-system delete ServiceAccount ServiceAccount

## å¸è½½ æ—¥å¿—ç»„ä»¶
# åˆ é™¤ fluent-bit
kubectl -n kubesphere-logging-system delete fluentbitconfigs fluent-bit-config --ignore-not-found
kubectl -n kubesphere-logging-system patch fluentbit fluent-bit -p &#39;{&#34;metadata&#34;:{&#34;finalizers&#34;:null}}&#39; --type=merge
kubectl -n kubesphere-logging-system delete fluentbit fluent-bit --ignore-not-found

# åˆ é™¤ ks-logging
helm del -n kubesphere-logging-system logsidecar-injector &amp;&gt; /dev/null || true

# åˆ é™¤ ks-events
helm del -n kubesphere-logging-system ks-events &amp;&gt; /dev/null || true

# åˆ é™¤ kube-auditing
helm del -n kubesphere-logging-system kube-auditing &amp;&gt; /dev/null || true

# åˆ é™¤ es 
helm del -n kubesphere-logging-system elasticsearch-logging &amp;&gt; /dev/null || true
helm del -n kubesphere-logging-system elasticsearch-logging-curator &amp;&gt; /dev/null || true

# åˆ é™¤ opensearch
helm del -n kubesphere-logging-system opensearch-master &amp;&gt; /dev/null || true
helm del -n kubesphere-logging-system opensearch-data &amp;&gt; /dev/null || true
helm del -n kubesphere-logging-system opensearch-logging-curator &amp;&gt; /dev/null || true

# æ¸…ç† kubesphere-logging-system
kubectl delete deploy -n kubesphere-logging-system --all --ignore-not-found
</code></pre><h4 id=æ£€æŸ¥-namespace-æ ‡ç­¾>æ£€æŸ¥ Namespace æ ‡ç­¾</h4><p>ç¡®è®¤æ‰€æœ‰ Namespace ä¸åŒ…å« <code>kubesphere.io/workspace</code> æ ‡ç­¾ã€‚</p><pre tabindex=0><code>kubectl get ns --show-labels
</code></pre><h4 id=å¸è½½-kubefedhost-é›†ç¾¤>å¸è½½ Kubefedï¼ˆHost é›†ç¾¤ï¼‰</h4><pre tabindex=0><code>helm del -n kube-federation-system kubefed
</code></pre><h2 id=å®‰è£…-kubesphere-412>å®‰è£… KubeSphere 4.1.2</h2><h3 id=å‡çº§-crd>å‡çº§ CRD</h3><pre tabindex=0><code># ä¸‹è½½ ks-core chart åŒ…
# å¦‚æœæ— æ³•è®¿é—® charts.kubesphere.io, å¯å°† charts.kubesphere.io æ›¿æ¢ä¸º charts.kubesphere.com.cn 
helm fetch https://charts.kubesphere.io/main/ks-core-1.1.3.tgz --untar


# æ›´æ–° crds 
kubectl apply -f ks-core/charts/ks-crds/crds/
</code></pre><h3 id=host-é›†ç¾¤å®‰è£…-ks-core>Host é›†ç¾¤å®‰è£… ks-core</h3><p>è‡ª KubeSphere v4.1 å¼€å§‹ï¼Œä»…éœ€åœ¨ Host é›†ç¾¤éƒ¨ç½² ks-core å³å¯ï¼ŒMember é›†ç¾¤é€šè¿‡é¡µé¢æ·»åŠ ï¼ˆåˆ‡å‹¿åœ¨ Member é›†ç¾¤å†æ¬¡éƒ¨ç½² ks-coreï¼‰ã€‚</p><pre tabindex=0><code># è¯¥å‘½ä»¤ä»…éœ€åœ¨ host é›†ç¾¤ä¸Šæ‰§è¡Œ
# å¦‚æœè®¿é—® dockerhub å—é™ï¼Œåœ¨ä»¥ä¸‹å‘½ä»¤ä¸­æ·»åŠ  
# --set global.imageRegistry=swr.cn-southwest-2.myhuaweicloud.com/ks 
# --set extension.imageRegistry=swr.cn-southwest-2.myhuaweicloud.com/ks 
# å¦‚æœæ— æ³•è®¿é—® charts.kubesphere.io, å¯å°† charts.kubesphere.io æ›¿æ¢ä¸º charts.kubesphere.com.cn

helm upgrade --install -n kubesphere-system --create-namespace ks-core https://charts.kubesphere.io/main/ks-core-1.1.3.tgz --debug --wait
</code></pre><h3 id=æ·»åŠ -member-é›†ç¾¤>æ·»åŠ  Member é›†ç¾¤</h3><p>Host é›†ç¾¤éƒ¨ç½²å¥½ä¹‹åï¼Œè¿›å…¥å·¥ä½œå°ç‚¹å‡»<strong>é›†ç¾¤ç®¡ç†</strong>ï¼š</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-install-guide-2.png alt></p><p>ç‚¹å‡»<strong>æ·»åŠ é›†ç¾¤</strong>ï¼š</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-install-guide-3.png alt></p><p>å¡«å†™é›†ç¾¤ä¿¡æ¯ï¼Œå¹¶ç‚¹å‡»<strong>ä¸‹ä¸€æ­¥</strong>ï¼š</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-install-guide-4.png alt></p><p>å¡«å†™ Member é›†ç¾¤ Kubeconfigï¼š</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-install-guide-5.png alt></p><p>å¡«å†™é›†ç¾¤é…ç½®ï¼š</p><pre tabindex=0><code># å¦‚æœè®¿é—® dockerhub å—é™ï¼Œæ­¤å¤„å¯å¡«ï¼Œå¦‚æœèƒ½å¤Ÿæ­£å¸¸è®¿é—® dockerhubï¼Œå¯è·³è¿‡è¯¥æ­¥éª¤ã€‚
global:
  imageRegistry: swr.cn-southwest-2.myhuaweicloud.com/ks
</code></pre><p><img src=http://pek3b.qingstor.com/kubesphere-community/images/ks-v4-install-guide-6.png alt></p><p>ç‚¹å‡»åˆ›å»ºåç­‰å¾… Member é›†ç¾¤ä¸Šçš„ ks-agent åˆ›å»ºæˆåŠŸã€‚</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-install-guide-7.png alt></p><h3 id=gateway-è¿ç§»>Gateway è¿ç§»</h3><h4 id=å®‰è£…-gateway-ç»„ä»¶>å®‰è£… Gateway ç»„ä»¶</h4><p>å®‰è£… KubeSphere ç½‘å…³æ‰©å±•ç»„ä»¶ï¼Œå¹¶ä¸ºéœ€è¦ä½¿ç”¨ç½‘å…³çš„é›†ç¾¤å®‰è£… Gateway æ‰©å±•ç»„ä»¶ Agentã€‚</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-install-guide-8.png alt></p><h4 id=å°†ä½¿ç”¨äº†é¡¹ç›®ç½‘å…³çš„é¡¹ç›®åŠ å…¥ç›®æ ‡ä¼ä¸šç©ºé—´>å°†ä½¿ç”¨äº†é¡¹ç›®ç½‘å…³çš„é¡¹ç›®åŠ å…¥ç›®æ ‡ä¼ä¸šç©ºé—´</h4><p>æ‰§è¡Œå¸è½½è„šæœ¬æ—¶ï¼Œä¼šåˆ é™¤é¡¹ç›®çš„ä¼ä¸šç©ºé—´å…³è”å…³ç³»ï¼Œéœ€å°†ä½¿ç”¨äº†é¡¹ç›®ç½‘å…³çš„é¡¹ç›®é‡æ–°åŠ å…¥æ–°çš„ç›®æ ‡ä¼ä¸šç©ºé—´ä¸­ã€‚</p><h4 id=è¿ç§»é¡¹ç›®ç½‘å…³åˆ°æ–°ç‰ˆæœ¬>è¿ç§»é¡¹ç›®ç½‘å…³åˆ°æ–°ç‰ˆæœ¬</h4><p><strong>æ³¨æ„ï¼šè¯¥æ­¥éª¤ä¼šå¯¼è‡´é¡¹ç›®ç½‘å…³ä¸­æ–­ï¼Œéœ€æå‰è€ƒè™‘ä¸šåŠ¡å½±å“ã€‚</strong></p><h5 id=åˆ é™¤å¾…è¿ç§»é¡¹ç›®ç½‘å…³>åˆ é™¤å¾…è¿ç§»é¡¹ç›®ç½‘å…³</h5><p>å¦‚éœ€ä¿è¯è®¿é—®ç«¯å£ä¸å˜ï¼Œåˆ é™¤å‰åŠ¡å¿…è®°å½•å¯¹åº”ç½‘å…³çš„ Nodeport ä¿¡æ¯æˆ–è€… LoadBalancer ä¿¡æ¯ï¼Œä»¥ä¾¿åœ¨æ–°åˆ›å»ºç½‘å…³æ—¶ä¿ç•™åŸæœ‰é…ç½®ã€‚</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-install-guide-9.png alt></p><h5 id=æ–°å»ºé¡¹ç›®ç½‘å…³>æ–°å»ºé¡¹ç›®ç½‘å…³</h5><p>é€šè¿‡ä¼ä¸šç©ºé—´è¿›å…¥åˆ°é¡¹ç›®çš„é¡¹ç›®è®¾ç½®ä¸­çš„ç½‘å…³è®¾ç½®ã€‚</p><p>ä»¥ä¿ç•™åŸæœ‰ç½‘å…³çš„ Nodeport ä¸ºä¾‹ï¼š</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-install-guide-10.png alt></p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-install-guide-11.png alt></p><p>ç‚¹å‡»ç¡®å®šã€‚</p><h5 id=å…³è”åº”ç”¨è·¯ç”±è‡³æ–°å»ºç½‘å…³>å…³è”åº”ç”¨è·¯ç”±è‡³æ–°å»ºç½‘å…³</h5><p>å¾…æ–°çš„é¡¹ç›®ç½‘å…³åˆ›å»ºæˆåŠŸåï¼Œåœ¨ç½‘å…³é¡µé¢ä¸­ç‚¹å‡»ç®¡ç†->ç¼–è¾‘ï¼Œå¤åˆ¶å…¶ä¸­çš„ IngressClassNameã€‚</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-install-guide-12.png alt></p><p>é’ˆå¯¹å½“å‰é¡¹ç›®ä¸‹çš„åº”ç”¨è·¯ç”±ï¼Œç‚¹å‡»ç¼–è¾‘ YAMLã€‚</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-install-guide-13.png alt></p><p>Spec æ·»åŠ  ingressClassName: xxxï¼Œä¿å­˜ã€‚</p><p><img src=https://pek3b.qingstor.com/kubesphere-community/images/ks-v4-install-guide-14.png alt></p><h2 id=æ€»ç»“>æ€»ç»“</h2><p>ä»¥ä¸Šå°±æ˜¯ KubeSphere v4 å®‰è£…çš„å®Œæ•´æ­¥éª¤ï¼Œä¾›å¤§å®¶å‚è€ƒã€‚å¦‚æœæ‚¨åœ¨å®‰è£…è¿‡ç¨‹ä¸­å‡ºç°é—®é¢˜ï¼Œå¯å»è®ºå›æœç´¢æ˜¯å¦æœ‰è§£ç­”ï¼Œå¦‚æ²¡æœ‰ï¼Œå¯åœ¨è®ºå›æé—®ï¼š <a href=https://ask.kubesphere.io/forum/ target=_blank rel="noopener noreferrer">https://ask.kubesphere.io/forum/</a>ã€‚</p></div></div><div class=share-2><div class=share><a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fopenksc.github.io%2fzh%2fblogs%2fkubesphere-v4-install-guide%2f&text=KubeSphere%20v4%20%e5%ae%89%e8%a3%85%e6%8c%87%e5%8d%97" target=_blank rel="noopener noreferrer"><img src=/images/share/Twitter.svg alt="twitter icon">
</a><a href="https://reddit.com/submit?url=https%3a%2f%2fopenksc.github.io%2fzh%2fblogs%2fkubesphere-v4-install-guide%2f&title=KubeSphere%20v4%20%e5%ae%89%e8%a3%85%e6%8c%87%e5%8d%97" target=_blank rel="noopener noreferrer"><img src=/images/share/Reddit.svg alt="reddit icon">
</a><a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fopenksc.github.io%2fzh%2fblogs%2fkubesphere-v4-install-guide%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Facebook.svg alt="facebook icon">
</a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fopenksc.github.io%2fzh%2fblogs%2fkubesphere-v4-install-guide%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Linkedin.svg alt="linkedin icon">
</a><a href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fopenksc.github.io%2fzh%2fblogs%2fkubesphere-v4-install-guide%2f&t=KubeSphere%20v4%20%e5%ae%89%e8%a3%85%e6%8c%87%e5%8d%97" target=_blank rel="noopener noreferrer"><img src=/images/share/HackerNews.svg alt="hackernews icon"></a></div></div></div><div class=aside><div class=inner-div><div class=title>ç›®å½•</div><div class=tabs><nav id=TableOfContents><ul><li><a href=#å¸è½½-kubesphere-341>å¸è½½ KubeSphere 3.4.1</a><ul><li><a href=#è§£ç»‘é›†ç¾¤>è§£ç»‘é›†ç¾¤</a></li><li><a href=#å¸è½½-kubesphere-341-1>å¸è½½ KubeSphere 3.4.1</a></li></ul></li><li><a href=#å®‰è£…-kubesphere-412>å®‰è£… KubeSphere 4.1.2</a><ul><li><a href=#å‡çº§-crd>å‡çº§ CRD</a></li><li><a href=#host-é›†ç¾¤å®‰è£…-ks-core>Host é›†ç¾¤å®‰è£… ks-core</a></li><li><a href=#æ·»åŠ -member-é›†ç¾¤>æ·»åŠ  Member é›†ç¾¤</a></li><li><a href=#gateway-è¿ç§»>Gateway è¿ç§»</a></li></ul></li><li><a href=#æ€»ç»“>æ€»ç»“</a></li></ul></nav></div></div></div></div></section><div class=SubscribeForm><div class=innerBox><img class=close src=/images/home/close.svg alt=close><p class=description>é€šè¿‡é‚®ä»¶æ¥æ”¶ KubeSphere æœ€æ–°çš„æŠ€æœ¯åšå®¢ä¸äº§å“æ›´æ–°çš„é€šçŸ¥</p><div id=blog_formAddress data-actionaddress="https://www.sendcloud.net/v3/api/subInvite/subscription?invitecode=1dc5a4fb-894c-4470-b01d-ca7fa9d47a46" data-usesendcloud=true data-lang=zh><input name=EMAIL id=email-input-blog type=text placeholder>
<button id=email-submit-blog>è®¢é˜…</button>
<span id=message_blog data-message1=è¯·æä¾›æ‚¨çš„é‚®ç®± data-message2=è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€! data-message3=é‚®ç®±åœ°å€å·²ç»å­˜åœ¨ style=color:red></span><span id=message1_blog style=color:#00a971 data-success=è®¢é˜…æˆåŠŸå•¦ï¼Œæˆ‘ä»¬ä¿è¯ä¸ä¼šç»™ä½ å‘åƒåœ¾é‚®ä»¶çš„å•¦></span></div></div></div><footer><div class=footer><div class="footer-main common-layout"><div class=up-main><div class=left-div><img src=/images/logo.svg alt class=foot-logo><p>é€šè¿‡é‚®ä»¶æ¥æ”¶ KubeSphere æœ€æ–°çš„æŠ€æœ¯åšå®¢ä¸äº§å“æ›´æ–°çš„é€šçŸ¥</p><div id=formAddress data-actionaddress="https://www.sendcloud.net/v3/api/subInvite/subscription?invitecode=1dc5a4fb-894c-4470-b01d-ca7fa9d47a46" data-usesendcloud=true data-lang=zh><input name=EMAIL id=email-input type=text placeholder=è¯·è¾“å…¥æ‚¨çš„é‚®ç®±åœ°å€>
<button id=email-submit>è®¢é˜…</button></div><span id=message data-message1=è¯·æä¾›æ‚¨çš„é‚®ç®± data-message2=è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€! data-message3=é‚®ç®±åœ°å€å·²ç»å­˜åœ¨></span><span id=message1 style=color:#00a971 data-success=è®¢é˜…æˆåŠŸå•¦ï¼Œæˆ‘ä»¬ä¿è¯ä¸ä¼šç»™ä½ å‘åƒåœ¾é‚®ä»¶çš„å•¦></span><script>var bindSubmit=function(){var e=$("#email-input");$("#email-submit").click(function(t){t.stopPropagation();var s,o,n=e.val(),i=$("#message").data("message1"),a=$("#message").data("message2"),r=$("#message").data("message3"),c=$("#message1").data("success");if(n)if(validateEmail(n)){if(s=$("#formAddress").data("usesendcloud"),!s)return;o=$("#formAddress").data("actionaddress"),$.post({type:"post",url:o,data:{email:$("#email-input").val().toString()},success:function(){showSuccessMessage(c),setTimeout(function(){$("#email-input").val("")},1e3)},error:function(){showMessage(r)}})}else t.preventDefault(),showMessage(a);else t.preventDefault(),showMessage(i)})},validateEmail=function(e){var t=/^[A-Za-z0-9]+([_.][A-Za-z0-9]+)*@([A-Za-z0-9-]+\.)+[A-Za-z]{2,6}$/;return t.test(e)},showMessage=function(e){$("#message").html(e).show()},showSuccessMessage=function(e){$("#message1").html(e).show()},bindHideMessage=function(){$(window).click(function(){$("#message").hide(),$("#message1").hide()})},bindClose=function(){$(".formBox .close").click(function(e){e.stopPropagation(),$(".formBox").fadeOut()})};bindSubmit(),bindClose(),bindHideMessage()</script><span id=message data-message1=è¯·æä¾›æ‚¨çš„é‚®ç®± data-message2=è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€!></span></div><div class=right-div><ul class=common-flex-layout><li class=nowrap-li><div class=h3>åº”ç”¨åœºæ™¯</div><a href=/zh/devops/>æ‹¥æŠ±ä¸€ç«™å¼ DevOps</a>
<a href=/zh/service-mesh/>åœ¨ K8s è¿è¡Œå¾®æœåŠ¡</a>
<a href=/zh/observability/>æ„å»ºäº‘åŸç”Ÿå¯è§‚æµ‹æ€§</a>
<a href=https://github.com/kubesphere/kubekey target=_blank rel="noopener noreferrer">K8s ä¸€é”®éƒ¨ç½²ä¸è¿ç»´</a>
<a href=https://github.com/OpenFunction/OpenFunction target=_blank rel="noopener noreferrer">æ„å»º FaaS å¹³å°ä¸ Serverless æ¶æ„</a>
<a href=https://github.com/openpitrix/openpitrix target=_blank rel="noopener noreferrer">å¤šäº‘åº”ç”¨ç®¡ç†å¹³å°</a></li><li class=nowrap-li><div class=h3>èµ„æº</div><a href=/zh/projects/>å¼€æºé¡¹ç›®</a>
<a href=/zh/blogs/>æŠ€æœ¯åšå®¢</a>
<a href=/zh/conferences/>å¼€æºå³°ä¼š</a>
<a href=/zh/videos/>è§†é¢‘èµ„æº</a>
<a href=/zh/learn/>äº‘åŸç”Ÿå®æˆ˜</a></li><li class=nowrap-li><div class=h3>æ–‡æ¡£ä¸­å¿ƒ</div><a href=/zh/docs/v4.1/01-intro/01-introduction/>äº§å“ä»‹ç»</a>
<a href=/zh/docs/v4.1/03-installation-and-upgrade/02-install-kubesphere/02-install-kubernetes-and-kubesphere/>å¦‚ä½•å®‰è£…</a>
<a href=/zh/docs/v4.1/02-quickstart/>å¿«é€Ÿå…¥é—¨</a>
<a href=/zh/docs/v3.4/reference/api-docs/>API æ–‡æ¡£</a></li><li class=nowrap-li><div class=h3>å¼€æºç¤¾åŒº</div><a href=/zh/contribution/>å‚ä¸è´¡çŒ®</a>
<a href=/zh/live/>ç¤¾åŒºæ´»åŠ¨</a>
<a href=/zh/case/>æ¡ˆä¾‹å­¦ä¹ </a>
<a href=/zh/partner/>åˆä½œä¼™ä¼´</a>
<a href=/zh/user-group/>ç”¨æˆ·å§”å‘˜ä¼š</a>
<a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md target=_blank rel="noopener noreferrer">ç‰ˆæœ¬è®¡åˆ’</a>
<a href=https://kubesphere.com.cn/ target=_blank rel="noopener noreferrer">ä¸­å›½ç«™</a>
<a href=https://ask.kubesphere.io/forum target=_blank rel="noopener noreferrer">ä¸­æ–‡è®ºå›</a>
<a href=https://kubesphere.io target=_blank rel="noopener noreferrer">å…¨çƒç«™</a></li><li class=nowrap-li><div class=h3>äº§å“ä¸æœåŠ¡</div><a href=https://aws.amazon.com/cn/quickstart/architecture/qingcloud-kubesphere/ target=_blank rel="noopener noreferrer">KubeSphere on AWS</a>
<a href=https://market.azure.cn/marketplace/apps/qingcloud.kubesphere target=_blank rel="noopener noreferrer">KubeSphere on Azure</a>
<a href=https://marketplace.digitalocean.com/apps/kubesphere target=_blank rel="noopener noreferrer">KubeSphere on DigitalOcean</a>
<a href=https://www.qingcloud.com/products/kubesphereqke target=_blank rel="noopener noreferrer">KubeSphere on QingCloud(QKE)</a>
<a href=https://kubesphere.com.cn/kse/ target=_blank rel="noopener noreferrer">KubeSphere ä¼ä¸šç‰ˆ</a>
<a href=https://kubesphere.cloud/ksv/ target=_blank rel="noopener noreferrer">KubeSphere è™šæ‹ŸåŒ–å¹³å°</a>
<a href=https://kubesphere.com.cn/marketplace/ target=_blank rel="noopener noreferrer">äº‘åŸç”Ÿæ‰©å±•ç»„ä»¶å¸‚åœº</a>
<a href=https://kubesphere.cloud target=_blank rel="noopener noreferrer">äº‘åŸç”Ÿåº”ç”¨æœåŠ¡å¹³å°</a>
<a href=https://m.qingcloud.com/p/aec50 target=_blank rel="noopener noreferrer">äº†è§£å•†ä¸šäº§å“ä¸å’¨è¯¢åˆä½œ</a></li></ul></div></div><div class=down-main><div class=img-div><a class=wechat href=javascript:void(0); aria-label=wechat><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28" height="28" viewBox="0 0 28 28"><defs><path id="a" d="M0 0h15.673v12.156H0z"/></defs><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="13" cy="13" r="13" stroke="#B6C2CD"/><g transform="translate(5 7)"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><path fill="currentColor" d="M15.673 7.898c0-2.061-2.173-3.74-4.619-3.74-2.59.0-4.625 1.679-4.625 3.74.0 2.066 2.035 3.738 4.625 3.738.542.0 1.09-.13 1.632-.256l1.493.776-.408-1.29c1.09-.776 1.902-1.81 1.902-2.968zm-6.119-.645c-.27.0-.541-.257-.541-.514.0-.256.27-.514.541-.514.41.0.681.258.681.514.0.257-.271.514-.681.514zm2.994.0c-.27.0-.541-.257-.541-.514.0-.256.27-.514.54-.514.41.0.681.258.681.514.0.257-.277.514-.68.514z" mask="url(#b)"/><path fill="currentColor" d="M10.602 3.674c.177.0.356.011.533.029C10.657 1.576 8.27.0 5.543.0 2.498.0.0 1.974.0 4.485c0 1.45.829 2.64 2.216 3.564l-.552 1.588 1.94-.929c.693.129 1.251.263 1.94.263.17.0.343-.005.515-.022a3.68 3.68.0 01-.172-1.104c0-2.302 2.081-4.171 4.715-4.171zM7.618 2.243c.417.0.693.263.693.66s-.276.66-.693.66c-.418.0-.835-.263-.835-.66.006-.398.423-.66.835-.66zm-3.88 1.319c-.417.0-.834-.263-.834-.66s.417-.66.834-.66c.418.0.695.263.695.66.0.392-.277.66-.695.66z" mask="url(#b)"/></g></g></svg><div class=hide-div><img src=/images/home/wechat.svg alt></div></a><a class=facebook-a href=https://www.facebook.com/kubesphere target=_blank aria-label=facebook></a><a class=twitter-a href=https://x.com/KubeSphere target=_blank aria-label=twitter rel="noopener noreferrer"></a><a class=linkedin-a href=https://www.linkedin.com/company/kubesphere/ target=_blank aria-label=linkedin rel="noopener noreferrer"></a><a class=bilibili-a href=https://space.bilibili.com/438908638 target=_blank aria-label=bilibili rel="noopener noreferrer"></a><a class=slack-a href=https://join.slack.com/t/kubesphere/shared_invite/zt-2b4t6rdb4-ico_4UJzCln_S2c1pcrIpQ target=_blank aria-label=slack rel="noopener noreferrer"></a><a class=github-a href=https://github.com/kubesphere/kubesphere target=_blank aria-label=github rel="noopener noreferrer"></a><a class=medium-a href=https://itnext.io/@kubesphere target=_blank aria-label=medium rel="noopener noreferrer"></a></div><p class=p1></p><p class=case><a href=http://www.beian.miit.gov.cn/ target=_blank rel="noopener noreferrer"><span>äº¬ICPå¤‡13019086å·</span>
</a><a target=_blank rel="noopener noreferrer" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010502041003"><img src=/images/footer/case-icon.png alt=å¤‡æ¡ˆå›¾æ ‡>
<span>äº¬å…¬ç½‘å®‰å¤‡ 11010502041003å·</span></a></p></div></div></div><div class=cookie><div class=common-layout><p>æ‚¨çš„éšç§å¯¹æˆ‘ä»¬å¾ˆé‡è¦ã€‚æˆ‘ä»¬ä½¿ç”¨Cookieæ¥è®°ä½è®¢é˜…è¯¦ç»†ä¿¡æ¯ï¼Œä¼˜åŒ–ç½‘ç«™åŠŸèƒ½å¹¶äº¤ä»˜æ ¹æ®æ‚¨çš„å…´è¶£é‡èº«å®šåˆ¶çš„å†…å®¹ã€‚è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æˆ‘ä»¬çš„<a href=/zh/privacy>éšç§æ”¿ç­–</a>.</p><button>
æ¥å—å¹¶ç»§ç»­</button></div></div></footer><script>var lazyLoad=function(e,t){for(var n,o,i,s=0;s<t;s++){if(n=e.eq(s),o=n.attr("data-loaded"),o)continue;n.offset().top<parseInt($(window).height())+parseInt($(window).scrollTop())&&(i=n.attr("src"),n.attr("src",i),n.attr("data-loaded",!0))}},bindLayLoad=function(){var e=$("img"),t=e.length;lazyLoad(e,t),$(window).scroll(function(){lazyLoad(e,t)})},bindAddPadding=function(){var e=$("#close-join");e.length>0&&$(".main-section").addClass("padding")},docCookies={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t){return!!e&&!/^(?:expires|max-age|path|domain|secure)$/i.test(e)&&(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t),!0)}},bindHideCookie=function(){var t=docCookies.getItem("hasAuth"),e=$(".cookie");t?e.hide():e.show(),e.find("button").on("click",function(){docCookies.setItem("hasAuth","1"),e.hide()})};bindAddPadding(),bindHideCookie()</script><script type=text/javascript src=/js/aside.2d6977c0f16aef4ed3e886dd66675ce74bd0efcd467c2b2bcdb30b92d5e7c7c0e5c6e0c9d8f09a883c22f58df9e6b0b6347fcdd3c9a920b7faba6d7f91a201c3.js integrity="sha512-LWl3wPFq707T6IbdZmdc50vQ781GfCsrzbMLktXnx8DlxuDJ2PCaiDwi9Y355rC2NH/N08mpILf6um1/kaIBww=="></script><script type=text/javascript src=/js/markdown-tab.17f9f46b021adebc7250ce1b07134a577b307e7a436daa4aaf388f218e8463966f53770b26a64817c06c168738a887672d47fb4c29615adfc446e11d09a344cf.js integrity="sha512-F/n0awIa3rxyUM4bBxNKV3swfnpDbapKrziPIY6EY5ZvU3cLJqZIF8BsFoc4qIdnLUf7TClhWt/ERuEdCaNEzw=="></script><script>let forbidForm=!1;var viewer=new Viewer(document.querySelector(".md-body"),{url:"src"}),blogBindSubmit=function(){var e=$("#email-input-blog");$("#email-submit-blog").click(function(t){t.stopPropagation();var s,o,n=e.val(),i=$("#message_blog").data("message1"),a=$("#message_blog").data("message2"),r=$("#message_blog").data("message3"),c=$("#message1_blog").data("success");if(n)if(validateEmail(n)){if(s=$("#blog_formAddress").data("usesendcloud"),!s)return;o=$("#blog_formAddress").data("actionaddress"),$.post({type:"post",url:o,data:{email:n.toString()},success:function(){showSuccessMessage_blog(c),setTimeout(function(){window.onscroll="",$(".SubscribeForm").hide(),$("#email-input-blog").val("")},5e3)},error:function(){showMessage_blog(r)}})}else t.preventDefault(),$("#message_blog").html(a).show();else t.preventDefault(),$("#message_blog").html(i).show()})},validateEmail=function(e){var t=/^[A-Za-z0-9]+([_.][A-Za-z0-9]+)*@([A-Za-z0-9-]+\.)+[A-Za-z]{2,6}$/;return t.test(e)},bindHideMessageBlog=function(){$(window).click(function(){$("#message_blog").hide()})},bindCloseBlog=function(){$(".SubscribeForm .close").click(function(e){e.stopPropagation(),$(".SubscribeForm").fadeOut(),window.onscroll=""})},showMessage_blog=function(e){$("#message_blog").html(e).show()},showSuccessMessage_blog=function(e){$("#message1_blog").html(e).show()};window.onscroll=()=>{var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.clientHeight||document.body.clientHeight,n=document.documentElement.scrollHeight||document.body.scrollHeight;forbidForm&&(window.onscroll=""),e+t>n-710?$(".SubscribeForm").hide():$(".SubscribeForm").show()},blogBindSubmit(),bindCloseBlog(),bindHideMessageBlog()</script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script></body></html>