<!doctype html><html lang=en-US><head><meta charset=utf-8><title>Use KubeKey to Set up a Kubernetes and KubeSphere Cluster with NFS Storage</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Set up your NFS server and use it to provide externals storage for your Kubernetes cluster."><meta name=keywords content="Kubernetes,KubeSphere,NFS,KubeKey"><meta property="og:type" content="article"><meta property="og:title" content="Use KubeKey to Set up a Kubernetes and KubeSphere Cluster with NFS Storage"><meta property="og:description" content="Set up your NFS server and use it to provide externals storage for your Kubernetes cluster."><meta property="og:image" content="https://ap3.qingstor.com/kubesphere-website/docs/KubeKey-lightweight-installer.png"><meta property="og:url" content="https://openksc.github.io/blogs/install-nfs-server-client-for-kubesphere-cluster/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@KubeSphere"><meta property="twitter:image" content="https://ap3.qingstor.com/kubesphere-website/docs/KubeKey-lightweight-installer.png"><meta name=docsearch:language content="en-US"><meta name=docsearch:version content><link rel=canonical href=https://kubesphere.io/blogs/install-nfs-server-client-for-kubesphere-cluster/><link rel="shortcut icon" href=/images/favicons/favicon.ico><link rel=apple-touch-icon href=/images/favicons/apple-touch-icon.png sizes=180x180><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/svg+xml href=/images/favicons/favicon.svg><link rel=icon type=image/png href=/images/favicons/favicon.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg color=#00ad6e><meta name=msapplication-config content='/images/favicons/browserconfig.xml'><meta name=msapplication-TileColor content="#ffffff"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=/fonts/Roboto/stylesheet.css><link rel=stylesheet href=/fonts/ProximaNova/stylesheet.css><link rel=stylesheet href=/css/jquery.modal.min.css><link rel=stylesheet href=/css/viewer.min.css><link rel=stylesheet href=/swiper/swiper-bundle.min.css><link rel=stylesheet href=/scss/common.min.0c3fdcc05ec210321169846714f74b11c4a1baf09a1833fa9273b2347c81e636.css><script src=/js/jquery-3.7.1.min.js></script><script src=/js/viewer.min.js></script><script src=/js/jquery.modal.min.js></script><script src=/swiper/swiper-bundle.min.js></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0888981f1fa45d241b1fb6962da2963e",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-YYCVN36HT5"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-YYCVN36HT5")</script><script type=text/javascript>!function(e,t,n,s,o){e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},n=t.createElement("script"),tag=t.getElementsByTagName("script")[0],n.async=1,n.src=("https:"==document.location.protocol?"https://":"http://")+s,tag.parentNode.insertBefore(n,tag)}(window,document,"script","assets.giocdn.com/2.1/gio.js","gio"),gio("init","8a24ae300cbf8b8c",{}),gio("send")</script><script type=text/javascript>_linkedin_partner_id="3131724",window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(_linkedin_partner_id)</script><script type=text/javascript>(function(){var t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.parentNode.insertBefore(e,t)})()</script><noscript>&lt; img height="1" width="1" style="display:none;" alt="" src="https://px.ads.linkedin.com/collect/?pid=3131724&fmt=gif" /></noscript><script>!function(e,t,n,s,o,i){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments)},s.version="1.1",s.queue=[],o=t.createElement(n),o.async=!0,o.src="//static.ads-twitter.com/uwt.js",i=t.getElementsByTagName(n)[0],i.parentNode.insertBefore(o,i))}(window,document,"script"),twq("init","o65xa"),twq("track","PageView")</script><link rel=stylesheet href=/scss/content.min.f73b326fbf8c5bd331900b0de21c7dde608a4926f482f6465f9ae1d9049b83ad.css><link rel=stylesheet href=/scss/markdown.min.db47186481122431dffae72d17dbbd51f90b66f022cc163458645709924e4eac.css></head><body><header class=navigation><div class=join-div><div class=content>ðŸš€ KubeSphere v4.1.3 with Enhancements and Bug Fixes is available now. <a href=/docs/v4.1/20-release-notes/release-v413/ target=_blank rel="noopener noreferrer">Read the release notes â†’</a>
<img id=close-join src=/images/header/close.svg alt=close></div></div><div class=common-layout><div class=header-container><a href=/ aria-label=logo><img src=/images/header/logo.svg alt class=logo></a><ul class=nav><li class=menu-li><span class=menu-span>Scenarios</span><ul class="dropdown-menu menu-2"><li><a href=/devops/>Embracing One-stop DevOps Workflow</a></li><li><a href=/service-mesh/>Running Microservices on Kubernetes</a></li><li><a href=/observability/>Building Cloud Native Observability</a></li></ul></li><li class=menu-li><span class=menu-span>Resources</span><ul class="dropdown-menu menu-3"><li><a href=/projects/>Open Source Projects</a></li><li><a href=/conferences/>KubeCon & QCon</a></li><li><a href=/blogs/>Technology Blogs</a></li><li><a href=/videos/>Video Resources</a></li></ul></li><li class=menu-li><span class=menu-span>Documentation</span><ul class="dropdown-menu menu-4"><li><a href=/docs/v4.1>v4.1 <img src=/images/header/star.svg alt=star></a></li><li><a href=/docs/v3.4>v3.4</a></li><li><a href=/docs/v3.3>v3.3</a></li><li><a href=https://dev-guide.kubesphere.io/extension-dev-guide/en/%20 target=_blank rel="noopener noreferrer">Extension Development</a></li><li><a href=https://kube.design/ target=_blank rel="noopener noreferrer">Kube Design</a></li></ul></li><li class=menu-li><span class=menu-span>Community</span><ul class="dropdown-menu menu-5"><li><a href=/contribution/>Contribution</a></li><li><a href=/case/>Case Studies</a></li><li><a href=/partner/>Partner</a></li><li><a href=/news/>News</a></li><li><a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md target=_blank rel="noopener noreferrer">RoadMap</a></li><li><a href=https://github.com/kubesphere/community/tree/master/sig-advocacy-and-outreach/ospp-2025 target=_blank rel="noopener noreferrer">OSPP 2025</a></li></ul></li></ul><div class=right-menu><ul><li class=language-menu><div><img src=/images/header/black.svg alt>
<span>English</span></div><ul class=dropdown-menu><li onclick='handleLangClick("en","/blogs/install-nfs-server-client-for-kubesphere-cluster/")'>English</li></ul></li><li class=github-li><div class=github-star><a class=star-btn href=https://github.com/kubesphere/kubesphere rel="noopener noreferrer" target=_blank><span class=star-img></span>&nbsp;<span>Star</span>
</a><a class=social-count href=https://github.com/kubesphere/kubesphere/stargazers rel="noopener noreferrer" target=_blank></a></div></li><li class=menu-icon><img src=/images/header/menu.svg alt></li></ul></div></div></div><div id=modal-for-menu class=modal><ul class=nav><li data-check=0 class=menu-li><span class=menu-span>Scenarios</span><ul class=dropdown-menu><li><a href=/devops/>Embracing One-stop DevOps Workflow</a></li><li><a href=/service-mesh/>Running Microservices on Kubernetes</a></li><li><a href=/observability/>Building Cloud Native Observability</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>Resources</span><ul class=dropdown-menu><li><a href=/projects/>Open Source Projects</a></li><li><a href=/conferences/>KubeCon & QCon</a></li><li><a href=/blogs/>Technology Blogs</a></li><li><a href=/videos/>Video Resources</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>Documentation</span><ul class=dropdown-menu><li><a href=/docs/v4.1>v4.1 <img src=/images/header/star.svg alt=star></a></li><li><a href=/docs/v3.4>v3.4</a></li><li><a href=/docs/v3.3>v3.3</a></li><li><a href=https://dev-guide.kubesphere.io/extension-dev-guide/en/%20>Extension Development</a></li><li><a href=https://kube.design/>Kube Design</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>Community</span><ul class=dropdown-menu><li><a href=/contribution/>Contribution</a></li><li><a href=/case/>Case Studies</a></li><li><a href=/partner/>Partner</a></li><li><a href=/news/>News</a></li><li><a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md>RoadMap</a></li><li><a href=https://github.com/kubesphere/community/tree/master/sig-advocacy-and-outreach/ospp-2025>OSPP 2025</a></li></ul></li></ul><div class=link-div><a href=https://join.slack.com/t/kubesphere/shared_invite/zt-2b4t6rdb4-ico_4UJzCln_S2c1pcrIpQ target=_blank rel="noopener noreferrer" aria-label=slack><img src=/images/header/slack-hover.svg alt>
</a><a href=https://x.com/KubeSphere target=_blank rel="noopener noreferrer" aria-label=twitter><img src=/images/header/twitter-hover.svg alt>
</a><a href=https://github.com/kubesphere/kubesphere target=_blank rel="noopener noreferrer" aria-label=github><img src=/images/header/github-hover.svg alt></a></div></div></header><script>var bindNavMouseEvent,bindScrollChangeHeader,bindClickShowMenu,bindClickModalLi,bindClickClose,language,handleLangClick,githubApiLink="https://api.github.com/repos/kubesphere/kubesphere",getStar=function(){$(".social-count").hide(),$.getJSON(githubApiLink,function(e){$(".social-count").show().html(e.stargazers_count)})};getStar(),bindNavMouseEvent=function(e,t){t||(t=$(e));var n=!1;t.mouseenter(function(){if(n)return!1;n=!0,$(this).find(".dropdown-menu").fadeIn(200,function(){n=!1})}),t.mouseleave(function(){$(this).find(".dropdown-menu").fadeOut(200)})},bindScrollChangeHeader=function(){var t=100,e=$("header");window.addEventListener("scroll",function(){var t=window.scrollY;t>0?e.addClass("navigationScroll"):e.removeClass("navigationScroll")})},bindClickShowMenu=function(){$(".menu-icon").click(function(){$("#modal-for-menu").modal()})},bindClickModalLi=function(){$(".modal .menu-li").click(function(){var e=$(this).data("check");e===0?($(this).data("check",1),$(this).find(".dropdown-menu").slideDown(200)):($(this).data("check",0),$(this).find(".dropdown-menu").slideUp(200)),$(this).find(".menu-span").toggleClass("up")})},bindClickClose=function(){$("#close-join").click(function(){$(".navigation .join-div").hide(),$(".main-section").removeClass("padding")})},language="en",bindClickClose(),bindScrollChangeHeader(),$(".header-container .menu-li").each(function(){bindNavMouseEvent("",$(this))}),bindNavMouseEvent(".header-container .language-menu"),bindNavMouseEvent(".header-container .btn-li"),bindClickShowMenu(),bindClickModalLi(),handleLangClick=function(e,t){try{localStorage.setItem("lang",e)}catch{}location.href=t}</script><section class=main-section><div class=common-layout><div class=breadcrumb><span><a href=/blogs/>Technology Blogs</a> > </span><span>Use KubeKey to Set up a Kubernetes and KubeSphere Cluster with NFS Storage</span></div><div class='main-div middle-div'><div class=author>Sherlock</div><span class=date>Published onï¼š2021-03-02</span>&nbsp;&nbsp;&nbsp;
<span style=font-size:14px;color:#919aa3 id=busuanzi_container_page_pv>The number of views: <span id=busuanzi_value_page_pv></span></span><h1>Use KubeKey to Set up a Kubernetes and KubeSphere Cluster with NFS Storage</h1><div class=share-1><div class=share><a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-nfs-server-client-for-kubesphere-cluster%2f&text=Use%20KubeKey%20to%20Set%20up%20a%20Kubernetes%20and%20KubeSphere%20Cluster%20with%20NFS%20Storage" target=_blank rel="noopener noreferrer"><img src=/images/share/Twitter.svg alt="twitter icon">
</a><a href="https://reddit.com/submit?url=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-nfs-server-client-for-kubesphere-cluster%2f&title=Use%20KubeKey%20to%20Set%20up%20a%20Kubernetes%20and%20KubeSphere%20Cluster%20with%20NFS%20Storage" target=_blank rel="noopener noreferrer"><img src=/images/share/Reddit.svg alt="reddit icon">
</a><a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-nfs-server-client-for-kubesphere-cluster%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Facebook.svg alt="facebook icon">
</a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-nfs-server-client-for-kubesphere-cluster%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Linkedin.svg alt="linkedin icon">
</a><a href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-nfs-server-client-for-kubesphere-cluster%2f&t=Use%20KubeKey%20to%20Set%20up%20a%20Kubernetes%20and%20KubeSphere%20Cluster%20with%20NFS%20Storage" target=_blank rel="noopener noreferrer"><img src=/images/share/HackerNews.svg alt="hackernews icon"></a></div></div><div class=content><div class=md-body><p>In my previous articles, I talked about how to use <a href=https://github.com/kubesphere/kubekey target=_blank rel="noopener noreferrer">KubeKey</a> to set up and scale a Kubernetes cluster. As you may already know, KubeKey can do way more than that. You can also use KubeKey to install KubeSphere, a <a href=https://kubesphere.io/ target=_blank rel="noopener noreferrer">container platform</a> running on top of Kubernetes with streamlined DevOps workflows, unified multi-cluster management and more. Besides, KubeKey is able to install cloud-native add-ons by Chart or YAML files.</p><p>Among other things, storage represents one of, if not the most important element as you set up a Kubernetes cluster. Kubernetes itself supports multiple storage solutions, such as NFS-client, Ceph CSI and GlusterFS (in-tree). In this article, I am going to show you how to use KubeKey to create a Kubernetes and KubeSphere cluster with <a href=https://github.com/kubernetes-incubator/external-storage/tree/master/nfs-client target=_blank rel="noopener noreferrer">NFS-client Provisioner</a> providing external storage.</p><h2 id=what-is-nfs>What is NFS</h2><p>Network File System (NFS) provides you with remote access to files and directories on a server machine. It allows multiple clients to access shared resources over a network.</p><p>You can install <a href=https://github.com/kubernetes-incubator/external-storage/tree/master/nfs-client target=_blank rel="noopener noreferrer">NFS-client Provisioner</a> as a storage plugin for your Kubernetes cluster while you must configure an NFS server beforehand. Here is how it works: an NFS client mounts a directory on the server machine so that files residing on the NFS server are accessible to the NFS client. The directory, which you create on the server and share with your client, is also called an <strong>exported directory</strong>. To ensure that your client can access the directory smoothly, you must grant the access to them with several commands which I will show you later.</p><p>At the same time, a component called <code>nfs-common</code> (for Debian-based Linux distributions) or <code>nfs-utils</code> (for CentOS-based Linux distributions) needs to be installed on all the client machines to provide essential NFS client libraries and utilities.</p><h2 id=how-does-kubekey-use-nfs-client-configurations>How Does KubeKey Use NFS-client Configurations</h2><p>As I said above, you can use KubeKey to install different add-ons by Chart or YAML files. The configuration of these add-ons must be offered in the configuration file (<code>config-sample.yaml</code> by default) created by KubeKey. To let KubeKey apply these configurations during installation, there are generally two ways:</p><ol><li>Input necessary parameters under the <code>addons</code> field directly in <code>config-sample.yaml</code>.</li><li>Create a separate configuration file for your add-on to list all the necessary parameters and provide the path of the file in <code>config-sample.yaml</code> so that KubeKey can reference it.</li></ol><p>In this article, I will use the second way for demonstration. The general steps are:</p><ol><li>Set up an NFS server.</li><li>Install <code>nfs-common</code> or <code>nfs-utils</code> on all the client machines in your cluster and create a separate configuration file for NFS-client Provisioner on one of the client machines that servers as the taskbox for installation.</li><li>Download KubeKey on the taskbox.</li><li>Use KubeKey to create your cluster configuration file (<code>config-sample.yaml</code>) and edit it.</li><li>Install Kubernetes, KubeSphere and NFS-client Provisioner including the storage class.</li></ol><h2 id=prepare-hosts>Prepare Hosts</h2><p>Here is my node information for your reference:</p><table><thead><tr><th>Host IP</th><th>Hostname</th><th>Role</th><th>System</th></tr></thead><tbody><tr><td>192.168.0.2</td><td>server</td><td>NFS server</td><td>Ubuntu 16.04, 4 Cores, 4 G Memory, 100 G Disk</td></tr><tr><td>192.168.0.3</td><td>client1</td><td>master, etcd</td><td>Ubuntu 16.04, 8 Cores, 8 G Memory, 50 G Disk</td></tr><tr><td>192.168.0.4</td><td>client2</td><td>worker</td><td>Ubuntu 16.04, 8 Cores, 8 G Memory, 50 G Disk</td></tr><tr><td>192.168.0.5</td><td>client3</td><td>worker</td><td>Ubuntu 16.04, 8 Cores, 8 G Memory, 50 G Disk</td></tr></tbody></table><p>The <code>server</code> machine, where the NFS server will be installed, provides external storage services for three client machines in the cluster.</p><p>For more information about requirements for nodes, network, and dependencies, see <a href=https://kubesphere.io/blogs/install-kubernetes-using-kubekey/#node-requirements target=_blank rel="noopener noreferrer">one of my previous posts</a>.</p><h2 id=install-and-configure-an-nfs-server>Install and Configure an NFS Server</h2><h3 id=step-1-install-the-nfs-kernel-server>Step 1: Install the NFS kernel server</h3><p>To set up your server machine, you must install the NFS kernel server on it.</p><ol><li><p>Run the following command so that you will be using the latest package on Ubuntu for installation.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get update
</span></span></code></pre></div></li><li><p>Install the NFS kernel server.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt install nfs-kernel-server
</span></span></code></pre></div></li></ol><h3 id=step-2-create-an-exported-directory>Step 2: Create an exported directory</h3><p>Your NFS client will mount a directory on the server machine which has been exported by the NFS server.</p><ol><li><p>Run the following command as root to specify a mount folder name (for example, <code>/mnt/demo</code>). This is also the directory that will be shared with your client machines.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo mkdir -p /mnt/demo
</span></span></code></pre></div></li><li><p>To ensure that all the clients can access the directory, remove permissions of the folder.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo chown nobody:nogroup /mnt/demo
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo chmod <span style=color:#ae81ff>777</span> /mnt/demo
</span></span></code></pre></div></li></ol><h3 id=step-3-grant-your-client-machine-access-to-the-nfs-server>Step 3: Grant your client machine access to the NFS server</h3><ol><li><p>Run the following command to edit the <code>/etc/exports</code> file with <code>nano</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo nano /etc/exports
</span></span></code></pre></div></li><li><p>Add your client information to the file. Note that if you have multiple directories that you want to share with your clients, you need to add them all to the file. Here is the syntax:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/mnt/demo clientIP<span style=color:#f92672>(</span>rw,sync,no_subtree_check<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>If you have multiple client machines, add each line for all of them. Alternatively, specify a subnet in the file so that all the clients within it can access the NFS server. For example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/mnt/demo 192.168.0.0/24<span style=color:#f92672>(</span>rw,sync,no_subtree_check<span style=color:#f92672>)</span>
</span></span></code></pre></div><div class="notices note"><p>Note</p><div><ul><li><code>rw</code>: Read and write operations. The client machine will have both read and write access to the volume.</li><li><code>sync</code>: Changes will be written to disk and memory.</li><li><code>no_subtree_check</code>: Prevent subtree checking. It disables the security verification required for a client to mount permitted subdirectories.</li></ul></div></div></li><li><p>Save the file.</p></li></ol><h3 id=step-4-apply-the-configuration>Step 4: Apply the configuration</h3><ol><li><p>Run the following command to export your shared directory.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo exportfs -a
</span></span></code></pre></div></li><li><p>To make your configuration effective, restart the NFS kernel server.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo systemctl restart nfs-kernel-server
</span></span></code></pre></div></li></ol><h2 id=configure-the-client-machine>Configure the Client Machine</h2><p>Now that we have our server machine ready, we need to install <code>nfs-common</code> on all of our clients. It provides necessary NFS functions while you do not need to install any server components.</p><ol><li><p>Likewise, execute the following command to make sure you are using the latest package.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get update
</span></span></code></pre></div></li><li><p>Install <code>nfs-common</code> on all the clients.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo apt-get install nfs-common
</span></span></code></pre></div></li><li><p>Go to one of the client machines (taskbox) where you want to download KubeKey later (for example, <code>client1</code>). Create a configuration file that contains all the necessary parameters of your NFS server which will be referenced by KubeKey during installation.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>vi nfs-client.yaml
</span></span></code></pre></div><p>Here is my configuration for your reference:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>nfs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>server</span>: <span style=color:#e6db74>&#34;192.168.0.2&#34;</span>    <span style=color:#75715e># This is the server IP address. Replace it with your own.</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>path</span>: <span style=color:#e6db74>&#34;/mnt/demo&#34;</span>    <span style=color:#75715e># Replace the exported directory with your own.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>storageClass</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>defaultClass</span>: <span style=color:#66d9ef>false</span>
</span></span></code></pre></div><div class="notices note"><p>Note</p><div><ul><li>If you want to configure more values, see <a href=https://github.com/kubesphere/helm-charts/tree/master/src/main/nfs-client-provisioner#configuration target=_blank rel="noopener noreferrer">chart configurations for NFS-client</a>.</li><li>The <code>storageClass.defaultClass</code> field controls whether you want to set the storage class of NFS-client Provisioner as the default one. If you input <code>false</code> for it, KubeKey will install <a href=https://github.com/openebs/openebs target=_blank rel="noopener noreferrer">OpenEBS</a> to provide local volumes, while they are not provisioned dynamically as you create workloads on your cluster. After you install KubeSphere, you can change the default storage class on the console directly.</li></ul></div></div></li><li><p>Save the file. Now you can use KubeKey to install both Kubernetes and KubeSphere, together with NFS-client Provisioner.</p></li></ol><h2 id=download-kubekey-and-install-a-cluster>Download KubeKey and Install a Cluster</h2><ol><li><p>Download KubeKey from its <a href=https://github.com/kubesphere/kubekey/releases target=_blank rel="noopener noreferrer">GitHub Release Page</a> or use the following command to download KubeKey version 1.0.1. You only need to download KubeKey to one of your machines that serves as the <strong>taskbox</strong> for installation.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sfL https://get-kk.kubesphere.io | VERSION<span style=color:#f92672>=</span>v2.0.0 sh -
</span></span></code></pre></div></li><li><p>The above command downloads KubeKey and unzips the file. Your folder now contains a file called <code>kk</code>. Make it executable.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>chmod +x kk
</span></span></code></pre></div></li><li><p>Specify a Kubernetes version and a KubeSphere version that you want to install. For more information about supported Kubernetes versions, see <a href=https://github.com/kubesphere/kubekey/blob/master/docs/kubernetes-versions.md target=_blank rel="noopener noreferrer">this list</a>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./kk create config --with-kubernetes v1.20.4 --with-kubesphere v3.2.1
</span></span></code></pre></div></li><li><p>A default file <code>config-sample.yaml</code> will be created if you do not customize the name. Edit the file.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>vi config-sample.yaml
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>sample</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>hosts</span>:
</span></span><span style=display:flex><span>  - {<span style=color:#f92672>name: client1, address: 192.168.0.3, internalAddress: 192.168.0.3, user: ubuntu, password</span>: <span style=color:#ae81ff>Testing123}</span>
</span></span><span style=display:flex><span>  - {<span style=color:#f92672>name: client2, address: 192.168.0.4, internalAddress: 192.168.0.4, user: ubuntu, password</span>: <span style=color:#ae81ff>Testing123}</span>
</span></span><span style=display:flex><span>  - {<span style=color:#f92672>name: client3, address: 192.168.0.5, internalAddress: 192.168.0.5, user: ubuntu, password</span>: <span style=color:#ae81ff>Testing123}</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>roleGroups</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>etcd</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>client1</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>master</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>client1</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>worker</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>client2</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>client3</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>controlPlaneEndpoint</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>domain</span>: <span style=color:#ae81ff>lb.kubesphere.local</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>address</span>: <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>port</span>: <span style=color:#e6db74>&#34;6443&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>kubernetes</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>version</span>: <span style=color:#ae81ff>v1.17.9</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>imageRepo</span>: <span style=color:#ae81ff>kubesphere</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>clusterName</span>: <span style=color:#ae81ff>cluster.local</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>network</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>plugin</span>: <span style=color:#ae81ff>calico</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>kubePodsCIDR</span>: <span style=color:#ae81ff>10.233.64.0</span><span style=color:#ae81ff>/18</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>kubeServiceCIDR</span>: <span style=color:#ae81ff>10.233.0.0</span><span style=color:#ae81ff>/18</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>registry</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>registryMirrors</span>: []
</span></span><span style=display:flex><span>    <span style=color:#f92672>insecureRegistries</span>: []
</span></span><span style=display:flex><span>  <span style=color:#f92672>addons</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>nfs-client</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>kube-system</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>sources</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>chart</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>name</span>: <span style=color:#ae81ff>nfs-client-provisioner</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>repo</span>: <span style=color:#ae81ff>https://charts.kubesphere.io/main</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>values</span>: <span style=color:#ae81ff>/home/ubuntu/nfs-client.yaml</span> <span style=color:#75715e># Use the path of your own NFS-client configuration file.</span>
</span></span><span style=display:flex><span>...             
</span></span></code></pre></div></li><li><p>Pay special attention to the field of <code>addons</code>. For more information about each parameter in this file, you can see <a href=https://kubesphere.io/blogs/install-kubernetes-using-kubekey/#install-kubernetes target=_blank rel="noopener noreferrer">one of my previous posts</a>, or have a look at <a href=https://github.com/kubesphere/kubekey/blob/master/docs/config-example.md target=_blank rel="noopener noreferrer">this example file</a> and <a href=https://github.com/kubesphere/kubekey/blob/master/docs/addons.md target=_blank rel="noopener noreferrer">explanations</a> for the <code>addons</code> field. Note that you can also enable pluggable components of KubeSphere in this file, such as DevOps, service mesh, and App Store.</p></li><li><p>Save the file and execute the following command to install Kubernetes and KubeSphere:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./kk create cluster -f config-sample.yaml
</span></span></code></pre></div></li><li><p>When the installation finishes, you can inspect installation logs with the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl logs -n kubesphere-system <span style=color:#66d9ef>$(</span>kubectl get pod -n kubesphere-system -l app<span style=color:#f92672>=</span>ks-install -o jsonpath<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{.items[0].metadata.name}&#39;</span><span style=color:#66d9ef>)</span> -f
</span></span></code></pre></div><p>You can see the following message if the installation is successful:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#####################################################</span>
</span></span><span style=display:flex><span><span style=color:#75715e>###              Welcome to KubeSphere!           ###</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#####################################################</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Console: http://192.168.0.3:30880
</span></span><span style=display:flex><span>Account: admin
</span></span><span style=display:flex><span>Password: P@88w0rd
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>NOTESï¼š
</span></span><span style=display:flex><span>  1. After you log into the console, please check the
</span></span><span style=display:flex><span>     monitoring status of service components in
</span></span><span style=display:flex><span>     <span style=color:#e6db74>&#34;Cluster Management&#34;</span>. If any service is not
</span></span><span style=display:flex><span>     ready, please wait patiently <span style=color:#66d9ef>until</span> all components 
</span></span><span style=display:flex><span>     are up and running.
</span></span><span style=display:flex><span>  2. Please change the default password after login.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>#####################################################</span>
</span></span><span style=display:flex><span>https://kubesphere.io             20xx-xx-xx xx:xx:xx
</span></span><span style=display:flex><span><span style=color:#75715e>#####################################################</span>
</span></span></code></pre></div></li></ol><h2 id=verify-installation>Verify Installation</h2><p>You can verify that NFS-client has been successfully installed either from the command line or from the KubeSphere web console.</p><h3 id=command-line>Command line</h3><ol><li><p>Run the following command to check your storage class.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get sc
</span></span></code></pre></div><p>I did not set <code>nfs-client</code> as the default storage class so KubeKey installed OpenEBS for me as well. Expected output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>NAME              PROVISIONER                                       RECLAIMPOLICY   VOLUMEBINDINGMODE      ALLOWVOLUMEEXPANSION   AGE
</span></span><span style=display:flex><span>local <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>   openebs.io/local                                  Delete          WaitForFirstConsumer   false                  16m
</span></span><span style=display:flex><span>nfs-client        cluster.local/nfs-client-nfs-client-provisioner   Delete          Immediate              true                   16m
</span></span></code></pre></div></li><li><p>Run the following command to check the statuses of Pods.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get pod -n kube-system
</span></span></code></pre></div><p>Note that <code>nfs-client</code> is installed in the namespace <code>kube-system</code>. Expected output (exclude irrelevant Pods):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>NAME                                                 READY   STATUS    RESTARTS   AGE
</span></span><span style=display:flex><span>nfs-client-nfs-client-provisioner-6fc95f4f79-92lsh   1/1     Running   <span style=color:#ae81ff>0</span>          16m
</span></span></code></pre></div></li></ol><h3 id=kubesphere-console>KubeSphere console</h3><ol><li><p>The <code>ks-console</code> Service is being exposed through a NodePort. Log in to the console at <code>&lt;node IP>:30880</code> with the default account and password (<code>admin/P@88w0rd</code>). You may need to open the port in your security groups and configure relevant port forwarding rules depending on your environment.</p></li><li><p>Click <strong>Platform</strong> in the top-left corner and go to <strong>Cluster Management</strong>. In <strong>Storage Classes</strong> under <strong>Storage</strong>, you can see two storage classes:</p><p><img src=/images/blogs/en/install-nfs-server-client-for-kubesphere-cluster/nfs-storage-class.png alt=nfs-storage-class></p></li><li><p>Go to <strong>Pods</strong> under <strong>Application Workloads</strong>, the Pod of <code>nfs-client</code> is also functioning well in the <code>kube-system</code> namespace.</p><p><img src=/images/blogs/en/install-nfs-server-client-for-kubesphere-cluster/nfs-client-pod.png alt=nfs-client-pod></p></li><li><p>You can create a PVC in a project and verify the persistent volume bound to it can be mounted to a workload successfully.</p><p><img src=/images/blogs/en/install-nfs-server-client-for-kubesphere-cluster/nfs-client-pvc.png alt=nfs-client-pvc></p><p>For more information about how to create a PVC on the KubeSphere console, see <a href=https://kubesphere.io/docs/project-user-guide/storage/volumes/ target=_blank rel="noopener noreferrer">Volumes</a>.</p></li></ol></div></div><div class=share-2><div class=share><a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-nfs-server-client-for-kubesphere-cluster%2f&text=Use%20KubeKey%20to%20Set%20up%20a%20Kubernetes%20and%20KubeSphere%20Cluster%20with%20NFS%20Storage" target=_blank rel="noopener noreferrer"><img src=/images/share/Twitter.svg alt="twitter icon">
</a><a href="https://reddit.com/submit?url=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-nfs-server-client-for-kubesphere-cluster%2f&title=Use%20KubeKey%20to%20Set%20up%20a%20Kubernetes%20and%20KubeSphere%20Cluster%20with%20NFS%20Storage" target=_blank rel="noopener noreferrer"><img src=/images/share/Reddit.svg alt="reddit icon">
</a><a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-nfs-server-client-for-kubesphere-cluster%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Facebook.svg alt="facebook icon">
</a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-nfs-server-client-for-kubesphere-cluster%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Linkedin.svg alt="linkedin icon">
</a><a href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-nfs-server-client-for-kubesphere-cluster%2f&t=Use%20KubeKey%20to%20Set%20up%20a%20Kubernetes%20and%20KubeSphere%20Cluster%20with%20NFS%20Storage" target=_blank rel="noopener noreferrer"><img src=/images/share/HackerNews.svg alt="hackernews icon"></a></div></div></div><div class=aside><div class=inner-div><div class=title>Table of Contents</div><div class=tabs><nav id=TableOfContents><ul><li><a href=#what-is-nfs>What is NFS</a></li><li><a href=#how-does-kubekey-use-nfs-client-configurations>How Does KubeKey Use NFS-client Configurations</a></li><li><a href=#prepare-hosts>Prepare Hosts</a></li><li><a href=#install-and-configure-an-nfs-server>Install and Configure an NFS Server</a><ul><li><a href=#step-1-install-the-nfs-kernel-server>Step 1: Install the NFS kernel server</a></li><li><a href=#step-2-create-an-exported-directory>Step 2: Create an exported directory</a></li><li><a href=#step-3-grant-your-client-machine-access-to-the-nfs-server>Step 3: Grant your client machine access to the NFS server</a></li><li><a href=#step-4-apply-the-configuration>Step 4: Apply the configuration</a></li></ul></li><li><a href=#configure-the-client-machine>Configure the Client Machine</a></li><li><a href=#download-kubekey-and-install-a-cluster>Download KubeKey and Install a Cluster</a></li><li><a href=#verify-installation>Verify Installation</a><ul><li><a href=#command-line>Command line</a></li><li><a href=#kubesphere-console>KubeSphere console</a></li></ul></li></ul></nav></div></div></div></div></section><div class=SubscribeForm><div class=innerBox><img class=close src=/images/home/close.svg alt=close><p class=description>Receive the latest news, articles and updates from KubeSphere</p><div id=blog_formAddress data-usesendcloud=false><form action="https://kubesphere.us10.list-manage.com/subscribe/post?u=c85ea2b944b08b951f607bdd4&amp;id=83f673a2d9" method=post target=_blank novalidate><input name=EMAIL id=email-input-blog type=text placeholder='Please enter your email address'>
<button type=submit id=email-submit-blog>Subscribe</button></form><span id=message_blog data-message1='email is required!' data-message2='Please enter a valid email address!'></span></div></div></div><footer><div class=footer><div class="footer-main common-layout"><div class=up-main><div class=left-div><img src=/images/logo.svg alt class=foot-logo><p>Receive the latest news, articles and updates from KubeSphere</p><div id=formAddress data-usesendcloud=false><form action="https://kubesphere.us10.list-manage.com/subscribe/post?u=c85ea2b944b08b951f607bdd4&amp;id=83f673a2d9" method=post target=_blank novalidate><input name=EMAIL id=email-input type=text placeholder='Please enter your email address'>
<button type=submit id=email-submit>Subscribe</button></form></div><span id=message data-message1='email is required!' data-message2='Please enter a valid email address!'></span>
<script>var bindSubmit=function(){var e=$("#email-input");$("#email-submit").click(function(t){t.stopPropagation();var s,o,n=e.val(),i=$("#message").data("message1"),a=$("#message").data("message2"),r=$("#message").data("message3"),c=$("#message1").data("success");if(n)if(validateEmail(n)){if(s=$("#formAddress").data("usesendcloud"),!s)return;o=$("#formAddress").data("actionaddress"),$.post({type:"post",url:o,data:{email:$("#email-input").val().toString()},success:function(){showSuccessMessage(c),setTimeout(function(){$("#email-input").val("")},1e3)},error:function(){showMessage(r)}})}else t.preventDefault(),showMessage(a);else t.preventDefault(),showMessage(i)})},validateEmail=function(e){var t=/^[A-Za-z0-9]+([_.][A-Za-z0-9]+)*@([A-Za-z0-9-]+\.)+[A-Za-z]{2,6}$/;return t.test(e)},showMessage=function(e){$("#message").html(e).show()},showSuccessMessage=function(e){$("#message1").html(e).show()},bindHideMessage=function(){$(window).click(function(){$("#message").hide(),$("#message1").hide()})},bindClose=function(){$(".formBox .close").click(function(e){e.stopPropagation(),$(".formBox").fadeOut()})};bindSubmit(),bindClose(),bindHideMessage()</script><span id=message data-message1='email is required!' data-message2='Please enter a valid email address!'></span></div><div class=right-div><ul class=common-flex-layout><li class=nowrap-li><div class=h3>Scenarios</div><a href=/devops/>Kubernetes DevOps and GitOps</a>
<a href=/service-mesh/>Microservices with Service Mesh</a>
<a href=/observability/>Cloud Native Observability</a>
<a href=https://github.com/OpenFunction/OpenFunction target=_blank rel="noopener noreferrer">Functions-as-a-Service Platform and Serverless</a>
<a href=https://github.com/openpitrix/openpitrix target=_blank rel="noopener noreferrer">Multi-cloud Apps Mgmt</a></li><li class=nowrap-li><div class=h3>Resources</div><a href=/projects/>Projects</a>
<a href=/blogs/>Blogs</a>
<a href=/conferences/>KubeCon & QCon</a>
<a href=/videos/>Videos</a></li><li class=nowrap-li><div class=h3>KubeSphere Docs</div><a href=/docs/v4.1/01-intro/01-introduction/>Introduction</a>
<a href=/docs/v4.1/03-installation-and-upgrade/02-install-kubesphere/02-install-kubernetes-and-kubesphere/>Installation</a>
<a href=/docs/v4.1/02-quickstart/>Tutorial</a>
<a href=/docs/v3.4/reference/api-docs/>API Documentation</a></li><li class=nowrap-li><div class=h3>Community</div><a href=/contribution/>Contribution</a>
<a href=/case/>Case Studies</a>
<a href=/partner/>Partners</a>
<a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md target=_blank rel="noopener noreferrer">Roadmap</a>
<a href=https://kubesphere.io target=_blank rel="noopener noreferrer">Global Site</a>
<a href=https://kubesphere.com.cn/ target=_blank rel="noopener noreferrer">China Site</a></li><li class=nowrap-li><div class=h3>Products and Services</div><a href=https://aws.amazon.com/quickstart/architecture/qingcloud-kubesphere/ target=_blank rel="noopener noreferrer">KubeSphere on AWS</a>
<a href=https://market.azure.cn/marketplace/apps/qingcloud.kubesphere target=_blank rel="noopener noreferrer">KubeSphere on Azure</a>
<a href=https://marketplace.digitalocean.com/apps/kubesphere target=_blank rel="noopener noreferrer">KubeSphere on DigitalOcean</a>
<a href=https://www.qingcloud.com/products/kubesphereqke target=_blank rel="noopener noreferrer">KubeSphere on QingCloud(QKE)</a>
<a href=https://kubesphere.co/kse/ target=_blank rel="noopener noreferrer">KubeSphere Enterprise</a>
<a href=https://kubesphere.co/marketplace/ target=_blank rel="noopener noreferrer">KubeSphere Extensions Marketplace</a>
<a href=https://kubesphere.co/ksv/ target=_blank rel="noopener noreferrer">KubeSphere Virtualization Platform</a>
<a href=https://kubesphere.cloud target=_blank rel="noopener noreferrer">Cloud Native Services and Support</a>
<a href=https://jinshuju.net/f/bDS8me target=_blank rel="noopener noreferrer">Contact Us</a></li></ul></div></div><div class=down-main><div class=img-div><a class=wechat href=javascript:void(0); aria-label=wechat><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28" height="28" viewBox="0 0 28 28"><defs><path id="a" d="M0 0h15.673v12.156H0z"/></defs><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="13" cy="13" r="13" stroke="#B6C2CD"/><g transform="translate(5 7)"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><path fill="currentColor" d="M15.673 7.898c0-2.061-2.173-3.74-4.619-3.74-2.59.0-4.625 1.679-4.625 3.74.0 2.066 2.035 3.738 4.625 3.738.542.0 1.09-.13 1.632-.256l1.493.776-.408-1.29c1.09-.776 1.902-1.81 1.902-2.968zm-6.119-.645c-.27.0-.541-.257-.541-.514.0-.256.27-.514.541-.514.41.0.681.258.681.514.0.257-.271.514-.681.514zm2.994.0c-.27.0-.541-.257-.541-.514.0-.256.27-.514.54-.514.41.0.681.258.681.514.0.257-.277.514-.68.514z" mask="url(#b)"/><path fill="currentColor" d="M10.602 3.674c.177.0.356.011.533.029C10.657 1.576 8.27.0 5.543.0 2.498.0.0 1.974.0 4.485c0 1.45.829 2.64 2.216 3.564l-.552 1.588 1.94-.929c.693.129 1.251.263 1.94.263.17.0.343-.005.515-.022a3.68 3.68.0 01-.172-1.104c0-2.302 2.081-4.171 4.715-4.171zM7.618 2.243c.417.0.693.263.693.66s-.276.66-.693.66c-.418.0-.835-.263-.835-.66.006-.398.423-.66.835-.66zm-3.88 1.319c-.417.0-.834-.263-.834-.66s.417-.66.834-.66c.418.0.695.263.695.66.0.392-.277.66-.695.66z" mask="url(#b)"/></g></g></svg><div class=hide-div><img src=/images/home/wechat.svg alt></div></a><a class=facebook-a href=https://www.facebook.com/kubesphere target=_blank aria-label=facebook></a><a class=twitter-a href=https://x.com/KubeSphere target=_blank aria-label=twitter rel="noopener noreferrer"></a><a class=linkedin-a href=https://www.linkedin.com/company/kubesphere/ target=_blank aria-label=linkedin rel="noopener noreferrer"></a><a class=youtube-a href=https://www.youtube.com/c/KubeSphere target=_blank aria-label=youtube rel="noopener noreferrer"></a><a class=slack-a href=https://join.slack.com/t/kubesphere/shared_invite/zt-2b4t6rdb4-ico_4UJzCln_S2c1pcrIpQ target=_blank aria-label=slack rel="noopener noreferrer"></a><a class=github-a href=https://github.com/kubesphere/kubesphere target=_blank aria-label=github rel="noopener noreferrer"></a><a class=medium-a href=https://itnext.io/@kubesphere target=_blank aria-label=medium rel="noopener noreferrer"></a></div><p class=p1></p></div></div></div><div class=cookie><div class=common-layout><p>Your privacy is important to us. We use cookies to remember subscription details, optimize site functionality, and deliver content tailored to your interests. To find out more, see our <a href=/privacy>privacy policy</a>.</p><button>
Accept and continue</button></div></div></footer><script>var lazyLoad=function(e,t){for(var n,o,i,s=0;s<t;s++){if(n=e.eq(s),o=n.attr("data-loaded"),o)continue;n.offset().top<parseInt($(window).height())+parseInt($(window).scrollTop())&&(i=n.attr("src"),n.attr("src",i),n.attr("data-loaded",!0))}},bindLayLoad=function(){var e=$("img"),t=e.length;lazyLoad(e,t),$(window).scroll(function(){lazyLoad(e,t)})},bindAddPadding=function(){var e=$("#close-join");e.length>0&&$(".main-section").addClass("padding")},docCookies={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t){return!!e&&!/^(?:expires|max-age|path|domain|secure)$/i.test(e)&&(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t),!0)}},bindHideCookie=function(){var t=docCookies.getItem("hasAuth"),e=$(".cookie");t?e.hide():e.show(),e.find("button").on("click",function(){docCookies.setItem("hasAuth","1"),e.hide()})};bindAddPadding(),bindHideCookie()</script><script type=text/javascript src=/js/aside.2d6977c0f16aef4ed3e886dd66675ce74bd0efcd467c2b2bcdb30b92d5e7c7c0e5c6e0c9d8f09a883c22f58df9e6b0b6347fcdd3c9a920b7faba6d7f91a201c3.js integrity="sha512-LWl3wPFq707T6IbdZmdc50vQ781GfCsrzbMLktXnx8DlxuDJ2PCaiDwi9Y355rC2NH/N08mpILf6um1/kaIBww=="></script><script type=text/javascript src=/js/markdown-tab.17f9f46b021adebc7250ce1b07134a577b307e7a436daa4aaf388f218e8463966f53770b26a64817c06c168738a887672d47fb4c29615adfc446e11d09a344cf.js integrity="sha512-F/n0awIa3rxyUM4bBxNKV3swfnpDbapKrziPIY6EY5ZvU3cLJqZIF8BsFoc4qIdnLUf7TClhWt/ERuEdCaNEzw=="></script><script>let forbidForm=!1;var viewer=new Viewer(document.querySelector(".md-body"),{url:"src"}),blogBindSubmit=function(){var e=$("#email-input-blog");$("#email-submit-blog").click(function(t){t.stopPropagation();var s,o,n=e.val(),i=$("#message_blog").data("message1"),a=$("#message_blog").data("message2"),r=$("#message_blog").data("message3"),c=$("#message1_blog").data("success");if(n)if(validateEmail(n)){if(s=$("#blog_formAddress").data("usesendcloud"),!s)return;o=$("#blog_formAddress").data("actionaddress"),$.post({type:"post",url:o,data:{email:n.toString()},success:function(){showSuccessMessage_blog(c),setTimeout(function(){window.onscroll="",$(".SubscribeForm").hide(),$("#email-input-blog").val("")},5e3)},error:function(){showMessage_blog(r)}})}else t.preventDefault(),$("#message_blog").html(a).show();else t.preventDefault(),$("#message_blog").html(i).show()})},validateEmail=function(e){var t=/^[A-Za-z0-9]+([_.][A-Za-z0-9]+)*@([A-Za-z0-9-]+\.)+[A-Za-z]{2,6}$/;return t.test(e)},bindHideMessageBlog=function(){$(window).click(function(){$("#message_blog").hide()})},bindCloseBlog=function(){$(".SubscribeForm .close").click(function(e){e.stopPropagation(),$(".SubscribeForm").fadeOut(),window.onscroll=""})},showMessage_blog=function(e){$("#message_blog").html(e).show()},showSuccessMessage_blog=function(e){$("#message1_blog").html(e).show()};window.onscroll=()=>{var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.clientHeight||document.body.clientHeight,n=document.documentElement.scrollHeight||document.body.scrollHeight;forbidForm&&(window.onscroll=""),e+t>n-710?$(".SubscribeForm").hide():$(".SubscribeForm").show()},blogBindSubmit(),bindCloseBlog(),bindHideMessageBlog()</script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script></body></html>