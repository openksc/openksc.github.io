<!doctype html><html lang=en-US><head><meta charset=utf-8><title>How to Install Kubernetes the Easy Way Using KubeKey</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="KubeKey allows you to deploy a Kubernetes cluster in the most graceful and efficient way."><meta name=keywords content="Kubernetes,KubeSphere,KubeKey,addons,installer"><meta property="og:type" content="article"><meta property="og:title" content="How to Install Kubernetes the Easy Way Using KubeKey"><meta property="og:description" content="KubeKey allows you to deploy a Kubernetes cluster in the most graceful and efficient way."><meta property="og:image" content="https://ap3.qingstor.com/kubesphere-website/docs/KubeKey-lightweight-installer.png"><meta property="og:url" content="https://openksc.github.io/blogs/install-kubernetes-using-kubekey/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@KubeSphere"><meta property="twitter:image" content="https://ap3.qingstor.com/kubesphere-website/docs/KubeKey-lightweight-installer.png"><meta name=docsearch:language content="en-US"><meta name=docsearch:version content><link rel=canonical href=https://kubesphere.io/blogs/install-kubernetes-using-kubekey/><link rel="shortcut icon" href=/images/favicons/favicon.ico><link rel=apple-touch-icon href=/images/favicons/apple-touch-icon.png sizes=180x180><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/svg+xml href=/images/favicons/favicon.svg><link rel=icon type=image/png href=/images/favicons/favicon.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg color=#00ad6e><meta name=msapplication-config content='/images/favicons/browserconfig.xml'><meta name=msapplication-TileColor content="#ffffff"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=/fonts/Roboto/stylesheet.css><link rel=stylesheet href=/fonts/ProximaNova/stylesheet.css><link rel=stylesheet href=/css/jquery.modal.min.css><link rel=stylesheet href=/css/viewer.min.css><link rel=stylesheet href=/swiper/swiper-bundle.min.css><link rel=stylesheet href=/scss/common.min.0c3fdcc05ec210321169846714f74b11c4a1baf09a1833fa9273b2347c81e636.css><script src=/js/jquery-3.7.1.min.js></script><script src=/js/viewer.min.js></script><script src=/js/jquery.modal.min.js></script><script src=/swiper/swiper-bundle.min.js></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0888981f1fa45d241b1fb6962da2963e",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-YYCVN36HT5"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-YYCVN36HT5")</script><script type=text/javascript>!function(e,t,n,s,o){e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},n=t.createElement("script"),tag=t.getElementsByTagName("script")[0],n.async=1,n.src=("https:"==document.location.protocol?"https://":"http://")+s,tag.parentNode.insertBefore(n,tag)}(window,document,"script","assets.giocdn.com/2.1/gio.js","gio"),gio("init","8a24ae300cbf8b8c",{}),gio("send")</script><script type=text/javascript>_linkedin_partner_id="3131724",window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(_linkedin_partner_id)</script><script type=text/javascript>(function(){var t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.parentNode.insertBefore(e,t)})()</script><noscript>&lt; img height="1" width="1" style="display:none;" alt="" src="https://px.ads.linkedin.com/collect/?pid=3131724&fmt=gif" /></noscript><script>!function(e,t,n,s,o,i){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments)},s.version="1.1",s.queue=[],o=t.createElement(n),o.async=!0,o.src="//static.ads-twitter.com/uwt.js",i=t.getElementsByTagName(n)[0],i.parentNode.insertBefore(o,i))}(window,document,"script"),twq("init","o65xa"),twq("track","PageView")</script><link rel=stylesheet href=/scss/content.min.f73b326fbf8c5bd331900b0de21c7dde608a4926f482f6465f9ae1d9049b83ad.css><link rel=stylesheet href=/scss/markdown.min.db47186481122431dffae72d17dbbd51f90b66f022cc163458645709924e4eac.css></head><body><header class=navigation><div class=join-div><div class=content>ðŸš€ KubeSphere v4.1.3 with Enhancements and Bug Fixes is available now. <a href=/docs/v4.1/20-release-notes/release-v413/ target=_blank rel="noopener noreferrer">Read the release notes â†’</a>
<img id=close-join src=/images/header/close.svg alt=close></div></div><div class=common-layout><div class=header-container><a href=/ aria-label=logo><img src=/images/header/logo.svg alt class=logo></a><ul class=nav><li class=menu-li><span class=menu-span>Scenarios</span><ul class="dropdown-menu menu-2"><li><a href=/devops/>Embracing One-stop DevOps Workflow</a></li><li><a href=/service-mesh/>Running Microservices on Kubernetes</a></li><li><a href=/observability/>Building Cloud Native Observability</a></li></ul></li><li class=menu-li><span class=menu-span>Resources</span><ul class="dropdown-menu menu-3"><li><a href=/projects/>Open Source Projects</a></li><li><a href=/conferences/>KubeCon & QCon</a></li><li><a href=/blogs/>Technology Blogs</a></li><li><a href=/videos/>Video Resources</a></li></ul></li><li class=menu-li><span class=menu-span>Documentation</span><ul class="dropdown-menu menu-4"><li><a href=/docs/v4.1>v4.1 <img src=/images/header/star.svg alt=star></a></li><li><a href=/docs/v3.4>v3.4</a></li><li><a href=/docs/v3.3>v3.3</a></li><li><a href=https://dev-guide.kubesphere.io/extension-dev-guide/en/%20 target=_blank rel="noopener noreferrer">Extension Development</a></li><li><a href=https://kube.design/ target=_blank rel="noopener noreferrer">Kube Design</a></li></ul></li><li class=menu-li><span class=menu-span>Community</span><ul class="dropdown-menu menu-5"><li><a href=/contribution/>Contribution</a></li><li><a href=/case/>Case Studies</a></li><li><a href=/partner/>Partner</a></li><li><a href=/news/>News</a></li><li><a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md target=_blank rel="noopener noreferrer">RoadMap</a></li><li><a href=https://github.com/kubesphere/community/tree/master/sig-advocacy-and-outreach/ospp-2025 target=_blank rel="noopener noreferrer">OSPP 2025</a></li></ul></li></ul><div class=right-menu><ul><li class=language-menu><div><img src=/images/header/black.svg alt>
<span>English</span></div><ul class=dropdown-menu><li onclick='handleLangClick("en","/blogs/install-kubernetes-using-kubekey/")'>English</li></ul></li><li class=github-li><div class=github-star><a class=star-btn href=https://github.com/kubesphere/kubesphere rel="noopener noreferrer" target=_blank><span class=star-img></span>&nbsp;<span>Star</span>
</a><a class=social-count href=https://github.com/kubesphere/kubesphere/stargazers rel="noopener noreferrer" target=_blank></a></div></li><li class=menu-icon><img src=/images/header/menu.svg alt></li></ul></div></div></div><div id=modal-for-menu class=modal><ul class=nav><li data-check=0 class=menu-li><span class=menu-span>Scenarios</span><ul class=dropdown-menu><li><a href=/devops/>Embracing One-stop DevOps Workflow</a></li><li><a href=/service-mesh/>Running Microservices on Kubernetes</a></li><li><a href=/observability/>Building Cloud Native Observability</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>Resources</span><ul class=dropdown-menu><li><a href=/projects/>Open Source Projects</a></li><li><a href=/conferences/>KubeCon & QCon</a></li><li><a href=/blogs/>Technology Blogs</a></li><li><a href=/videos/>Video Resources</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>Documentation</span><ul class=dropdown-menu><li><a href=/docs/v4.1>v4.1 <img src=/images/header/star.svg alt=star></a></li><li><a href=/docs/v3.4>v3.4</a></li><li><a href=/docs/v3.3>v3.3</a></li><li><a href=https://dev-guide.kubesphere.io/extension-dev-guide/en/%20>Extension Development</a></li><li><a href=https://kube.design/>Kube Design</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>Community</span><ul class=dropdown-menu><li><a href=/contribution/>Contribution</a></li><li><a href=/case/>Case Studies</a></li><li><a href=/partner/>Partner</a></li><li><a href=/news/>News</a></li><li><a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md>RoadMap</a></li><li><a href=https://github.com/kubesphere/community/tree/master/sig-advocacy-and-outreach/ospp-2025>OSPP 2025</a></li></ul></li></ul><div class=link-div><a href=https://join.slack.com/t/kubesphere/shared_invite/zt-2b4t6rdb4-ico_4UJzCln_S2c1pcrIpQ target=_blank rel="noopener noreferrer" aria-label=slack><img src=/images/header/slack-hover.svg alt>
</a><a href=https://x.com/KubeSphere target=_blank rel="noopener noreferrer" aria-label=twitter><img src=/images/header/twitter-hover.svg alt>
</a><a href=https://github.com/kubesphere/kubesphere target=_blank rel="noopener noreferrer" aria-label=github><img src=/images/header/github-hover.svg alt></a></div></div></header><script>var bindNavMouseEvent,bindScrollChangeHeader,bindClickShowMenu,bindClickModalLi,bindClickClose,language,handleLangClick,githubApiLink="https://api.github.com/repos/kubesphere/kubesphere",getStar=function(){$(".social-count").hide(),$.getJSON(githubApiLink,function(e){$(".social-count").show().html(e.stargazers_count)})};getStar(),bindNavMouseEvent=function(e,t){t||(t=$(e));var n=!1;t.mouseenter(function(){if(n)return!1;n=!0,$(this).find(".dropdown-menu").fadeIn(200,function(){n=!1})}),t.mouseleave(function(){$(this).find(".dropdown-menu").fadeOut(200)})},bindScrollChangeHeader=function(){var t=100,e=$("header");window.addEventListener("scroll",function(){var t=window.scrollY;t>0?e.addClass("navigationScroll"):e.removeClass("navigationScroll")})},bindClickShowMenu=function(){$(".menu-icon").click(function(){$("#modal-for-menu").modal()})},bindClickModalLi=function(){$(".modal .menu-li").click(function(){var e=$(this).data("check");e===0?($(this).data("check",1),$(this).find(".dropdown-menu").slideDown(200)):($(this).data("check",0),$(this).find(".dropdown-menu").slideUp(200)),$(this).find(".menu-span").toggleClass("up")})},bindClickClose=function(){$("#close-join").click(function(){$(".navigation .join-div").hide(),$(".main-section").removeClass("padding")})},language="en",bindClickClose(),bindScrollChangeHeader(),$(".header-container .menu-li").each(function(){bindNavMouseEvent("",$(this))}),bindNavMouseEvent(".header-container .language-menu"),bindNavMouseEvent(".header-container .btn-li"),bindClickShowMenu(),bindClickModalLi(),handleLangClick=function(e,t){try{localStorage.setItem("lang",e)}catch{}location.href=t}</script><section class=main-section><div class=common-layout><div class=breadcrumb><span><a href=/blogs/>Technology Blogs</a> > </span><span>How to Install Kubernetes the Easy Way Using KubeKey</span></div><div class='main-div middle-div'><div class=author>Sherlock</div><span class=date>Published onï¼š2021-01-07</span>&nbsp;&nbsp;&nbsp;
<span style=font-size:14px;color:#919aa3 id=busuanzi_container_page_pv>The number of views: <span id=busuanzi_value_page_pv></span></span><h1>How to Install Kubernetes the Easy Way Using KubeKey</h1><div class=share-1><div class=share><a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-kubernetes-using-kubekey%2f&text=How%20to%20Install%20Kubernetes%20the%20Easy%20Way%20Using%20KubeKey" target=_blank rel="noopener noreferrer"><img src=/images/share/Twitter.svg alt="twitter icon">
</a><a href="https://reddit.com/submit?url=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-kubernetes-using-kubekey%2f&title=How%20to%20Install%20Kubernetes%20the%20Easy%20Way%20Using%20KubeKey" target=_blank rel="noopener noreferrer"><img src=/images/share/Reddit.svg alt="reddit icon">
</a><a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-kubernetes-using-kubekey%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Facebook.svg alt="facebook icon">
</a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-kubernetes-using-kubekey%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Linkedin.svg alt="linkedin icon">
</a><a href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-kubernetes-using-kubekey%2f&t=How%20to%20Install%20Kubernetes%20the%20Easy%20Way%20Using%20KubeKey" target=_blank rel="noopener noreferrer"><img src=/images/share/HackerNews.svg alt="hackernews icon"></a></div></div><div class=content><div class=md-body><p>As Kubernetes is the de-facto standard in container orchestration, the installation of Kubernetes has remained one of the top challenges facing Kubernetes users, especially neophytes. Apart from Kubernetes itself, they also need to figure out how to install different tools required for the installation, such as kubelet, kubeadm and kubectl. They have been wondering if there is a tool that contains all the stacks so that they can just run only few commands for the installation.</p><p>In this article, I am going to demonstrate how to set up a three-node Kubernetes cluster using KubeKey.</p><h2 id=what-is-kubekey>What is KubeKey</h2><p>Developed in Go, <a href=https://github.com/kubesphere/kubekey target=_blank rel="noopener noreferrer">KubeKey</a> provides an easy, fast and flexible way to install Kubernetes and any add-ons that can be deployed as YAML or Chart files. KubeKey uses kubeadm to install Kubernetes clusters on nodes in parallel as much as possible in order to reduce installation complexity and improve efficiency. It greatly saves installation time compared to other installation methods.</p><p>As we all know, Kubernetes clusters can be deployed across on-premises environments, public clouds, private clouds, or bare metal. As such, it serves as a comprehensive platform for deploying cloud-native apps. Nevertheless, each environment may entail different configurations and settings. In fact, this is where KubeKey comes to change the game as you can use it to deploy Kubernetes across any environments.</p><p>The general steps of installing Kubernetes using KubeKey:</p><ol><li>Download KubeKey.</li><li>Create a configuration file that contains cluster information, such as hosts and add-ons.</li><li>Apply the configuration file and the installation starts automatically. Tools such as docker will all be installed automatically.</li></ol><h2 id=prepare-hosts>Prepare Hosts</h2><p>I am going to create a Kubernetes cluster with three nodes on cloud. Here is my machine configuration for your reference:</p><table><thead><tr><th>Host IP</th><th>Host Name</th><th>Role</th><th>System</th></tr></thead><tbody><tr><td>192.168.0.2</td><td>master</td><td>master, etcd</td><td>CentOS 7.5, 8 Cores, 8 G Memory, 50 G Disk</td></tr><tr><td>192.168.0.3</td><td>worker1</td><td>worker</td><td>CentOS 7.5, 8 Cores, 8 G Memory, 50 G Disk</td></tr><tr><td>192.168.0.4</td><td>worker2</td><td>worker</td><td>CentOS 7.5, 8 Cores, 8 G Memory, 50 G Disk</td></tr></tbody></table><div class="notices note"><p>Note</p><div><ul><li>The path <code>/var/lib/docker</code> is mainly used to store the container data, and will gradually increase in size during use and operation. In the case of a production environment, it is recommended that <code>/var/lib/docker</code> should mount a drive separately.</li><li>Itâ€™s recommended that your OS be clean (without any other software installed). Otherwise, there may be conflicts.</li></ul></div></div><h2 id=node-requirements>Node Requirements</h2><ul><li>All nodes must be accessible through <code>SSH</code>.</li><li>Time synchronization for all nodes.</li><li><code>sudo</code>/<code>curl</code>/<code>openssl</code> should be used in all nodes.</li><li>You can install docker on all nodes in advance. Alternatively, KubeKey will install docker automatically as it installs Kubernetes. A registry mirror is recommended to be prepared if you have trouble downloading images from <code>dockerhub.io</code>. For more information, see <a href=https://docs.docker.com/registry/recipes/mirror/#configure-the-docker-daemon target=_blank rel="noopener noreferrer">Configure registry mirrors for the Docker daemon</a>.</li></ul><h2 id=dependency-requirements>Dependency Requirements</h2><p>You can use KubeKey to install a specified Kubernetes version. The dependency that needs to be installed may be different based on the Kubernetes version to be installed. You can refer to the list below to see if you need to install relevant dependencies on all your nodes in advance.</p><table><thead><tr><th>Dependency</th><th>Kubernetes Version â‰¥ 1.18</th><th>Kubernetes Version &lt; 1.18</th></tr></thead><tbody><tr><td><code>socat</code></td><td>Required</td><td>Optional but recommended</td></tr><tr><td><code>conntrack</code></td><td>Required</td><td>Optional but recommended</td></tr><tr><td><code>ebtables</code></td><td>Optional but recommended</td><td>Optional but recommended</td></tr><tr><td><code>ipset</code></td><td>Optional but recommended</td><td>Optional but recommended</td></tr></tbody></table><h2 id=network-and-dns-requirements>Network and DNS Requirements</h2><ul><li>Make sure the DNS address in <code>/etc/resolv.conf</code> is available. Otherwise, it may cause some issues of DNS in your cluster.</li><li>If your network configuration uses firewall rules or security groups, you must ensure infrastructure components can communicate with each other through specific ports. Itâ€™s recommended that you turn off the firewall. For more information, see <a href=https://github.com/kubesphere/kubekey/blob/master/docs/network-access.md target=_blank rel="noopener noreferrer">Network Access</a>.</li></ul><h2 id=install-kubernetes>Install Kubernetes</h2><ol><li><p>Download KubeKey from its <a href=https://github.com/kubesphere/kubekey/releases target=_blank rel="noopener noreferrer">GitHub Release Page</a> or use the following command to download KubeKey version 1.0.1. You only need to download KubeKey to one of your machines that serves as the <strong>taskbox</strong> for installation, such as the master node.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sfL https://get-kk.kubesphere.io | VERSION<span style=color:#f92672>=</span>v2.0.0 sh -
</span></span></code></pre></div><div class="notices note"><p>Note</p><div>You can change the version number in the command to download a specific version.</div></div></li><li><p>The above command downloads KubeKey and unzips the file. Your folder now contains a file called <code>kk</code>. Make it executable:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>chmod +x kk
</span></span></code></pre></div></li><li><p>Now that I have KubeKey ready, I can start to create the configuration file to specify cluster information. Here is the command template to create a configuration file, which allows you to install a specified Kubernetes version with a customized name and path:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./kk create config <span style=color:#f92672>[</span>--with-kubernetes version<span style=color:#f92672>]</span> <span style=color:#f92672>[(</span>-f | --file<span style=color:#f92672>)</span> path<span style=color:#f92672>]</span>
</span></span></code></pre></div><p>The default Kubernetes version is v1.17.9. For more information about supported Kubernetes versions, see this <a href=https://github.com/kubesphere/kubekey/blob/master/docs/kubernetes-versions.md target=_blank rel="noopener noreferrer">file</a>. Execute the following command as an example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./kk create config --with-kubernetes v1.20.4
</span></span></code></pre></div></li><li><p>A default file <code>config-sample.yaml</code> will be created if you do not customize the name. Edit the file.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>vi config-sample.yaml
</span></span></code></pre></div></li><li><p>You will see the file prepopulated with some values. Here is my configuration for your reference:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>kubekey.kubesphere.io/v1alpha1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Cluster</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>sample</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>hosts</span>:
</span></span><span style=display:flex><span>  - {<span style=color:#f92672>name: master, address: 192.168.0.2, internalAddress: 192.168.0.2, user: root, password</span>: <span style=color:#ae81ff>Testing123}</span>
</span></span><span style=display:flex><span>  - {<span style=color:#f92672>name: worker1, address: 192.168.0.3, internalAddress: 192.168.0.3, user: root, password</span>: <span style=color:#ae81ff>Testing123}</span>
</span></span><span style=display:flex><span>  - {<span style=color:#f92672>name: worker2, address: 192.168.0.4, internalAddress: 192.168.0.4, user: root, password</span>: <span style=color:#ae81ff>Testing123}</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>roleGroups</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>etcd</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>master</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>master</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>master</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>worker</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>worker1</span>
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>worker2</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>controlPlaneEndpoint</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>domain</span>: <span style=color:#ae81ff>lb.kubesphere.local</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>address</span>: <span style=color:#e6db74>&#34;&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>port</span>: <span style=color:#e6db74>&#34;6443&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>kubernetes</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>version</span>: <span style=color:#ae81ff>v1.17.9</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>imageRepo</span>: <span style=color:#ae81ff>kubesphere</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>clusterName</span>: <span style=color:#ae81ff>cluster.local</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>network</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>plugin</span>: <span style=color:#ae81ff>calico</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>kubePodsCIDR</span>: <span style=color:#ae81ff>10.233.64.0</span><span style=color:#ae81ff>/18</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>kubeServiceCIDR</span>: <span style=color:#ae81ff>10.233.0.0</span><span style=color:#ae81ff>/18</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>registry</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>registryMirrors</span>: []
</span></span><span style=display:flex><span>    <span style=color:#f92672>insecureRegistries</span>: []
</span></span><span style=display:flex><span>  <span style=color:#f92672>addons</span>: []
</span></span></code></pre></div><p>In this example file, list all your machines under <code>hosts</code> and add their detailed information.</p><ul><li><p><code>name</code>: The hostname of the instance.</p></li><li><p><code>address</code>: The IP address you use for the connection between the taskbox and other instances through SSH. This can be either the public IP address or the private IP address depending on your environment. For example, some cloud platforms provide every instance with a public IP address which you use to access instances through SSH. In this case, you can input the public IP address for this field.</p></li><li><p><code>internalAddress</code>: The private IP address of the instance.</p></li><li><p>The <code>user</code> and <code>password</code> field means the user and password you use to connect to instances. For passwordless login with SSH keys, you need to provide the path of your private key like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>hosts</span>:
</span></span><span style=display:flex><span>- {<span style=color:#f92672>name: master, address: 192.168.0.2, internalAddress: 192.168.0.2, privateKeyPath</span>: <span style=color:#e6db74>&#34;~/.ssh/id_rsa&#34;</span>}
</span></span></code></pre></div></li><li><p><code>etcd</code>: etcd node names.</p></li><li><p><code>master</code>: master node names.</p></li><li><p><code>worker</code>: worker node names.</p></li></ul><p>You can provide more values in this configuration file, such as <code>addons</code>. KubeKey can install all <a href=https://github.com/kubesphere/kubekey/blob/release-1.0/docs/addons.md target=_blank rel="noopener noreferrer">addons</a> that can be installed as a YAML file or Chart file. For example, KubeKey does not install any storage plugin for Kubernetes by default, but you can <a href=https://kubesphere.io/docs/installing-on-linux/persistent-storage-configurations/understand-persistent-storage/ target=_blank rel="noopener noreferrer">add your own storage systems</a>, including NFS Client, Ceph, and GlusterFS. For more information about the configuration file, see <a href=https://kubesphere.io/docs/installing-on-linux/introduction/vars/ target=_blank rel="noopener noreferrer">Kubernetes Cluster Configurations</a> and <a href=https://github.com/kubesphere/kubekey/blob/release-1.0/docs/config-example.md target=_blank rel="noopener noreferrer">this file</a>.</p></li><li><p>Save the file when you finish editing and execute the following command to install Kubernetes:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./kk create cluster -f config-sample.yaml
</span></span></code></pre></div></li><li><p>You can see the output as below when the installation finishes.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Congratulations! Installation is successful.
</span></span></code></pre></div></li><li><p>Execute the following command to check the status of namespaces.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get pod --all-namespaces
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>NAMESPACE     NAME                                       READY   STATUS    RESTARTS   AGE
</span></span><span style=display:flex><span>kube-system   calico-kube-controllers-59d85c5c84-mqk9g   1/1     Running   <span style=color:#ae81ff>0</span>          2m56s
</span></span><span style=display:flex><span>kube-system   calico-node-hp6b5                          1/1     Running   <span style=color:#ae81ff>0</span>          2m56s
</span></span><span style=display:flex><span>kube-system   calico-node-stxj8                          1/1     Running   <span style=color:#ae81ff>0</span>          2m55s
</span></span><span style=display:flex><span>kube-system   calico-node-wzjn9                          1/1     Running   <span style=color:#ae81ff>0</span>          2m55s
</span></span><span style=display:flex><span>kube-system   coredns-74d59cc5c6-dkpq4                   1/1     Running   <span style=color:#ae81ff>0</span>          3m5s
</span></span><span style=display:flex><span>kube-system   coredns-74d59cc5c6-v2bvx                   1/1     Running   <span style=color:#ae81ff>0</span>          3m5s
</span></span><span style=display:flex><span>kube-system   kube-apiserver-master                      1/1     Running   <span style=color:#ae81ff>0</span>          3m22s
</span></span><span style=display:flex><span>kube-system   kube-controller-manager-master             1/1     Running   <span style=color:#ae81ff>0</span>          3m22s
</span></span><span style=display:flex><span>kube-system   kube-proxy-5h6bv                           1/1     Running   <span style=color:#ae81ff>0</span>          2m55s
</span></span><span style=display:flex><span>kube-system   kube-proxy-btfxl                           1/1     Running   <span style=color:#ae81ff>0</span>          3m5s
</span></span><span style=display:flex><span>kube-system   kube-proxy-rht2m                           1/1     Running   <span style=color:#ae81ff>0</span>          2m55s
</span></span><span style=display:flex><span>kube-system   kube-scheduler-master                      1/1     Running   <span style=color:#ae81ff>0</span>          3m22s
</span></span><span style=display:flex><span>kube-system   nodelocaldns-2fkqb                         1/1     Running   <span style=color:#ae81ff>0</span>          2m55s
</span></span><span style=display:flex><span>kube-system   nodelocaldns-5gzmn                         1/1     Running   <span style=color:#ae81ff>0</span>          2m55s
</span></span><span style=display:flex><span>kube-system   nodelocaldns-mggpb                         1/1     Running   <span style=color:#ae81ff>0</span>          3m5s
</span></span></code></pre></div></li></ol><h2 id=access-the-kubernetes-dashboard>Access the Kubernetes Dashboard</h2><ol><li><p>To gain a more straightforward view of your cluster resources, you can access the web-based Kubernetes user interface. By default, KubeKey does not install it. To deploy it, run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.0.0/aio/deploy/recommended.yaml
</span></span></code></pre></div></li><li><p>To access the Kubernetes dashboard, you can run <code>kubectl proxy</code> as stated in <a href=https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/#accessing-the-dashboard-ui target=_blank rel="noopener noreferrer">its official documentation</a> while the dashboard can only be accessed from the machine where the command is executed. Execute the following command and you can see the dashboard service type is <code>ClusterIP</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get svc -n kubernetes-dashboard
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>NAME                        TYPE        CLUSTER-IP      EXTERNAL-IP   PORT<span style=color:#f92672>(</span>S<span style=color:#f92672>)</span>    AGE
</span></span><span style=display:flex><span>dashboard-metrics-scraper   ClusterIP   10.233.45.187   &lt;none&gt;        8000/TCP   5m51s
</span></span><span style=display:flex><span>kubernetes-dashboard        ClusterIP   10.233.62.52    &lt;none&gt;        443/TCP    5m51s
</span></span></code></pre></div></li><li><p>As my machines are all on the cloud, I need to expose the dashboard service through <code>NodePort</code> so that I can access it outside the cluster. Run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl edit svc kubernetes-dashboard -o yaml -n kubernetes-dashboard
</span></span></code></pre></div></li><li><p>Navigate to <code>.spec.type</code> and change <code>ClusterIP</code> to <code>NodePort</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>spec:
</span></span><span style=display:flex><span>  clusterIP: 10.233.62.52
</span></span><span style=display:flex><span>  ports:
</span></span><span style=display:flex><span>  - port: <span style=color:#ae81ff>443</span>
</span></span><span style=display:flex><span>    protocol: TCP
</span></span><span style=display:flex><span>    targetPort: <span style=color:#ae81ff>8443</span>
</span></span><span style=display:flex><span>  selector:
</span></span><span style=display:flex><span>    k8s-app: kubernetes-dashboard
</span></span><span style=display:flex><span>  sessionAffinity: None
</span></span><span style=display:flex><span>  type: NodePort  <span style=color:#75715e># Change ClusterIP to NodePort.</span>
</span></span></code></pre></div></li><li><p>Save the file and check the dashboard service again. You can see that the dashboard service is exposed.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get svc -n kubernetes-dashboard
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>NAME                        TYPE        CLUSTER-IP      EXTERNAL-IP   PORT<span style=color:#f92672>(</span>S<span style=color:#f92672>)</span>         AGE
</span></span><span style=display:flex><span>dashboard-metrics-scraper   ClusterIP   10.233.45.187   &lt;none&gt;        8000/TCP        12m
</span></span><span style=display:flex><span>kubernetes-dashboard        NodePort    10.233.62.52    &lt;none&gt;        443:31259/TCP   12m
</span></span></code></pre></div></li><li><p>As port <code>31259</code> is exposed in this example, I can access the dashboard at <code>https://IP:31259</code>.</p><p><img src=https://ap3.qingstor.com/kubesphere-website/docs/k8s-dashboard.png alt=k8s-dashboard></p><div class="notices note"><p>Note</p><div>You may need to configure port forwarding rules and open the port in your security groups depending on your environment.</div></div></li><li><p>To log in to the dashboard, you need to create a ServiceAccount object and a ClusterRoleBinding object. Create the account with the name <code>admin-user</code> in the namespace <code>kubernetes-dashboard</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#e6db74>&lt;&lt;EOF | kubectl apply -f -
</span></span></span><span style=display:flex><span><span style=color:#e6db74>apiVersion: v1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>kind: ServiceAccount
</span></span></span><span style=display:flex><span><span style=color:#e6db74>metadata:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  name: admin-user
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  namespace: kubernetes-dashboard
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span></code></pre></div><p>Create a ClusterRoleBinding object.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#e6db74>&lt;&lt;EOF | kubectl apply -f -
</span></span></span><span style=display:flex><span><span style=color:#e6db74>apiVersion: rbac.authorization.k8s.io/v1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>kind: ClusterRoleBinding
</span></span></span><span style=display:flex><span><span style=color:#e6db74>metadata:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  name: admin-user
</span></span></span><span style=display:flex><span><span style=color:#e6db74>roleRef:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  apiGroup: rbac.authorization.k8s.io
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  kind: ClusterRole
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  name: cluster-admin
</span></span></span><span style=display:flex><span><span style=color:#e6db74>subjects:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>- kind: ServiceAccount
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  name: admin-user
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  namespace: kubernetes-dashboard
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span></code></pre></div></li><li><p>Execute the following command to get a bearer token to log in to the dashboard.</p><p>For Bash:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl -n kubernetes-dashboard describe secret <span style=color:#66d9ef>$(</span>kubectl -n kubernetes-dashboard get secret | grep admin-user | awk <span style=color:#e6db74>&#39;{print $1}&#39;</span><span style=color:#66d9ef>)</span>
</span></span></code></pre></div><p>For Powershell:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>kubectl -n kubernetes-dashboard describe secret $(kubectl -n kubernetes-dashboard get secret | sls admin-user | ForEach-Object { $_ -Split <span style=color:#e6db74>&#39;\s+&#39;</span> } | Select -First <span style=color:#ae81ff>1</span>)
</span></span></code></pre></div><p>Expected output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Name:         admin-user-token-flkqz
</span></span><span style=display:flex><span>Namespace:    kubernetes-dashboard
</span></span><span style=display:flex><span>Labels:       &lt;none&gt;
</span></span><span style=display:flex><span>Annotations:  kubernetes.io/service-account.name: admin-user
</span></span><span style=display:flex><span>              kubernetes.io/service-account.uid: 78870e66-89c1-4750-915d-b147dbba66cb
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Type:  kubernetes.io/service-account-token
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Data
</span></span><span style=display:flex><span><span style=color:#f92672>====</span>
</span></span><span style=display:flex><span>ca.crt:     <span style=color:#ae81ff>1025</span> bytes
</span></span><span style=display:flex><span>namespace:  <span style=color:#ae81ff>20</span> bytes
</span></span><span style=display:flex><span>token:      eyJhbGciOiJSUzI1NiIsImtpZCI6Im9EaXNLOWUyV21UcDhOVzFUanl6bnRzdHBocWF6bjhLcXltSGM1Ulc5aVUifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi11c2VyLXRva2VuLWZsa3F6Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImFkbWluLXVzZXIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiI3ODg3MGU2Ni04OWMxLTQ3NTAtOTE1ZC1iMTQ3ZGJiYTY2Y2IiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZXJuZXRlcy1kYXNoYm9hcmQ6YWRtaW4tdXNlciJ9.SKseCm1u7Yga0jx2nFf5x4FoHgOONWQ8S1yDdPGXoZpuUShCr8b6ofmISHDi_Tsk3qQfwlMA99NWkLKeM6ijktULIbk9Y11GjMh0-rWjdxQPbxB6Bh0LGYh4SGLl_hNkYOVxd_1r8H-hddRHbkfs8t4eH-pUjQewC7LrCG5SQNrHtQnyuDleQQdSq1TNtDviCA17cL_XFomRkomqi4Vy7QExwEDYaNy7-9c_C-59Hh5QexZ4MoR8WsZewR-uXr_z2RmbTnuXaK-1wkIHt-niFdgxozGg4tcPvlIQ7XvJGMKXcSnrqnaieImUY_Y_6_Z8wm6LJl4XaypjhnYqJZD3wA
</span></span></code></pre></div></li><li><p>Copy the token and past it into the <strong>Enter token</strong> field and click <strong>Sign in</strong>. You can view node information and edit resources on the dashboard now.</p><p><img src=https://ap3.qingstor.com/kubesphere-website/docs/k8s-dashboard-node-page.png alt=k8s-dashboard-node-page></p></li></ol><h2 id=kubesphere-and-its-graphic-dashboard>KubeSphere and its Graphic Dashboard</h2><p>KubeSphere is a <strong>distributed operating system managing cloud-native applications</strong> with Kubernetes as its kernel. As an <a href=https://kubesphere.io/ target=_blank rel="noopener noreferrer">open-source enterprise-grade container platform</a>, it boasts full-stack automated IT operation, multi-cluster management, and streamlined <a href=https://kubesphere.io/devops/ target=_blank rel="noopener noreferrer">DevOps workflows</a>. Here is the architecture of KubeSphere.</p><p><img src=https://ap3.qingstor.com/kubesphere-website/docs/architecture.png alt=architecture></p><p>Besides, KubeSphere also has its own responsive web-based console, which is more powerful and comprehensive than the Kubernetes dashboard. Users with necessary permissions can operate on resources on the console directly while they also have the option to use the built-in web tool kubectl.</p><p><img src=https://ap3.qingstor.com/kubesphere-website/docs/kubesphere-dashboard-compared-to-k8s.png alt=kubesphere-dashboard-compared-to-k8s></p><p>In fact, you can use KubeKey to install Kubernetes and KubeSphere at the same time. The process is basically the same while you need to add the flag <code>--with-kubesphere [version]</code> when you run the command <code>./kk create config</code>. For more information, have a look at <a href=https://kubesphere.io/docs/installing-on-linux/introduction/multioverview/ target=_blank rel="noopener noreferrer">the KubeSphere documentation</a>.</p><h2 id=summary>Summary</h2><p>The installation process I demonstrate in this article is only a tiny part of what KubeKey is capable of. In addition to installing Kubernetes and KubeSphere, you can also use it to scale and upgrade your cluster. It also supports <a href=https://kubesphere.io/docs/installing-on-linux/introduction/air-gapped-installation/ target=_blank rel="noopener noreferrer">air-gapped installation</a> as long as you download installation images in advance.</p><p>I hope this article can be useful especially for those who have been seeking for an installation method for so long. With KubeKey, I think, the Kubernetes community sees a significant step forward in terms of installation efficiency and user experience.</p><h2 id=reference>Reference</h2><p><a href=https://github.com/kubesphere/kubekey target=_blank rel="noopener noreferrer">KubeKey</a></p><p><a href=https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/ target=_blank rel="noopener noreferrer">Kubernetes Dashboard</a></p><p><a href=https://kubesphere.io/docs/installing-on-linux/introduction/multioverview/ target=_blank rel="noopener noreferrer">Multi-node Installation</a></p></div></div><div class=share-2><div class=share><a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-kubernetes-using-kubekey%2f&text=How%20to%20Install%20Kubernetes%20the%20Easy%20Way%20Using%20KubeKey" target=_blank rel="noopener noreferrer"><img src=/images/share/Twitter.svg alt="twitter icon">
</a><a href="https://reddit.com/submit?url=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-kubernetes-using-kubekey%2f&title=How%20to%20Install%20Kubernetes%20the%20Easy%20Way%20Using%20KubeKey" target=_blank rel="noopener noreferrer"><img src=/images/share/Reddit.svg alt="reddit icon">
</a><a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-kubernetes-using-kubekey%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Facebook.svg alt="facebook icon">
</a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-kubernetes-using-kubekey%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Linkedin.svg alt="linkedin icon">
</a><a href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fopenksc.github.io%2fblogs%2finstall-kubernetes-using-kubekey%2f&t=How%20to%20Install%20Kubernetes%20the%20Easy%20Way%20Using%20KubeKey" target=_blank rel="noopener noreferrer"><img src=/images/share/HackerNews.svg alt="hackernews icon"></a></div></div></div><div class=aside><div class=inner-div><div class=title>Table of Contents</div><div class=tabs><nav id=TableOfContents><ul><li><a href=#what-is-kubekey>What is KubeKey</a></li><li><a href=#prepare-hosts>Prepare Hosts</a></li><li><a href=#node-requirements>Node Requirements</a></li><li><a href=#dependency-requirements>Dependency Requirements</a></li><li><a href=#network-and-dns-requirements>Network and DNS Requirements</a></li><li><a href=#install-kubernetes>Install Kubernetes</a></li><li><a href=#access-the-kubernetes-dashboard>Access the Kubernetes Dashboard</a></li><li><a href=#kubesphere-and-its-graphic-dashboard>KubeSphere and its Graphic Dashboard</a></li><li><a href=#summary>Summary</a></li><li><a href=#reference>Reference</a></li></ul></nav></div></div></div></div></section><div class=SubscribeForm><div class=innerBox><img class=close src=/images/home/close.svg alt=close><p class=description>Receive the latest news, articles and updates from KubeSphere</p><div id=blog_formAddress data-usesendcloud=false><form action="https://kubesphere.us10.list-manage.com/subscribe/post?u=c85ea2b944b08b951f607bdd4&amp;id=83f673a2d9" method=post target=_blank novalidate><input name=EMAIL id=email-input-blog type=text placeholder='Please enter your email address'>
<button type=submit id=email-submit-blog>Subscribe</button></form><span id=message_blog data-message1='email is required!' data-message2='Please enter a valid email address!'></span></div></div></div><footer><div class=footer><div class="footer-main common-layout"><div class=up-main><div class=left-div><img src=/images/logo.svg alt class=foot-logo><p>Receive the latest news, articles and updates from KubeSphere</p><div id=formAddress data-usesendcloud=false><form action="https://kubesphere.us10.list-manage.com/subscribe/post?u=c85ea2b944b08b951f607bdd4&amp;id=83f673a2d9" method=post target=_blank novalidate><input name=EMAIL id=email-input type=text placeholder='Please enter your email address'>
<button type=submit id=email-submit>Subscribe</button></form></div><span id=message data-message1='email is required!' data-message2='Please enter a valid email address!'></span>
<script>var bindSubmit=function(){var e=$("#email-input");$("#email-submit").click(function(t){t.stopPropagation();var s,o,n=e.val(),i=$("#message").data("message1"),a=$("#message").data("message2"),r=$("#message").data("message3"),c=$("#message1").data("success");if(n)if(validateEmail(n)){if(s=$("#formAddress").data("usesendcloud"),!s)return;o=$("#formAddress").data("actionaddress"),$.post({type:"post",url:o,data:{email:$("#email-input").val().toString()},success:function(){showSuccessMessage(c),setTimeout(function(){$("#email-input").val("")},1e3)},error:function(){showMessage(r)}})}else t.preventDefault(),showMessage(a);else t.preventDefault(),showMessage(i)})},validateEmail=function(e){var t=/^[A-Za-z0-9]+([_.][A-Za-z0-9]+)*@([A-Za-z0-9-]+\.)+[A-Za-z]{2,6}$/;return t.test(e)},showMessage=function(e){$("#message").html(e).show()},showSuccessMessage=function(e){$("#message1").html(e).show()},bindHideMessage=function(){$(window).click(function(){$("#message").hide(),$("#message1").hide()})},bindClose=function(){$(".formBox .close").click(function(e){e.stopPropagation(),$(".formBox").fadeOut()})};bindSubmit(),bindClose(),bindHideMessage()</script><span id=message data-message1='email is required!' data-message2='Please enter a valid email address!'></span></div><div class=right-div><ul class=common-flex-layout><li class=nowrap-li><div class=h3>Scenarios</div><a href=/devops/>Kubernetes DevOps and GitOps</a>
<a href=/service-mesh/>Microservices with Service Mesh</a>
<a href=/observability/>Cloud Native Observability</a>
<a href=https://github.com/OpenFunction/OpenFunction target=_blank rel="noopener noreferrer">Functions-as-a-Service Platform and Serverless</a>
<a href=https://github.com/openpitrix/openpitrix target=_blank rel="noopener noreferrer">Multi-cloud Apps Mgmt</a></li><li class=nowrap-li><div class=h3>Resources</div><a href=/projects/>Projects</a>
<a href=/blogs/>Blogs</a>
<a href=/conferences/>KubeCon & QCon</a>
<a href=/videos/>Videos</a></li><li class=nowrap-li><div class=h3>KubeSphere Docs</div><a href=/docs/v4.1/01-intro/01-introduction/>Introduction</a>
<a href=/docs/v4.1/03-installation-and-upgrade/02-install-kubesphere/02-install-kubernetes-and-kubesphere/>Installation</a>
<a href=/docs/v4.1/02-quickstart/>Tutorial</a>
<a href=/docs/v3.4/reference/api-docs/>API Documentation</a></li><li class=nowrap-li><div class=h3>Community</div><a href=/contribution/>Contribution</a>
<a href=/case/>Case Studies</a>
<a href=/partner/>Partners</a>
<a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md target=_blank rel="noopener noreferrer">Roadmap</a>
<a href=https://kubesphere.io target=_blank rel="noopener noreferrer">Global Site</a>
<a href=https://kubesphere.com.cn/ target=_blank rel="noopener noreferrer">China Site</a></li><li class=nowrap-li><div class=h3>Products and Services</div><a href=https://aws.amazon.com/quickstart/architecture/qingcloud-kubesphere/ target=_blank rel="noopener noreferrer">KubeSphere on AWS</a>
<a href=https://market.azure.cn/marketplace/apps/qingcloud.kubesphere target=_blank rel="noopener noreferrer">KubeSphere on Azure</a>
<a href=https://marketplace.digitalocean.com/apps/kubesphere target=_blank rel="noopener noreferrer">KubeSphere on DigitalOcean</a>
<a href=https://www.qingcloud.com/products/kubesphereqke target=_blank rel="noopener noreferrer">KubeSphere on QingCloud(QKE)</a>
<a href=https://kubesphere.co/kse/ target=_blank rel="noopener noreferrer">KubeSphere Enterprise</a>
<a href=https://kubesphere.co/marketplace/ target=_blank rel="noopener noreferrer">KubeSphere Extensions Marketplace</a>
<a href=https://kubesphere.co/ksv/ target=_blank rel="noopener noreferrer">KubeSphere Virtualization Platform</a>
<a href=https://kubesphere.cloud target=_blank rel="noopener noreferrer">Cloud Native Services and Support</a>
<a href=https://jinshuju.net/f/bDS8me target=_blank rel="noopener noreferrer">Contact Us</a></li></ul></div></div><div class=down-main><div class=img-div><a class=wechat href=javascript:void(0); aria-label=wechat><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28" height="28" viewBox="0 0 28 28"><defs><path id="a" d="M0 0h15.673v12.156H0z"/></defs><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="13" cy="13" r="13" stroke="#B6C2CD"/><g transform="translate(5 7)"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><path fill="currentColor" d="M15.673 7.898c0-2.061-2.173-3.74-4.619-3.74-2.59.0-4.625 1.679-4.625 3.74.0 2.066 2.035 3.738 4.625 3.738.542.0 1.09-.13 1.632-.256l1.493.776-.408-1.29c1.09-.776 1.902-1.81 1.902-2.968zm-6.119-.645c-.27.0-.541-.257-.541-.514.0-.256.27-.514.541-.514.41.0.681.258.681.514.0.257-.271.514-.681.514zm2.994.0c-.27.0-.541-.257-.541-.514.0-.256.27-.514.54-.514.41.0.681.258.681.514.0.257-.277.514-.68.514z" mask="url(#b)"/><path fill="currentColor" d="M10.602 3.674c.177.0.356.011.533.029C10.657 1.576 8.27.0 5.543.0 2.498.0.0 1.974.0 4.485c0 1.45.829 2.64 2.216 3.564l-.552 1.588 1.94-.929c.693.129 1.251.263 1.94.263.17.0.343-.005.515-.022a3.68 3.68.0 01-.172-1.104c0-2.302 2.081-4.171 4.715-4.171zM7.618 2.243c.417.0.693.263.693.66s-.276.66-.693.66c-.418.0-.835-.263-.835-.66.006-.398.423-.66.835-.66zm-3.88 1.319c-.417.0-.834-.263-.834-.66s.417-.66.834-.66c.418.0.695.263.695.66.0.392-.277.66-.695.66z" mask="url(#b)"/></g></g></svg><div class=hide-div><img src=/images/home/wechat.svg alt></div></a><a class=facebook-a href=https://www.facebook.com/kubesphere target=_blank aria-label=facebook></a><a class=twitter-a href=https://x.com/KubeSphere target=_blank aria-label=twitter rel="noopener noreferrer"></a><a class=linkedin-a href=https://www.linkedin.com/company/kubesphere/ target=_blank aria-label=linkedin rel="noopener noreferrer"></a><a class=youtube-a href=https://www.youtube.com/c/KubeSphere target=_blank aria-label=youtube rel="noopener noreferrer"></a><a class=slack-a href=https://join.slack.com/t/kubesphere/shared_invite/zt-2b4t6rdb4-ico_4UJzCln_S2c1pcrIpQ target=_blank aria-label=slack rel="noopener noreferrer"></a><a class=github-a href=https://github.com/kubesphere/kubesphere target=_blank aria-label=github rel="noopener noreferrer"></a><a class=medium-a href=https://itnext.io/@kubesphere target=_blank aria-label=medium rel="noopener noreferrer"></a></div><p class=p1></p></div></div></div><div class=cookie><div class=common-layout><p>Your privacy is important to us. We use cookies to remember subscription details, optimize site functionality, and deliver content tailored to your interests. To find out more, see our <a href=/privacy>privacy policy</a>.</p><button>
Accept and continue</button></div></div></footer><script>var lazyLoad=function(e,t){for(var n,o,i,s=0;s<t;s++){if(n=e.eq(s),o=n.attr("data-loaded"),o)continue;n.offset().top<parseInt($(window).height())+parseInt($(window).scrollTop())&&(i=n.attr("src"),n.attr("src",i),n.attr("data-loaded",!0))}},bindLayLoad=function(){var e=$("img"),t=e.length;lazyLoad(e,t),$(window).scroll(function(){lazyLoad(e,t)})},bindAddPadding=function(){var e=$("#close-join");e.length>0&&$(".main-section").addClass("padding")},docCookies={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t){return!!e&&!/^(?:expires|max-age|path|domain|secure)$/i.test(e)&&(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t),!0)}},bindHideCookie=function(){var t=docCookies.getItem("hasAuth"),e=$(".cookie");t?e.hide():e.show(),e.find("button").on("click",function(){docCookies.setItem("hasAuth","1"),e.hide()})};bindAddPadding(),bindHideCookie()</script><script type=text/javascript src=/js/aside.2d6977c0f16aef4ed3e886dd66675ce74bd0efcd467c2b2bcdb30b92d5e7c7c0e5c6e0c9d8f09a883c22f58df9e6b0b6347fcdd3c9a920b7faba6d7f91a201c3.js integrity="sha512-LWl3wPFq707T6IbdZmdc50vQ781GfCsrzbMLktXnx8DlxuDJ2PCaiDwi9Y355rC2NH/N08mpILf6um1/kaIBww=="></script><script type=text/javascript src=/js/markdown-tab.17f9f46b021adebc7250ce1b07134a577b307e7a436daa4aaf388f218e8463966f53770b26a64817c06c168738a887672d47fb4c29615adfc446e11d09a344cf.js integrity="sha512-F/n0awIa3rxyUM4bBxNKV3swfnpDbapKrziPIY6EY5ZvU3cLJqZIF8BsFoc4qIdnLUf7TClhWt/ERuEdCaNEzw=="></script><script>let forbidForm=!1;var viewer=new Viewer(document.querySelector(".md-body"),{url:"src"}),blogBindSubmit=function(){var e=$("#email-input-blog");$("#email-submit-blog").click(function(t){t.stopPropagation();var s,o,n=e.val(),i=$("#message_blog").data("message1"),a=$("#message_blog").data("message2"),r=$("#message_blog").data("message3"),c=$("#message1_blog").data("success");if(n)if(validateEmail(n)){if(s=$("#blog_formAddress").data("usesendcloud"),!s)return;o=$("#blog_formAddress").data("actionaddress"),$.post({type:"post",url:o,data:{email:n.toString()},success:function(){showSuccessMessage_blog(c),setTimeout(function(){window.onscroll="",$(".SubscribeForm").hide(),$("#email-input-blog").val("")},5e3)},error:function(){showMessage_blog(r)}})}else t.preventDefault(),$("#message_blog").html(a).show();else t.preventDefault(),$("#message_blog").html(i).show()})},validateEmail=function(e){var t=/^[A-Za-z0-9]+([_.][A-Za-z0-9]+)*@([A-Za-z0-9-]+\.)+[A-Za-z]{2,6}$/;return t.test(e)},bindHideMessageBlog=function(){$(window).click(function(){$("#message_blog").hide()})},bindCloseBlog=function(){$(".SubscribeForm .close").click(function(e){e.stopPropagation(),$(".SubscribeForm").fadeOut(),window.onscroll=""})},showMessage_blog=function(e){$("#message_blog").html(e).show()},showSuccessMessage_blog=function(e){$("#message1_blog").html(e).show()};window.onscroll=()=>{var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.clientHeight||document.body.clientHeight,n=document.documentElement.scrollHeight||document.body.scrollHeight;forbidForm&&(window.onscroll=""),e+t>n-710?$(".SubscribeForm").hide():$(".SubscribeForm").show()},blogBindSubmit(),bindCloseBlog(),bindHideMessageBlog()</script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script></body></html>