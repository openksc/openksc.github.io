<!doctype html><html lang=en-US><head><meta charset=utf-8><title>KubeSphere Gateway Component (ingress-nginx) Security Vulnerability Announcement</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="This article summarizes critical security vulnerabilities in the KubeSphere Gateway component (ingress-nginx) and provides remediation suggestions."><meta name=keywords content="KubeSphere,Kubernetes,container platform,DevOps,hybrid cloud,cloud native"><meta property="og:type" content="article"><meta property="og:title" content="KubeSphere Gateway Component (ingress-nginx) Security Vulnerability Announcement"><meta property="og:description" content="This article summarizes critical security vulnerabilities in the KubeSphere Gateway component (ingress-nginx) and provides remediation suggestions."><meta property="og:image" content="https://openksc.github.io/images/common/snapshot-en.png"><meta property="og:url" content="https://openksc.github.io/news/kubesphere-gateway-component-ingress-nginx-security-en/"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="@KubeSphere"><meta property="twitter:image" content="https://openksc.github.io/images/common/snapshot-en.png"><meta name=docsearch:language content="en-US"><meta name=docsearch:version content><link rel=canonical href=https://kubesphere.io/news/kubesphere-gateway-component-ingress-nginx-security-en/><link rel="shortcut icon" href=/images/favicons/favicon.ico><link rel=apple-touch-icon href=/images/favicons/apple-touch-icon.png sizes=180x180><link rel=icon type=image/png href=/images/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/images/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/svg+xml href=/images/favicons/favicon.svg><link rel=icon type=image/png href=/images/favicons/favicon.png><link rel=manifest href=/images/favicons/site.webmanifest><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg color=#00ad6e><meta name=msapplication-config content='/images/favicons/browserconfig.xml'><meta name=msapplication-TileColor content="#ffffff"><meta name=theme-color content="#ffffff"><link rel=stylesheet href=/fonts/Roboto/stylesheet.css><link rel=stylesheet href=/fonts/ProximaNova/stylesheet.css><link rel=stylesheet href=/css/jquery.modal.min.css><link rel=stylesheet href=/css/viewer.min.css><link rel=stylesheet href=/swiper/swiper-bundle.min.css><link rel=stylesheet href=/scss/common.min.0c3fdcc05ec210321169846714f74b11c4a1baf09a1833fa9273b2347c81e636.css><script src=/js/jquery-3.7.1.min.js></script><script src=/js/viewer.min.js></script><script src=/js/jquery.modal.min.js></script><script src=/swiper/swiper-bundle.min.js></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?0888981f1fa45d241b1fb6962da2963e",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-YYCVN36HT5"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-YYCVN36HT5")</script><script type=text/javascript>!function(e,t,n,s,o){e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},n=t.createElement("script"),tag=t.getElementsByTagName("script")[0],n.async=1,n.src=("https:"==document.location.protocol?"https://":"http://")+s,tag.parentNode.insertBefore(n,tag)}(window,document,"script","assets.giocdn.com/2.1/gio.js","gio"),gio("init","8a24ae300cbf8b8c",{}),gio("send")</script><script type=text/javascript>_linkedin_partner_id="3131724",window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(_linkedin_partner_id)</script><script type=text/javascript>(function(){var t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",t.parentNode.insertBefore(e,t)})()</script><noscript>&lt; img height="1" width="1" style="display:none;" alt="" src="https://px.ads.linkedin.com/collect/?pid=3131724&fmt=gif" /></noscript><script>!function(e,t,n,s,o,i){e.twq||(s=e.twq=function(){s.exe?s.exe.apply(s,arguments):s.queue.push(arguments)},s.version="1.1",s.queue=[],o=t.createElement(n),o.async=!0,o.src="//static.ads-twitter.com/uwt.js",i=t.getElementsByTagName(n)[0],i.parentNode.insertBefore(o,i))}(window,document,"script"),twq("init","o65xa"),twq("track","PageView")</script><link rel=stylesheet href=/scss/content.min.f73b326fbf8c5bd331900b0de21c7dde608a4926f482f6465f9ae1d9049b83ad.css><link rel=stylesheet href=/scss/markdown.min.db47186481122431dffae72d17dbbd51f90b66f022cc163458645709924e4eac.css></head><body><header class=navigation><div class=join-div><div class=content>ðŸš€ KubeSphere v4.1.3 with Enhancements and Bug Fixes is available now. <a href=/docs/v4.1/20-release-notes/release-v413/ target=_blank rel="noopener noreferrer">Read the release notes â†’</a>
<img id=close-join src=/images/header/close.svg alt=close></div></div><div class=common-layout><div class=header-container><a href=/ aria-label=logo><img src=/images/header/logo.svg alt class=logo></a><ul class=nav><li class=menu-li><span class=menu-span>Scenarios</span><ul class="dropdown-menu menu-2"><li><a href=/devops/>Embracing One-stop DevOps Workflow</a></li><li><a href=/service-mesh/>Running Microservices on Kubernetes</a></li><li><a href=/observability/>Building Cloud Native Observability</a></li></ul></li><li class=menu-li><span class=menu-span>Resources</span><ul class="dropdown-menu menu-3"><li><a href=/projects/>Open Source Projects</a></li><li><a href=/conferences/>KubeCon & QCon</a></li><li><a href=/blogs/>Technology Blogs</a></li><li><a href=/videos/>Video Resources</a></li></ul></li><li class=menu-li><span class=menu-span>Documentation</span><ul class="dropdown-menu menu-4"><li><a href=/docs/v4.1>v4.1 <img src=/images/header/star.svg alt=star></a></li><li><a href=/docs/v3.4>v3.4</a></li><li><a href=/docs/v3.3>v3.3</a></li><li><a href=https://dev-guide.kubesphere.io/extension-dev-guide/en/%20 target=_blank rel="noopener noreferrer">Extension Development</a></li><li><a href=https://kube.design/ target=_blank rel="noopener noreferrer">Kube Design</a></li></ul></li><li class=menu-li><span class=menu-span>Community</span><ul class="dropdown-menu menu-5"><li><a href=/contribution/>Contribution</a></li><li><a href=/case/>Case Studies</a></li><li><a href=/partner/>Partner</a></li><li><a href=/news/>News</a></li><li><a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md target=_blank rel="noopener noreferrer">RoadMap</a></li><li><a href=https://github.com/kubesphere/community/tree/master/sig-advocacy-and-outreach/ospp-2025 target=_blank rel="noopener noreferrer">OSPP 2025</a></li></ul></li></ul><div class=right-menu><ul><li class=language-menu><div><img src=/images/header/black.svg alt>
<span>English</span></div><ul class=dropdown-menu><li onclick='handleLangClick("en","/news/kubesphere-gateway-component-ingress-nginx-security-en/")'>English</li></ul></li><li class=github-li><div class=github-star><a class=star-btn href=https://github.com/kubesphere/kubesphere rel="noopener noreferrer" target=_blank><span class=star-img></span>&nbsp;<span>Star</span>
</a><a class=social-count href=https://github.com/kubesphere/kubesphere/stargazers rel="noopener noreferrer" target=_blank></a></div></li><li class=menu-icon><img src=/images/header/menu.svg alt></li></ul></div></div></div><div id=modal-for-menu class=modal><ul class=nav><li data-check=0 class=menu-li><span class=menu-span>Scenarios</span><ul class=dropdown-menu><li><a href=/devops/>Embracing One-stop DevOps Workflow</a></li><li><a href=/service-mesh/>Running Microservices on Kubernetes</a></li><li><a href=/observability/>Building Cloud Native Observability</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>Resources</span><ul class=dropdown-menu><li><a href=/projects/>Open Source Projects</a></li><li><a href=/conferences/>KubeCon & QCon</a></li><li><a href=/blogs/>Technology Blogs</a></li><li><a href=/videos/>Video Resources</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>Documentation</span><ul class=dropdown-menu><li><a href=/docs/v4.1>v4.1 <img src=/images/header/star.svg alt=star></a></li><li><a href=/docs/v3.4>v3.4</a></li><li><a href=/docs/v3.3>v3.3</a></li><li><a href=https://dev-guide.kubesphere.io/extension-dev-guide/en/%20>Extension Development</a></li><li><a href=https://kube.design/>Kube Design</a></li></ul></li><li data-check=0 class=menu-li><span class=menu-span>Community</span><ul class=dropdown-menu><li><a href=/contribution/>Contribution</a></li><li><a href=/case/>Case Studies</a></li><li><a href=/partner/>Partner</a></li><li><a href=/news/>News</a></li><li><a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md>RoadMap</a></li><li><a href=https://github.com/kubesphere/community/tree/master/sig-advocacy-and-outreach/ospp-2025>OSPP 2025</a></li></ul></li></ul><div class=link-div><a href=https://join.slack.com/t/kubesphere/shared_invite/zt-2b4t6rdb4-ico_4UJzCln_S2c1pcrIpQ target=_blank rel="noopener noreferrer" aria-label=slack><img src=/images/header/slack-hover.svg alt>
</a><a href=https://x.com/KubeSphere target=_blank rel="noopener noreferrer" aria-label=twitter><img src=/images/header/twitter-hover.svg alt>
</a><a href=https://github.com/kubesphere/kubesphere target=_blank rel="noopener noreferrer" aria-label=github><img src=/images/header/github-hover.svg alt></a></div></div></header><script>var bindNavMouseEvent,bindScrollChangeHeader,bindClickShowMenu,bindClickModalLi,bindClickClose,language,handleLangClick,githubApiLink="https://api.github.com/repos/kubesphere/kubesphere",getStar=function(){$(".social-count").hide(),$.getJSON(githubApiLink,function(e){$(".social-count").show().html(e.stargazers_count)})};getStar(),bindNavMouseEvent=function(e,t){t||(t=$(e));var n=!1;t.mouseenter(function(){if(n)return!1;n=!0,$(this).find(".dropdown-menu").fadeIn(200,function(){n=!1})}),t.mouseleave(function(){$(this).find(".dropdown-menu").fadeOut(200)})},bindScrollChangeHeader=function(){var t=100,e=$("header");window.addEventListener("scroll",function(){var t=window.scrollY;t>0?e.addClass("navigationScroll"):e.removeClass("navigationScroll")})},bindClickShowMenu=function(){$(".menu-icon").click(function(){$("#modal-for-menu").modal()})},bindClickModalLi=function(){$(".modal .menu-li").click(function(){var e=$(this).data("check");e===0?($(this).data("check",1),$(this).find(".dropdown-menu").slideDown(200)):($(this).data("check",0),$(this).find(".dropdown-menu").slideUp(200)),$(this).find(".menu-span").toggleClass("up")})},bindClickClose=function(){$("#close-join").click(function(){$(".navigation .join-div").hide(),$(".main-section").removeClass("padding")})},language="en",bindClickClose(),bindScrollChangeHeader(),$(".header-container .menu-li").each(function(){bindNavMouseEvent("",$(this))}),bindNavMouseEvent(".header-container .language-menu"),bindNavMouseEvent(".header-container .btn-li"),bindClickShowMenu(),bindClickModalLi(),handleLangClick=function(e,t){try{localStorage.setItem("lang",e)}catch{}location.href=t}</script><section class=main-section><div class=common-layout><div class=breadcrumb><span><a href=/news/>news</a> > </span><span>KubeSphere Gateway Component (ingress-nginx) Security Vulnerability Announcement</span></div><div class='main-div middle-div'><div class=author>KubeSphere</div><span class=date>Published onï¼š2025-04-03</span>&nbsp;&nbsp;&nbsp;
<span style=font-size:14px;color:#919aa3 id=busuanzi_container_page_pv>The number of views: <span id=busuanzi_value_page_pv></span></span><h1>KubeSphere Gateway Component (ingress-nginx) Security Vulnerability Announcement</h1><div class=share-1><div class=share><a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fopenksc.github.io%2fnews%2fkubesphere-gateway-component-ingress-nginx-security-en%2f&text=KubeSphere%20Gateway%20Component%20%28ingress-nginx%29%20Security%20Vulnerability%20Announcement" target=_blank rel="noopener noreferrer"><img src=/images/share/Twitter.svg alt="twitter icon">
</a><a href="https://reddit.com/submit?url=https%3a%2f%2fopenksc.github.io%2fnews%2fkubesphere-gateway-component-ingress-nginx-security-en%2f&title=KubeSphere%20Gateway%20Component%20%28ingress-nginx%29%20Security%20Vulnerability%20Announcement" target=_blank rel="noopener noreferrer"><img src=/images/share/Reddit.svg alt="reddit icon">
</a><a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fopenksc.github.io%2fnews%2fkubesphere-gateway-component-ingress-nginx-security-en%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Facebook.svg alt="facebook icon">
</a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fopenksc.github.io%2fnews%2fkubesphere-gateway-component-ingress-nginx-security-en%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Linkedin.svg alt="linkedin icon">
</a><a href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fopenksc.github.io%2fnews%2fkubesphere-gateway-component-ingress-nginx-security-en%2f&t=KubeSphere%20Gateway%20Component%20%28ingress-nginx%29%20Security%20Vulnerability%20Announcement" target=_blank rel="noopener noreferrer"><img src=/images/share/HackerNews.svg alt="hackernews icon"></a></div></div><div class=content><div class=md-body><p>Recently, multiple critical vulnerabilities were discovered in the Ingress-Nginx controller maintained by Kubernetes, including privilege escalation, information disclosure, security bypass, and directory traversal issues. These vulnerabilities affect multiple versions of KubeSphere and KSE. Attackers could exploit these vulnerabilities to execute arbitrary code, access sensitive information, or even fully control the cluster without authorization.</p><p>Given the severity of these vulnerabilities, it is strongly recommended that affected users take immediate action to ensure the security of their clusters.</p><h2 id=1-vulnerability-overview>1. Vulnerability Overview</h2><h3 id=affected-versions>Affected Versions:</h3><ul><li>All versions of KubeSphere & KSE v3.x</li><li>All versions of KubeSphere & KSE v4.1.x</li></ul><h3 id=vulnerability-severity-critical>Vulnerability Severity: Critical</h3><h3 id=vulnerability-types>Vulnerability Types:</h3><p>Privilege Escalation, Information Disclosure, Security Bypass, Directory Traversal</p><h3 id=summary-of-related-vulnerabilities>Summary of Related Vulnerabilities:</h3><table><thead><tr><th>Vulnerability ID</th><th>Type</th><th>CVSS Score</th><th>Summary</th><th>Details</th></tr></thead><tbody><tr><td>CVE-2025-1097</td><td>Configuration Injection</td><td>8.8 (Critical)</td><td>Malicious configuration injection via <code>auth-tls-match-cn</code> annotation, leading to arbitrary code execution and information disclosure</td><td><a href=https://github.com/kubernetes/kubernetes/issues/131007 target=_blank rel="noopener noreferrer">Official Link</a></td></tr><tr><td>CVE-2025-24514</td><td>Configuration Injection</td><td>8.8 (Critical)</td><td>Malicious configuration injection via <code>auth-url</code> annotation, leading to arbitrary code execution and information disclosure</td><td><a href=https://github.com/kubernetes/kubernetes/issues/131006 target=_blank rel="noopener noreferrer">Official Link</a></td></tr><tr><td>CVE-2025-24513</td><td>Directory Traversal</td><td>4.8 (Moderate)</td><td>File path traversal in Admission Controller, potentially leading to denial of service and information disclosure</td><td><a href=https://github.com/kubernetes/kubernetes/issues/131005 target=_blank rel="noopener noreferrer">Official Link</a></td></tr><tr><td>CVE-2025-1974</td><td>Remote Code Execution</td><td>9.8 (Critical)</td><td>Unauthorized remote code execution vulnerability over Pod network, potentially allowing full cluster control</td><td><a href=https://github.com/kubernetes/kubernetes/issues/131009 target=_blank rel="noopener noreferrer">Official Link</a></td></tr><tr><td>CVE-2025-1098</td><td>Configuration Injection</td><td>8.8 (Critical)</td><td>Malicious configuration injection via <code>mirror-target</code> and <code>mirror-host</code> annotations, leading to arbitrary code execution and information disclosure</td><td><a href=https://github.com/kubernetes/kubernetes/issues/131008 target=_blank rel="noopener noreferrer">Official Link</a></td></tr></tbody></table><h2 id=2-vulnerability-impact-analysis>2. Vulnerability Impact Analysis</h2><p>These vulnerabilities primarily impact the system in the following ways:</p><ul><li><strong>Risk of Code Execution</strong>: CVE-2025-1097, CVE-2025-24514, CVE-2025-1098, and CVE-2025-1974 may allow arbitrary code execution within the ingress-nginx controller context.</li><li><strong>Information Disclosure</strong>: By default, the ingress-nginx controller has access to all namespaces' Secrets within the cluster, potentially exposing sensitive credentials.</li><li><strong>Unauthorized Access</strong>: Particularly with CVE-2025-1974, attackers with access to the Pod network can gain cluster control without authentication, with a CVSS score of 9.8 (Critical).</li><li><strong>Mitigation Condition</strong>: For CVE-2025-24514, if the <code>enable-annotation-validation</code> parameter is enabled (default from v1.12.0), the system is not affected by this vulnerability.</li></ul><h2 id=3-how-to-verify-if-you-are-affected>3. How to Verify if You Are Affected</h2><p>Please follow the steps below to check if your system is impacted:</p><p><strong>Confirm if ingress-nginx is in use:</strong></p><pre tabindex=0><code>kubectl get pods --all-namespaces --selector app.kubernetes.io/name=ingress-nginx
</code></pre><p>If the command returns results, you are using ingress-nginx.</p><p><strong>Check the installed ingress-nginx version:</strong>
<code>kubectl exec -it -n ingress-nginx deploy/ingress-nginx-controller -- /nginx-ingress-controller --version</code></p><p>Affected versions:</p><ul><li><code>&lt; v1.11.0</code></li><li><code>v1.11.0 - v1.11.4</code></li><li><code>v1.12.0</code></li></ul><p><strong>Note</strong>: If you are using an affected version, immediately follow the solutions or mitigations provided in this document.</p><h2 id=4-solutions>4. Solutions</h2><h3 id=1-upgrade-recommended-by-nginx-community>1. Upgrade (Recommended by Nginx Community)</h3><p>Upgrade to one of the following secure versions:</p><ul><li>v1.11.5</li><li>v1.12.1 or higher</li></ul><h3 id=2-upgrade-fix-kubesphere-gateway>2. Upgrade Fix (KubeSphere Gateway)</h3><p><strong>For KS/KSE v4.1.3, follow the steps below to upgrade the Gateway.</strong></p><ul><li><strong>Before KS/KSE v4.1.3</strong>: First, upgrade to v4.1.3.</li><li><strong>Upgrade KubeSphere Gateway to v1.0.4</strong> (Ingress-Nginx controller version v1.12.1).</li></ul><p>For the upgrade method of Gateway extension components, refer to the <a href=https://dev.to/palapala/upgrade-gateway-to-v104-fie target=_blank rel="noopener noreferrer">Gateway Upgrade Guide</a>.</p><h3 id=3-temporary-mitigations>3. Temporary Mitigations</h3><p>If an immediate upgrade is not possible, apply the following temporary mitigations:</p><p><strong>CVE-2025-1097 Mitigation</strong></p><ul><li>Check and remove any <code>auth-tls-match-cn</code> annotation in all Ingress resources:</li></ul><pre tabindex=0><code>
# Check
kubectl get ingress -A -o custom-columns=&#39;NAMESPACE:.metadata.namespace,NAME:.metadata.name,AUTH_TLS_MATCH_CN:.metadata.annotations.nginx\.ingress\.kubernetes\.io/auth-tls-match-cn&#39;

# Remove
kubectl annotate ingress -n &lt;namespace&gt; &lt;IngressName&gt; nginx.ingress.kubernetes.io/auth-tls-match-cn-
</code></pre><p><strong>CVE-2025-24514 Mitigation</strong></p><ul><li>Check and remove any <code>auth-url</code> annotation in all Ingress resources:</li></ul><pre tabindex=0><code># Check
kubectl get ingress -A -o custom-columns=&#39;NAMESPACE:.metadata.namespace,NAME:.metadata.name,AUTH_URL:.metadata.annotations.nginx\.ingress\.kubernetes\.io/auth-url&#39;

# Remove
kubectl annotate ingress -n &lt;namespace&gt; &lt;IngressName&gt; nginx.ingress.kubernetes.io/auth-url-
</code></pre><ul><li>Or enable the <code>enable-annotation-validation</code> parameter (enabled by default since v1.12.0, but needs manual configuration in older versions):</li></ul><pre tabindex=0><code># Check if annotation validation is enabled
kubectl get deployment -n ingress-nginx ingress-nginx-controller -o yaml | grep enable-annotation-validation

# If not enabled, edit the deployment to add the parameter
kubectl edit deployment -n ingress-nginx ingress-nginx-controller
# Add --enable-annotation-validation=true
# Save, and the controller will restart automatically
</code></pre><p><strong>CVE-2025-24513 and CVE-2025-1974 Mitigation</strong></p><p>KubeSphere Gateway does not enable Admission Controller by default. Use the following methods to check whether your gateway has enabled the Admission Controller.</p><p><strong>Check all releases:</strong></p><p><code>helm list -n A | grep kubesphere-router</code></p><p><strong>Check if Admission Controller is enabled in any release:</strong></p><p><code>helm get values [RELEASE_NAME] -n [RELEASE_NAMESPACE]</code></p><p>If <code>controller.admissionWebhooks.enabled</code> is true, immediately contact QingCloud technical support for resolution.</p><p>If you installed ingress-nginx manually, use the following method to check and resolve the issue.</p><ul><li>Disable Admission Controller (Note: This is a temporary mitigation. If upgraded to secure versions v1.11.5 or v1.12.1, you do not need to disable it):</li></ul><p><strong>If using Helm to install ingress-nginx:</strong></p><pre tabindex=0><code># Reinstall with Helm parameters to disable admission webhook
helm upgrade [RELEASE_NAME] ingress-nginx/ingress-nginx \
  --set controller.admissionWebhooks.enabled=false \
  -n ingress-nginx
</code></pre><p><strong>If manually installing ingress-nginx:</strong></p><pre tabindex=0><code># Method 1: Delete ValidatingWebhookConfiguration
kubectl delete validatingwebhookconfigurations ingress-nginx-admission

# Method 2: Edit Deployment or DaemonSet to remove --validating-webhook parameter
kubectl edit deployment -n ingress-nginx ingress-nginx-controller
# Find the containers.args section and delete the --validating-webhook related lines
</code></pre><p><strong>Important</strong>: Upgrading to a secure version (v1.11.5, v1.12.1, or higher) is the complete fix for all vulnerabilities. Disabling Admission Controller is only a temporary measure when an upgrade is not possible. Keep Admission Controller enabled after upgrading to ensure proper functionality.</p><p><strong>CVE-2025-1098 Mitigation</strong></p><ul><li>Check and remove any <code>mirror-target</code> and <code>mirror-host</code> annotations in all Ingress resources:</li></ul><pre tabindex=0><code># Check
kubectl get ingress -A -o custom-columns=&#39;NAMESPACE:.metadata.namespace,NAME:.metadata.name,MIRROR_TARGET:.metadata.annotations.nginx\.ingress\.kubernetes\.io/mirror-target,MIRROR_HOST:.metadata.annotations.nginx\.ingress\.kubernetes\.io/mirror-host&#39;

# Remove
kubectl annotate ingress -n &lt;namespace&gt; &lt;IngressName&gt; nginx.ingress.kubernetes.io/mirror-target- kubectl annotate ingress -n &lt;namespace&gt; &lt;IngressName&gt; nginx.ingress.kubernetes.io/mirror-host-
</code></pre><h2 id=5-detection-methods>5. Detection Methods</h2><h3 id=detect-suspicious-configurations-and-activities>Detect Suspicious Configurations and Activities</h3><p>Use the following commands to check for suspicious configurations or activities:</p><ol><li>Check for potentially exploited <code>auth-tls-match-cn</code> annotations (CVE-2025-1097):</li></ol><p><code>kubectl get ingress -A -o custom-columns='NAMESPACE:.metadata.namespace,NAME:.metadata.name,AUTH_TLS_MATCH_CN:.metadata.annotations.nginx\.ingress\.kubernetes\.io/auth-tls-match-cn'</code></p><ul><li>Check for suspicious content, especially annotations with special characters such as <code>#</code>, <code>}}</code>, newline characters, etc.</li></ul><ol start=2><li>Check for potentially exploited <code>auth-url</code> annotations (CVE-2025-24514):</li></ol><p><code>kubectl get ingress -A -o custom-columns='NAMESPACE:.metadata.namespace,NAME:.metadata.name,AUTH_URL:.metadata.annotations.nginx\.ingress\.kubernetes\.io/auth-url'</code></p><ul><li>Check for suspicious content, especially URLs containing <code>#;</code> or newline characters.</li></ul><ol start=3><li>Check if Admission Controller is enabled (relevant for CVE-2025-24513 and CVE-2025-1974):</li></ol><p><code>kubectl get validatingwebhookconfigurations -l app.kubernetes.io/name=ingress-nginx</code></p><ul><li>If results return, Admission Controller is enabled, which could pose a risk of attack.</li></ul><ol start=4><li>Check for potentially exploited <code>mirror-target</code> or <code>mirror-host</code> annotations (CVE-2025-1098):</li></ol><p><code>kubectl get ingress -A -o custom-columns='NAMESPACE:.metadata.namespace,NAME:.metadata.name,MIRROR_TARGET:.metadata.annotations.nginx\.ingress\.kubernetes\.io/mirror-target,MIRROR_HOST:.metadata.annotations.nginx\.ingress\.kubernetes\.io/mirror-host'</code></p><ul><li>Check for suspicious content.</li></ul><ol start=5><li>Check Pod logs for suspicious activities:</li></ol><p><code>kubectl logs -n ingress-nginx -l app.kubernetes.io/name=ingress-nginx --tail=1000 | grep -E "error|warn|critical|suspicious|unauthorized"</code></p><ul><li>If suspicious configurations or activities are detected, isolate affected resources immediately and contact the security team for further analysis.</li></ul><h2 id=6-security-best-practices>6. Security Best Practices</h2><ul><li>Implement strict gateway access control.</li><li>Configure gateway routing isolation policies.</li><li>Enable TLS.</li><li>Restrict Ingress resource access.</li><li>Enable audit logging and monitoring.</li><li>Implement RBAC with least privilege.</li><li>Regularly check and upgrade the ingress-nginx controller.</li><li>Ensure Admission Controller is not exposed externally.</li><li>Implement network policies to limit Pod network communication.</li></ul><h2 id=7-technical-support>7. Technical Support</h2><p>If evidence of exploitation is found or technical support is needed, please contact:</p><ul><li>KubeSphere Security Team: <a href=mailto:security@kubesphere.io>security@kubesphere.io</a></li><li>GitHub Issues: <a href=https://github.com/kubesphere/kubesphere/issues target=_blank rel="noopener noreferrer">KubeSphere GitHub Issues</a></li></ul><h2 id=8-reference-information>8. Reference Information</h2><ul><li><a href=https://kubernetes.github.io/ingress-nginx/deploy/upgrade/ target=_blank rel="noopener noreferrer">Ingress-Nginx Upgrade Documentation</a></li><li><a href=https://www.wiz.io/blog/ingress-nginx-kubernetes-vulnerabilities target=_blank rel="noopener noreferrer">Wiz Research: IngressNightmare Vulnerability Analysis</a></li><li><a href=https://kubernetes.io/blog/2025/03/24/ingress-nginx-cve-2025-1974/ target=_blank rel="noopener noreferrer">Kubernetes Official Blog: Introduction to CVE-2025-1974</a></li></ul></div></div><div class=share-2><div class=share><a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fopenksc.github.io%2fnews%2fkubesphere-gateway-component-ingress-nginx-security-en%2f&text=KubeSphere%20Gateway%20Component%20%28ingress-nginx%29%20Security%20Vulnerability%20Announcement" target=_blank rel="noopener noreferrer"><img src=/images/share/Twitter.svg alt="twitter icon">
</a><a href="https://reddit.com/submit?url=https%3a%2f%2fopenksc.github.io%2fnews%2fkubesphere-gateway-component-ingress-nginx-security-en%2f&title=KubeSphere%20Gateway%20Component%20%28ingress-nginx%29%20Security%20Vulnerability%20Announcement" target=_blank rel="noopener noreferrer"><img src=/images/share/Reddit.svg alt="reddit icon">
</a><a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fopenksc.github.io%2fnews%2fkubesphere-gateway-component-ingress-nginx-security-en%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Facebook.svg alt="facebook icon">
</a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fopenksc.github.io%2fnews%2fkubesphere-gateway-component-ingress-nginx-security-en%2f" target=_blank rel="noopener noreferrer"><img src=/images/share/Linkedin.svg alt="linkedin icon">
</a><a href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fopenksc.github.io%2fnews%2fkubesphere-gateway-component-ingress-nginx-security-en%2f&t=KubeSphere%20Gateway%20Component%20%28ingress-nginx%29%20Security%20Vulnerability%20Announcement" target=_blank rel="noopener noreferrer"><img src=/images/share/HackerNews.svg alt="hackernews icon"></a></div></div></div><div class=aside><div class=inner-div><div class=title>Table of Contents</div><div class=tabs><nav id=TableOfContents><ul><li><a href=#1-vulnerability-overview>1. Vulnerability Overview</a><ul><li><a href=#affected-versions>Affected Versions:</a></li><li><a href=#vulnerability-severity-critical>Vulnerability Severity: Critical</a></li><li><a href=#vulnerability-types>Vulnerability Types:</a></li><li><a href=#summary-of-related-vulnerabilities>Summary of Related Vulnerabilities:</a></li></ul></li><li><a href=#2-vulnerability-impact-analysis>2. Vulnerability Impact Analysis</a></li><li><a href=#3-how-to-verify-if-you-are-affected>3. How to Verify if You Are Affected</a></li><li><a href=#4-solutions>4. Solutions</a><ul><li><a href=#1-upgrade-recommended-by-nginx-community>1. Upgrade (Recommended by Nginx Community)</a></li><li><a href=#2-upgrade-fix-kubesphere-gateway>2. Upgrade Fix (KubeSphere Gateway)</a></li><li><a href=#3-temporary-mitigations>3. Temporary Mitigations</a></li></ul></li><li><a href=#5-detection-methods>5. Detection Methods</a><ul><li><a href=#detect-suspicious-configurations-and-activities>Detect Suspicious Configurations and Activities</a></li></ul></li><li><a href=#6-security-best-practices>6. Security Best Practices</a></li><li><a href=#7-technical-support>7. Technical Support</a></li><li><a href=#8-reference-information>8. Reference Information</a></li></ul></nav></div></div></div></div></section><div class=SubscribeForm><div class=innerBox><img class=close src=/images/home/close.svg alt=close><p class=description>Receive the latest news, articles and updates from KubeSphere</p><div id=blog_formAddress data-usesendcloud=false><form action="https://kubesphere.us10.list-manage.com/subscribe/post?u=c85ea2b944b08b951f607bdd4&amp;id=83f673a2d9" method=post target=_blank novalidate><input name=EMAIL id=email-input-blog type=text placeholder='Please enter your email address'>
<button type=submit id=email-submit-blog>Subscribe</button></form><span id=message_blog data-message1='email is required!' data-message2='Please enter a valid email address!'></span></div></div></div><footer><div class=footer><div class="footer-main common-layout"><div class=up-main><div class=left-div><img src=/images/logo.svg alt class=foot-logo><p>Receive the latest news, articles and updates from KubeSphere</p><div id=formAddress data-usesendcloud=false><form action="https://kubesphere.us10.list-manage.com/subscribe/post?u=c85ea2b944b08b951f607bdd4&amp;id=83f673a2d9" method=post target=_blank novalidate><input name=EMAIL id=email-input type=text placeholder='Please enter your email address'>
<button type=submit id=email-submit>Subscribe</button></form></div><span id=message data-message1='email is required!' data-message2='Please enter a valid email address!'></span>
<script>var bindSubmit=function(){var e=$("#email-input");$("#email-submit").click(function(t){t.stopPropagation();var s,o,n=e.val(),i=$("#message").data("message1"),a=$("#message").data("message2"),r=$("#message").data("message3"),c=$("#message1").data("success");if(n)if(validateEmail(n)){if(s=$("#formAddress").data("usesendcloud"),!s)return;o=$("#formAddress").data("actionaddress"),$.post({type:"post",url:o,data:{email:$("#email-input").val().toString()},success:function(){showSuccessMessage(c),setTimeout(function(){$("#email-input").val("")},1e3)},error:function(){showMessage(r)}})}else t.preventDefault(),showMessage(a);else t.preventDefault(),showMessage(i)})},validateEmail=function(e){var t=/^[A-Za-z0-9]+([_.][A-Za-z0-9]+)*@([A-Za-z0-9-]+\.)+[A-Za-z]{2,6}$/;return t.test(e)},showMessage=function(e){$("#message").html(e).show()},showSuccessMessage=function(e){$("#message1").html(e).show()},bindHideMessage=function(){$(window).click(function(){$("#message").hide(),$("#message1").hide()})},bindClose=function(){$(".formBox .close").click(function(e){e.stopPropagation(),$(".formBox").fadeOut()})};bindSubmit(),bindClose(),bindHideMessage()</script><span id=message data-message1='email is required!' data-message2='Please enter a valid email address!'></span></div><div class=right-div><ul class=common-flex-layout><li class=nowrap-li><div class=h3>Scenarios</div><a href=/devops/>Kubernetes DevOps and GitOps</a>
<a href=/service-mesh/>Microservices with Service Mesh</a>
<a href=/observability/>Cloud Native Observability</a>
<a href=https://github.com/OpenFunction/OpenFunction target=_blank rel="noopener noreferrer">Functions-as-a-Service Platform and Serverless</a>
<a href=https://github.com/openpitrix/openpitrix target=_blank rel="noopener noreferrer">Multi-cloud Apps Mgmt</a></li><li class=nowrap-li><div class=h3>Resources</div><a href=/projects/>Projects</a>
<a href=/blogs/>Blogs</a>
<a href=/conferences/>KubeCon & QCon</a>
<a href=/videos/>Videos</a></li><li class=nowrap-li><div class=h3>KubeSphere Docs</div><a href=/docs/v4.1/01-intro/01-introduction/>Introduction</a>
<a href=/docs/v4.1/03-installation-and-upgrade/02-install-kubesphere/02-install-kubernetes-and-kubesphere/>Installation</a>
<a href=/docs/v4.1/02-quickstart/>Tutorial</a>
<a href=/docs/v3.4/reference/api-docs/>API Documentation</a></li><li class=nowrap-li><div class=h3>Community</div><a href=/contribution/>Contribution</a>
<a href=/case/>Case Studies</a>
<a href=/partner/>Partners</a>
<a href=https://github.com/kubesphere/kubesphere/blob/master/docs/roadmap.md target=_blank rel="noopener noreferrer">Roadmap</a>
<a href=https://kubesphere.io target=_blank rel="noopener noreferrer">Global Site</a>
<a href=https://kubesphere.com.cn/ target=_blank rel="noopener noreferrer">China Site</a></li><li class=nowrap-li><div class=h3>Products and Services</div><a href=https://aws.amazon.com/quickstart/architecture/qingcloud-kubesphere/ target=_blank rel="noopener noreferrer">KubeSphere on AWS</a>
<a href=https://market.azure.cn/marketplace/apps/qingcloud.kubesphere target=_blank rel="noopener noreferrer">KubeSphere on Azure</a>
<a href=https://marketplace.digitalocean.com/apps/kubesphere target=_blank rel="noopener noreferrer">KubeSphere on DigitalOcean</a>
<a href=https://www.qingcloud.com/products/kubesphereqke target=_blank rel="noopener noreferrer">KubeSphere on QingCloud(QKE)</a>
<a href=https://kubesphere.co/kse/ target=_blank rel="noopener noreferrer">KubeSphere Enterprise</a>
<a href=https://kubesphere.co/marketplace/ target=_blank rel="noopener noreferrer">KubeSphere Extensions Marketplace</a>
<a href=https://kubesphere.co/ksv/ target=_blank rel="noopener noreferrer">KubeSphere Virtualization Platform</a>
<a href=https://kubesphere.cloud target=_blank rel="noopener noreferrer">Cloud Native Services and Support</a>
<a href=https://jinshuju.net/f/bDS8me target=_blank rel="noopener noreferrer">Contact Us</a></li></ul></div></div><div class=down-main><div class=img-div><a class=wechat href=javascript:void(0); aria-label=wechat><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28" height="28" viewBox="0 0 28 28"><defs><path id="a" d="M0 0h15.673v12.156H0z"/></defs><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="13" cy="13" r="13" stroke="#B6C2CD"/><g transform="translate(5 7)"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><path fill="currentColor" d="M15.673 7.898c0-2.061-2.173-3.74-4.619-3.74-2.59.0-4.625 1.679-4.625 3.74.0 2.066 2.035 3.738 4.625 3.738.542.0 1.09-.13 1.632-.256l1.493.776-.408-1.29c1.09-.776 1.902-1.81 1.902-2.968zm-6.119-.645c-.27.0-.541-.257-.541-.514.0-.256.27-.514.541-.514.41.0.681.258.681.514.0.257-.271.514-.681.514zm2.994.0c-.27.0-.541-.257-.541-.514.0-.256.27-.514.54-.514.41.0.681.258.681.514.0.257-.277.514-.68.514z" mask="url(#b)"/><path fill="currentColor" d="M10.602 3.674c.177.0.356.011.533.029C10.657 1.576 8.27.0 5.543.0 2.498.0.0 1.974.0 4.485c0 1.45.829 2.64 2.216 3.564l-.552 1.588 1.94-.929c.693.129 1.251.263 1.94.263.17.0.343-.005.515-.022a3.68 3.68.0 01-.172-1.104c0-2.302 2.081-4.171 4.715-4.171zM7.618 2.243c.417.0.693.263.693.66s-.276.66-.693.66c-.418.0-.835-.263-.835-.66.006-.398.423-.66.835-.66zm-3.88 1.319c-.417.0-.834-.263-.834-.66s.417-.66.834-.66c.418.0.695.263.695.66.0.392-.277.66-.695.66z" mask="url(#b)"/></g></g></svg><div class=hide-div><img src=/images/home/wechat.svg alt></div></a><a class=facebook-a href=https://www.facebook.com/kubesphere target=_blank aria-label=facebook></a><a class=twitter-a href=https://x.com/KubeSphere target=_blank aria-label=twitter rel="noopener noreferrer"></a><a class=linkedin-a href=https://www.linkedin.com/company/kubesphere/ target=_blank aria-label=linkedin rel="noopener noreferrer"></a><a class=youtube-a href=https://www.youtube.com/c/KubeSphere target=_blank aria-label=youtube rel="noopener noreferrer"></a><a class=slack-a href=https://join.slack.com/t/kubesphere/shared_invite/zt-2b4t6rdb4-ico_4UJzCln_S2c1pcrIpQ target=_blank aria-label=slack rel="noopener noreferrer"></a><a class=github-a href=https://github.com/kubesphere/kubesphere target=_blank aria-label=github rel="noopener noreferrer"></a><a class=medium-a href=https://itnext.io/@kubesphere target=_blank aria-label=medium rel="noopener noreferrer"></a></div><p class=p1></p></div></div></div><div class=cookie><div class=common-layout><p>Your privacy is important to us. We use cookies to remember subscription details, optimize site functionality, and deliver content tailored to your interests. To find out more, see our <a href=/privacy>privacy policy</a>.</p><button>
Accept and continue</button></div></div></footer><script>var lazyLoad=function(e,t){for(var n,o,i,s=0;s<t;s++){if(n=e.eq(s),o=n.attr("data-loaded"),o)continue;n.offset().top<parseInt($(window).height())+parseInt($(window).scrollTop())&&(i=n.attr("src"),n.attr("src",i),n.attr("data-loaded",!0))}},bindLayLoad=function(){var e=$("img"),t=e.length;lazyLoad(e,t),$(window).scroll(function(){lazyLoad(e,t)})},bindAddPadding=function(){var e=$("#close-join");e.length>0&&$(".main-section").addClass("padding")},docCookies={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t){return!!e&&!/^(?:expires|max-age|path|domain|secure)$/i.test(e)&&(document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t),!0)}},bindHideCookie=function(){var t=docCookies.getItem("hasAuth"),e=$(".cookie");t?e.hide():e.show(),e.find("button").on("click",function(){docCookies.setItem("hasAuth","1"),e.hide()})};bindAddPadding(),bindHideCookie()</script><script type=text/javascript src=/js/aside.2d6977c0f16aef4ed3e886dd66675ce74bd0efcd467c2b2bcdb30b92d5e7c7c0e5c6e0c9d8f09a883c22f58df9e6b0b6347fcdd3c9a920b7faba6d7f91a201c3.js integrity="sha512-LWl3wPFq707T6IbdZmdc50vQ781GfCsrzbMLktXnx8DlxuDJ2PCaiDwi9Y355rC2NH/N08mpILf6um1/kaIBww=="></script><script type=text/javascript src=/js/markdown-tab.17f9f46b021adebc7250ce1b07134a577b307e7a436daa4aaf388f218e8463966f53770b26a64817c06c168738a887672d47fb4c29615adfc446e11d09a344cf.js integrity="sha512-F/n0awIa3rxyUM4bBxNKV3swfnpDbapKrziPIY6EY5ZvU3cLJqZIF8BsFoc4qIdnLUf7TClhWt/ERuEdCaNEzw=="></script><script>let forbidForm=!1;var viewer=new Viewer(document.querySelector(".md-body"),{url:"src"}),blogBindSubmit=function(){var e=$("#email-input-blog");$("#email-submit-blog").click(function(t){t.stopPropagation();var s,o,n=e.val(),i=$("#message_blog").data("message1"),a=$("#message_blog").data("message2"),r=$("#message_blog").data("message3"),c=$("#message1_blog").data("success");if(n)if(validateEmail(n)){if(s=$("#blog_formAddress").data("usesendcloud"),!s)return;o=$("#blog_formAddress").data("actionaddress"),$.post({type:"post",url:o,data:{email:n.toString()},success:function(){showSuccessMessage_blog(c),setTimeout(function(){window.onscroll="",$(".SubscribeForm").hide(),$("#email-input-blog").val("")},5e3)},error:function(){showMessage_blog(r)}})}else t.preventDefault(),$("#message_blog").html(a).show();else t.preventDefault(),$("#message_blog").html(i).show()})},validateEmail=function(e){var t=/^[A-Za-z0-9]+([_.][A-Za-z0-9]+)*@([A-Za-z0-9-]+\.)+[A-Za-z]{2,6}$/;return t.test(e)},bindHideMessageBlog=function(){$(window).click(function(){$("#message_blog").hide()})},bindCloseBlog=function(){$(".SubscribeForm .close").click(function(e){e.stopPropagation(),$(".SubscribeForm").fadeOut(),window.onscroll=""})},showMessage_blog=function(e){$("#message_blog").html(e).show()},showSuccessMessage_blog=function(e){$("#message1_blog").html(e).show()};window.onscroll=()=>{var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.clientHeight||document.body.clientHeight,n=document.documentElement.scrollHeight||document.body.scrollHeight;forbidForm&&(window.onscroll=""),e+t>n-710?$(".SubscribeForm").hide():$(".SubscribeForm").show()},blogBindSubmit(),bindCloseBlog(),bindHideMessageBlog()</script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script></body></html>